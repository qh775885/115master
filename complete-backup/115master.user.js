// ==UserScript==
// @name         115Master 修改版
// @namespace    115Master-Modified
// @version      1.6.1-mod.0.0.1
// @author       原作者: cbingb666, 修改者: qh775885
// @description  115网盘魔法优化修改版: 画质增强 | 视频缩略图 | 在线字幕 | 画质选择记忆功能 (基于 cbingb666 原作品修改)
// @license      MIT
// @icon         https://115.com/favicon.ico
// @homepage     https://github.com/qh775885/115master
// @homepageURL  https://github.com/qh775885/115master
// @source       https://github.com/qh775885/115master.git
// @supportURL   https://github.com/qh775885/115master/issues
// @downloadURL  https://github.com/qh775885/115master/releases/latest/download/115master.user.js
// @updateURL    https://github.com/qh775885/115master/releases/latest/download/115master.meta.js
// @include      https://115.com/?ct*
// @include      https://115.com/web/lixian/master/video/*
// @include      https://115.com/web/lixian/master/magnet/*
// @include      https://115.com/?aid*
// @include      https://dl.115cdn.net/video/token
// @exclude      https://*.115.com/bridge*
// @exclude      https://*.115.com/static*
// @exclude      https://q.115.com/*
// @require      https://fastly.jsdelivr.net/npm/vue@3.5.13/dist/vue.global.prod.js
// @require      https://fastly.jsdelivr.net/npm/localforage@1.10.0/dist/localforage.min.js
// @require      https://fastly.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js
// @require      https://fastly.jsdelivr.net/npm/big-integer@1.6.52/BigInteger.min.js
// @require      data:application/javascript,%3Bwindow.bigInt%3DbigInt%3B
// @require      https://fastly.jsdelivr.net/npm/blueimp-md5@2.19.0/js/md5.min.js
// @require      https://fastly.jsdelivr.net/npm/dayjs@1.11.13/dayjs.min.js
// @require      data:application/javascript,%3Bwindow.dayjs%3Ddayjs%3B
// @require      https://fastly.jsdelivr.net/npm/hls.js@1.5.20/dist/hls.min.js
// @require      https://fastly.jsdelivr.net/npm/m3u8-parser@7.2.0/dist/m3u8-parser.min.js
// @require      https://fastly.jsdelivr.net/npm/photoswipe@5.4.4/dist/umd/photoswipe.umd.min.js
// @require      data:application/javascript,%3Bwindow.photoswipe%3DPhotoSwipe%3B
// @require      https://fastly.jsdelivr.net/npm/photoswipe@5.4.4/dist/umd/photoswipe-lightbox.umd.min.js
// @require      data:application/javascript,%3Bwindow.PhotoSwipeLightbox%3DPhotoSwipeLightbox%3B
// @require      https://cdn.jsdelivr.net/npm/systemjs@6.15.1/dist/system.min.js
// @require      https://cdn.jsdelivr.net/npm/systemjs@6.15.1/dist/extras/named-register.min.js
// @require      data:application/javascript,%3B(typeof%20System!%3D'undefined')%26%26(System%3Dnew%20System.constructor())%3B
// @resource     icon  https://115.com/favicon.ico
// @connect      115.com
// @connect      115vod.com
// @connect      aps.115.com
// @connect      webapi.115.com
// @connect      proapi.115.com
// @connect      cpats01.115.com
// @connect      dl.115cdn.net
// @connect      cdnfhnfile.115cdn.net
// @connect      v.anxia.com
// @connect      subtitlecat.com
// @connect      javbus.com
// @connect      javdb.com
// @connect      jdbstatic.com
// @connect      missav.ws
// @grant        GM_addStyle
// @grant        GM_cookie
// @grant        GM_getValue
// @grant        GM_info
// @grant        GM_notification
// @grant        GM_openInTab
// @grant        GM_setValue
// @grant        GM_xmlhttpRequest
// @grant        unsafeWindow
// @grant        window.close
// @run-at       document-start
/** ==/UserScript== */

((o) => { if (typeof GM_addStyle == 'function') { GM_addStyle(o); return } const t = document.createElement('style'); t.textContent = o, document.head.append(t) })(' /*! PhotoSwipe main CSS by Dmytro Semenov | photoswipe.com */.pswp{--pswp-bg: #000;--pswp-placeholder-bg: #222;--pswp-root-z-index: 100000;--pswp-preloader-color: rgba(79, 79, 79, .4);--pswp-preloader-color-secondary: rgba(255, 255, 255, .9);--pswp-icon-color: #fff;--pswp-icon-color-secondary: #4f4f4f;--pswp-icon-stroke-color: #4f4f4f;--pswp-icon-stroke-width: 2px;--pswp-error-text-color: var(--pswp-icon-color)}.pswp{position:fixed;top:0;left:0;width:100%;height:100%;z-index:var(--pswp-root-z-index);display:none;touch-action:none;outline:0;opacity:.003;contain:layout style size;-webkit-tap-highlight-color:rgba(0,0,0,0)}.pswp:focus{outline:0}.pswp *{box-sizing:border-box}.pswp img{max-width:none}.pswp--open{display:block}.pswp,.pswp__bg{transform:translateZ(0);will-change:opacity}.pswp__bg{opacity:.005;background:var(--pswp-bg)}.pswp,.pswp__scroll-wrap{overflow:hidden}.pswp__scroll-wrap,.pswp__bg,.pswp__container,.pswp__item,.pswp__content,.pswp__img,.pswp__zoom-wrap{position:absolute;top:0;left:0;width:100%;height:100%}.pswp__img,.pswp__zoom-wrap{width:auto;height:auto}.pswp--click-to-zoom.pswp--zoom-allowed .pswp__img{cursor:-webkit-zoom-in;cursor:-moz-zoom-in;cursor:zoom-in}.pswp--click-to-zoom.pswp--zoomed-in .pswp__img{cursor:move;cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.pswp--click-to-zoom.pswp--zoomed-in .pswp__img:active{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.pswp--no-mouse-drag.pswp--zoomed-in .pswp__img,.pswp--no-mouse-drag.pswp--zoomed-in .pswp__img:active,.pswp__img{cursor:-webkit-zoom-out;cursor:-moz-zoom-out;cursor:zoom-out}.pswp__container,.pswp__img,.pswp__button,.pswp__counter{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pswp__item{z-index:1;overflow:hidden}.pswp__hidden{display:none!important}.pswp__content{pointer-events:none}.pswp__content>*{pointer-events:auto}.pswp__error-msg-container{display:grid}.pswp__error-msg{margin:auto;font-size:1em;line-height:1;color:var(--pswp-error-text-color)}.pswp .pswp__hide-on-close{opacity:.005;will-change:opacity;transition:opacity var(--pswp-transition-duration) cubic-bezier(.4,0,.22,1);z-index:10;pointer-events:none}.pswp--ui-visible .pswp__hide-on-close{opacity:1;pointer-events:auto}.pswp__button{position:relative;display:block;width:50px;height:60px;padding:0;margin:0;overflow:hidden;cursor:pointer;background:none;border:0;box-shadow:none;opacity:.85;-webkit-appearance:none;-webkit-touch-callout:none}.pswp__button:hover,.pswp__button:active,.pswp__button:focus{transition:none;padding:0;background:none;border:0;box-shadow:none;opacity:1}.pswp__button:disabled{opacity:.3;cursor:auto}.pswp__icn{fill:var(--pswp-icon-color);color:var(--pswp-icon-color-secondary)}.pswp__icn{position:absolute;top:14px;left:9px;width:32px;height:32px;overflow:hidden;pointer-events:none}.pswp__icn-shadow{stroke:var(--pswp-icon-stroke-color);stroke-width:var(--pswp-icon-stroke-width);fill:none}.pswp__icn:focus{outline:0}div.pswp__img--placeholder,.pswp__img--with-bg{background:var(--pswp-placeholder-bg)}.pswp__top-bar{position:absolute;left:0;top:0;width:100%;height:60px;display:flex;flex-direction:row;justify-content:flex-end;z-index:10;pointer-events:none!important}.pswp__top-bar>*{pointer-events:auto;will-change:opacity}.pswp__button--close{margin-right:6px}.pswp__button--arrow{position:absolute;width:75px;height:100px;top:50%;margin-top:-50px}.pswp__button--arrow:disabled{display:none;cursor:default}.pswp__button--arrow .pswp__icn{top:50%;margin-top:-30px;width:60px;height:60px;background:none;border-radius:0}.pswp--one-slide .pswp__button--arrow{display:none}.pswp--touch .pswp__button--arrow{visibility:hidden}.pswp--has_mouse .pswp__button--arrow{visibility:visible}.pswp__button--arrow--prev{right:auto;left:0}.pswp__button--arrow--next{right:0}.pswp__button--arrow--next .pswp__icn{left:auto;right:14px;transform:scaleX(-1)}.pswp__button--zoom{display:none}.pswp--zoom-allowed .pswp__button--zoom{display:block}.pswp--zoomed-in .pswp__zoom-icn-bar-v{display:none}.pswp__preloader{position:relative;overflow:hidden;width:50px;height:60px;margin-right:auto}.pswp__preloader .pswp__icn{opacity:0;transition:opacity .2s linear;animation:pswp-clockwise .6s linear infinite}.pswp__preloader--active .pswp__icn{opacity:.85}@keyframes pswp-clockwise{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.pswp__counter{height:30px;margin-top:15px;margin-inline-start:20px;font-size:14px;line-height:30px;color:var(--pswp-icon-color);text-shadow:1px 1px 3px var(--pswp-icon-color-secondary);opacity:.85}.pswp--one-slide .pswp__counter{display:none}.list-contents li.with-ext-info{height:auto!important;padding-bottom:12px;flex-wrap:wrap;align-content:flex-start}.list-contents li.with-ext-info .ext-info-root{width:100%;position:relative;display:flex}.list-contents li.with-actress-info{height:auto!important}.list-contents li.with-actress-info .file-type{top:50%;transform:translateY(-50%);transition:none}.list-contents li.with-actress-info .file-name-wrap{display:flex;align-items:center;flex-direction:row;justify-content:flex-start;height:auto!important;padding-top:12px;padding-bottom:12px}.list-contents li.with-actress-info .file-name-wrap .actress-info-img{width:50px;height:50px;border-radius:50%;object-fit:cover;margin-right:12px;border:3px solid #f1f1f1;box-shadow:0 0 5px #0000001a;background-color:#f1f1f1}.list-contents li.with-ext-video-cover{height:auto!important;flex-wrap:wrap;align-content:flex-start;padding-top:0;padding-bottom:12px}.list-contents li.with-ext-video-cover:first-child{padding-top:16px}.list-contents li.with-ext-video-cover .file-name-wrap{margin-bottom:0}.list-contents li.with-ext-video-cover .ext-video-cover-root{width:100%;height:100%;position:relative;display:flex;padding-left:83px}.master-back-button{display:inline-flex;align-items:center;text-align:center;padding:4px 13px;font-size:12px;border-radius:4px;margin:auto 9px auto -6px;background-color:#f2f4f8;color:#666;vertical-align:middle;flex-shrink:0}.master-back-button:hover{background-color:color-mix(in srgb,var(--official-theme) 10%,transparent 0%);color:var(--office-theme)}.master-back-button:active{background-color:color-mix(in srgb,var(--official-theme) 15%,transparent 0%)}.master-back-button iconify-icon{margin-right:4px;font-size:14px}.master-preview-switch-btn{display:flex;align-items:center;justify-content:center;gap:4px;padding:0;aspect-ratio:1;border-radius:50%}.master-preview-switch-btn iconify-icon{font-size:20px}.master-preview-switch-btn .preview-off{display:block}.master-preview-switch-btn .preview-on{display:none}.master-preview-switch-btn.active .preview-on{display:block;color:var(--official-theme)}.master-preview-switch-btn.active .preview-off{display:none}:root{--official-theme: #2777f8}.user-agent-popup-overlay[data-v-c7814357]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#0009;display:flex;justify-content:center;align-items:center;z-index:10000;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.popup-main[data-v-c7814357]{padding:0 24px 24px}.user-agent-popup[data-v-c7814357]{background-color:#fff;border-radius:12px;box-shadow:0 10px 30px #0003;width:550px;max-width:90vw;max-height:90vh;overflow:auto;animation:popup-fade-in-c7814357 .3s cubic-bezier(.16,1,.3,1)}.user-agent-popup-header[data-v-c7814357]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #eaeaea}.user-agent-popup-header h3[data-v-c7814357]{margin:0;font-size:18px;font-weight:600;color:#333}.close-button[data-v-c7814357]{background:none;border:none;font-size:24px;cursor:pointer;color:#999;padding:0;line-height:1;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.close-button[data-v-c7814357]:hover{color:#333;background-color:#f5f5f5}.popup-content[data-v-c7814357]{margin:24px 0;display:flex;align-items:flex-start;background-color:#f9f9f9;border-radius:8px;padding:16px}.content-icon[data-v-c7814357]{margin-right:16px;color:#2196f3;flex-shrink:0}.number-icon[data-v-c7814357]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background-color:#2196f3;color:#fff;border-radius:50%;font-size:14px;font-weight:600}.content-text[data-v-c7814357]{flex:1}.content-text p[data-v-c7814357]{line-height:1.6;margin:0 0 8px;color:#444}.content-text p[data-v-c7814357]:last-child{margin-bottom:0}.popup-desc[data-v-c7814357]{font-size:14px;color:#666;text-align:center;margin-top:24px}.popup-desc p[data-v-c7814357]{margin:0 0 8px;font-weight:500}.user-agent-box[data-v-c7814357]{background-color:#f5f5f5;border-radius:6px;padding:12px;font-size:12px;color:#666;word-break:break-all;text-align:left;font-family:monospace;border:1px solid #eaeaea}a[data-v-c7814357]{color:#2196f3;text-decoration:none;font-weight:500;transition:color .2s}a[data-v-c7814357]:hover{color:#0d6efd;text-decoration:underline}@keyframes popup-fade-in-c7814357{0%{opacity:0;transform:translateY(30px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.x-popup[data-v-96fb7906]>*{position:relative;z-index:1}@keyframes loading-bounce-390257ac{0%,80%,to{transform:scale(0);opacity:.3}40%{transform:scale(1);opacity:1}}.loading-dot-bounce[data-v-390257ac]{animation:loading-bounce-390257ac 1.4s infinite ease-in-out both}.loading-dot-delay-1[data-v-390257ac]{animation-delay:-.32s}.loading-dot-delay-2[data-v-390257ac]{animation-delay:-.16s}.loading-dot-delay-3[data-v-390257ac]{animation-delay:0s}@keyframes fadeOut{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(1.4)}} ')

System.addImportMap({ imports: { 'vue': 'user:vue', 'lodash': 'user:lodash', 'localforage': 'user:localforage', 'blueimp-md5': 'user:blueimp-md5', 'big-integer': 'user:big-integer', 'photoswipe/lightbox': 'user:photoswipe/lightbox', 'photoswipe': 'user:photoswipe', 'dayjs': 'user:dayjs', 'm3u8-parser': 'user:m3u8-parser', 'hls.js': 'user:hls.js' } })
System.set('user:vue', (() => { const _ = Vue; ('default' in _) || (_.default = _); return _ })())
System.set('user:lodash', (() => { const _1 = _; ('default' in _1) || (_1.default = _1); return _1 })())
System.set('user:localforage', (() => { const _ = localforage; ('default' in _) || (_.default = _); return _ })())
System.set('user:blueimp-md5', (() => { const _ = md5; ('default' in _) || (_.default = _); return _ })())
System.set('user:big-integer', (() => { const _ = bigInt; ('default' in _) || (_.default = _); return _ })())
System.set('user:photoswipe/lightbox', (() => { const _ = PhotoSwipeLightbox; ('default' in _) || (_.default = _); return _ })())
System.set('user:photoswipe', (() => { const _ = photoswipe; ('default' in _) || (_.default = _); return _ })())
System.set('user:dayjs', (() => { const _ = dayjs; ('default' in _) || (_.default = _); return _ })())
System.set('user:m3u8-parser', (() => { const _ = m3u8Parser; ('default' in _) || (_.default = _); return _ })())
System.set('user:hls.js', (() => { const _ = Hls; ('default' in _) || (_.default = _); return _ })())

System.register('./__entry.js', ['./__monkey.entry-DGdGATqE.js'], (exports, module) => {
  'use strict'
  return {
    setters: [null],
    execute() {

    },
  }
})

System.register('./__monkey.entry-DGdGATqE.js', ['localforage', 'lodash', 'blueimp-md5', 'big-integer', 'vue', 'dayjs', 'photoswipe/lightbox', 'm3u8-parser'], (exports, module) => {
  'use strict'
  let ft, merge, defer, throttle, Qo, et, defineComponent, ref, shallowRef, onMounted, watch, onUnmounted, computed, openBlock, createElementBlock, normalizeClass, createBlock, unref, createCommentVNode, createElementVNode, toDisplayString, renderSlot, createVNode, createTextVNode, mergeProps, Fragment, renderList, nextTick, onBeforeUnmount, withModifiers, Teleport, toValue, h, reactive, createApp, getCurrentScope, onScopeDispose, readonly, defineAsyncComponent, isRef, getCurrentInstance, toRef, customRef, toRaw, Ke, oa, Parser
  return {
    setters: [(module) => {
      ft = module.default
    }, (module) => {
      merge = module.merge
      defer = module.defer
      throttle = module.throttle
    }, (module) => {
      Qo = module.default
    }, (module) => {
      et = module.default
    }, (module) => {
      defineComponent = module.defineComponent
      ref = module.ref
      shallowRef = module.shallowRef
      onMounted = module.onMounted
      watch = module.watch
      onUnmounted = module.onUnmounted
      computed = module.computed
      openBlock = module.openBlock
      createElementBlock = module.createElementBlock
      normalizeClass = module.normalizeClass
      createBlock = module.createBlock
      unref = module.unref
      createCommentVNode = module.createCommentVNode
      createElementVNode = module.createElementVNode
      toDisplayString = module.toDisplayString
      renderSlot = module.renderSlot
      createVNode = module.createVNode
      createTextVNode = module.createTextVNode
      mergeProps = module.mergeProps
      Fragment = module.Fragment
      renderList = module.renderList
      nextTick = module.nextTick
      onBeforeUnmount = module.onBeforeUnmount
      withModifiers = module.withModifiers
      Teleport = module.Teleport
      toValue = module.toValue
      h = module.h
      reactive = module.reactive
      createApp = module.createApp
      getCurrentScope = module.getCurrentScope
      onScopeDispose = module.onScopeDispose
      readonly = module.readonly
      defineAsyncComponent = module.defineAsyncComponent
      isRef = module.isRef
      getCurrentInstance = module.getCurrentInstance
      toRef = module.toRef
      customRef = module.customRef
      toRaw = module.toRaw
    }, (module) => {
      Ke = module.default
    }, (module) => {
      oa = module.default
    }, (module) => {
      Parser = module.Parser
    }],
    execute() {
      exports({
        $: $d,
        A: Ai,
        B: J,
        C: Bd,
        E: _i,
        F: Fd,
        H: Hd,
        J: Jd,
        L: Li,
        M: Mn,
        S: Cd,
        U: Ud,
        W: Wd,
        X: Xd,
        a1: Rd,
        a2: Md,
        a3: Nd,
        b: qc,
        c: qd,
        e: el,
        g: qn,
        j: Wr,
        k: jd,
        p: Dd,
        q: qi,
        t: tl,
        u: jn,
        w: La,
        y: yl,
        z: zd,
      })

      const qo = Object.defineProperty; const Vo = (r, e, t) => e in r ? qo(r, e, { enumerable: true, configurable: true, writable: true, value: t }) : r[e] = t; const A = (r, e, t) => Vo(r, typeof e != 'symbol' ? `${e}` : e, t); function Mn(r) { return r && r.__esModule && Object.prototype.hasOwnProperty.call(r, 'default') ? r.default : r } let Lt, Sr; function ia() {
        return Sr || (Sr = 1, Lt = function (r, e) {
          if (typeof r != 'string')
            throw new TypeError('Expected a string'); for (var t = String(r), n = '', o = e ? !!e.extended : false, a = e ? !!e.globstar : false, i = false, s = e && typeof e.flags == 'string' ? e.flags : '', l, c = 0, u = t.length; c < u; c++) {
            switch (l = t[c], l) {
              case '/':case '$':case '^':case '+':case '.':case '(':case ')':case '=':case '!':case '|':n += `\\${l}`; break; case '?':if (o) { n += '.'; break } case '[':case ']':if (o) { n += l; break } case '{':if (o) { i = true, n += '('; break } case '}':if (o) { i = false, n += ')'; break } case ',':if (i) { n += '|'; break }n += `\\${l}`; break; case '*':for (var d = t[c - 1], p = 1; t[c + 1] === '*';)p++, c++; var h = t[c + 1]; if (!a) {
                n += '.*'
              }
              else { const b = p > 1 && (d === '/' || d === undefined) && (h === '/' || h === undefined); b ? (n += '((?:[^/]*(?:/|$))*)', c++) : n += '([^/]*)' } break; default:n += l
            }
          } return (!s || !~s.indexOf('g')) && (n = `^${n}$`), new RegExp(n, s)
        }), Lt
      } const sa = ia(); const la = Mn(sa); const $e = '115.com'; const ca = 'webapi.115.com'; const ua = 'proapi.115.com'; const da = '115vod.com'; const pa = 'aps.115.com'; const Dn = 'dl.115cdn.net'; const st = `https://${$e}`; const ha = `https://${ca}`; const fa = `https://${ua}`; const dr = `https://${da}`; const ma = `https://${pa}`; const tt = `https://${Dn}`; const rt = { HOME: `*://${$e}/?*`, VIDEO: `*://${$e}/web/lixian/master/video/*`, MAGNET: `*://${$e}/web/lixian/master/magnet/*`, VIDEO_TOKEN: `*://${Dn}/video/token` }; function Ir(r) { const e = top.window.document.querySelector('#js_offline_new_add'); e && (e.value = r ?? '') } function Rn(r) { top.window.Core.OFFL5Plug ? (top.Core.OFFL5Plug.OpenLink(), Ir(r)) : top.$.getScript(__uri('//cdnres.115.com/site/static/plug/offline_wl/offline5.0.js'), () => { top.Core.OFFL5Plug.AddClient({}), top.window.Core.OFFL5Plug.OpenLink(), Ir(r) }) } const pr = 'magnetTask'; function ba(r) { sessionStorage.setItem(pr, r) } function ga() { return sessionStorage.getItem(pr) } function wa() { sessionStorage.removeItem(pr) } function va() { const r = ga(); r && (Rn(r), wa()) } function ya() { navigator.registerProtocolHandler('magnet', '/web/lixian/master/magnet/?url=%s') } function xa() { window.history.length > 1 ? window.history.back() : window.close() } function ka() {
        const e = new URL(window.location.href).searchParams.get('url'); if (!e)
          return; ba(e), window.open('https://115.com/?cid=0&offset=0&mode=wangpan', '_blank', 'width=1280,height=860') ? xa() : alert('请设置允许弹出窗口并刷新页面，否则无法打开离线任务页面')
      } class hr {} class _a {constructor(e) { Object.defineProperty(this, 'mods', { enumerable: true, configurable: true, writable: true, value: [] }), this.mods = e }register(e) { this.mods.push(e) }destroy() { this.mods.forEach((e) => { e.destroy() }) }} const Aa = typeof GM_addStyle < 'u' ? GM_addStyle : undefined; const Ea = typeof GM_cookie < 'u' ? GM_cookie : undefined; const Ca = typeof GM_getValue < 'u' ? GM_getValue : undefined; const xe = typeof GM_info < 'u' ? GM_info : undefined; const Nt = typeof GM_notification < 'u' ? GM_notification : undefined; const At = typeof GM_openInTab < 'u' ? GM_openInTab : undefined; const Un = typeof GM_setValue < 'u' ? GM_setValue : undefined; const Sa = typeof GM_xmlhttpRequest < 'u' ? GM_xmlhttpRequest : undefined; const mt = typeof unsafeWindow < 'u' ? unsafeWindow : undefined; exports({ x: xe, a5: mt }); const Ia = { PLAYING_VIDEO_INFO: 'playingVideoInfo' }; function jn(r, e = false) { Un(Ia.PLAYING_VIDEO_INFO, r); const t = new URLSearchParams({ cid: r.cid || '', pick_code: r.pickCode }); const n = `https://${$e}/web/lixian/master/video/?${t.toString()}`; if (e) { At(n, { active: true }); return }history.pushState({}, '', n) } function Pa() { return (top == null ? undefined : top.window.performance.navigation.type) === (top == null ? undefined : top.window.performance.navigation.TYPE_RELOAD) } let Ht; (function (r) { r.folder = '0', r.file = '1' })(Ht || (Ht = {})); let fe; (function (r) { r.Yes = '1' })(fe || (fe = {})); let ge; (function (r) { r.list = 'list', r.grid = 'grid' })(ge || (ge = {})); const Ta = undefined; const Oa = 'https://fastly.jsdelivr.net'; const Bn = { UNKNOWN_ERROR: '未知错误', CANNOT_VIDEO_COVER_WITHOUT_TRANSCODING: '视频未转码，无法获取封面' }; exports({ T: Ta, a4: Oa, N: Bn }); function La(r) {
        const t = r.replace(/^\[?(\w+\.)+[A-Z]+\]?@?/gi, '').replace(/\.\w+$/, '').replace(/[\u4E00-\u9FA5]/g, '').replace(/[\u3040-\u309F\u30A0-\u30FF]/g, '').replace(/BDRIP|HDR/gi, '').replace(/@\w+@/, '').replace(/share_\w{32}/, ''); const n = [{ name: 'FC2系列', pattern: /fc2\D*(\d{6,7})/i, format: o => `FC2-PPV-${o[1]}` }, { name: 'HEYZO系列', pattern: /heyzo\D*(\d{4})/i, format: o => `HEYZO-${o[1]}` }, { name: '麻豆系列', pattern: /(mdx|mky|md)\D*(\d{3,4})/i, format: (o) => { const a = o[1].toUpperCase(); const i = t.toLowerCase().includes('ns'); return `${a}${i ? '-NS' : ''}-${o[2]}` } }, { name: '一本道系列 or Pacopacomama or 10musume系列', pattern: /(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])(\d{2})([\s|_]*)(\d{2,3})/, format: o => o[0].replace(/\s|_/g, '_') }, { name: 'Heydouga系列', pattern: /heydouga[\s|-](\d{4})[\s|-]*(\d{3,4})/i, format: o => `${o[1]}-${o[2]}` }, { name: '加勒比系列', pattern: /(?:carib|caribbean)\D*(\d{3})\D*(\d{3})/i, format: o => `CARIB-${o[1]}-${o[2]}` }, { name: '东京热系列', pattern: /tokyo\D*hot\D*([a-z])(\d{4})/i, format: o => `TOKYO-HOT-${o[1].toUpperCase()}${o[2]}` }, { name: '特殊格式：字母数字混合', pattern: /([a-z]+\d{1,2})-(\d{3})/i, format: o => `${o[1].toUpperCase()}-${o[2]}` }, { name: '标准格式：字母-数字', pattern: /(?:^|[^a-z])([a-z]{2,5})-?(\d{2,5})(?:c|-c)?(?:[^a-z]|$)/i, format: o => `${o[1].toUpperCase()}-${o[2]}` }]; for (const { pattern: o, format: a } of n) {
          const i = t.match(o); if (i)
            return a(i)
        } return null
      } function Cd(r, e, t) { const n = r - r % e + e / 2; return Math.max(0, Math.min(n, t)) } function Na(r) {
        if (!r)
          return 0; const [e = 0, t = 0, n = 0] = r.split(':').map(Number).reverse(); return n * 3600 + t * 60 + e
      } class Ma {constructor(e, t, n, o) { Object.defineProperty(this, 'itemNode', { enumerable: true, configurable: true, writable: true, value: e }), Object.defineProperty(this, 'fileListType', { enumerable: true, configurable: true, writable: true, value: t }), Object.defineProperty(this, 'listScrollBoxNode', { enumerable: true, configurable: true, writable: true, value: n }), Object.defineProperty(this, 'mods', { enumerable: true, configurable: true, writable: true, value: o }), Object.defineProperty(this, 'loadedMods', { enumerable: true, configurable: true, writable: true, value: [] }) } get attributes() { return Object.fromEntries(Array.from(this.itemNode.attributes).map(e => [e.name, e.value])) } get avNumber() { return La(this.attributes.title) } get durationNode() { return this.itemNode.querySelector('.duration') ?? null } get duration() { let e; return Na(((e = this.durationNode) == null ? undefined : e.getAttribute('duration')) ?? '') } get itemInfo() { return { avNumber: this.avNumber, attributes: this.attributes, fileListType: this.fileListType, duration: this.duration, listScrollBoxNode: this.listScrollBoxNode } } async load() { this.mods.forEach((e) => { const t = new e(this.itemNode, this.itemInfo); t.IS_PLUS || (t.load(), this.loadedMods.push(t)) }) }destroy() { this.loadedMods.forEach((e) => { e.destroy() }) }} const fr = '115master_cache'; const Da = 0.8; const Ra = 10; const Ua = 'meta'; class ja {
        constructor(e = fr, t = 'cache') { Object.defineProperty(this, 'storage', { enumerable: true, configurable: true, writable: true, value: undefined }), Object.defineProperty(this, 'name', { enumerable: true, configurable: true, writable: true, value: undefined }), Object.defineProperty(this, 'storeName', { enumerable: true, configurable: true, writable: true, value: undefined }), this.name = e, this.storeName = t, this.storage = ft.createInstance({ name: this.name, storeName: Ua, version: 1, description: '缓存元数据', driver: ft.INDEXEDDB }) } async updateMeta(e, t, n, o) {
          try { const a = this.generateFullKey(e); const i = Date.now(); const s = await this.getMeta(e); const l = { key: e, fullKey: a, storeName: this.storeName, lastAccessed: i, createdAt: n ?? (s == null ? void 0 : s.createdAt) ?? i, updatedAt: o ?? i }; t !== void 0 ? l.size = t : (s == null ? void 0 : s.size) !== void 0 && (l.size = s.size), await this.storage.setItem(a, l) }
          catch (a) { console.error('更新缓存元数据失败:', a) }
        }

        async getMeta(e) { const t = this.generateFullKey(e); return await this.storage.getItem(t) } async removeMeta(e) { const t = this.generateFullKey(e); await this.storage.removeItem(t) } async getAllMeta() { const e = []; return await this.storage.iterate((t) => { t.storeName === this.storeName && e.push(t) }), e } async getSortedByLastAccessed(e = true) { return (await this.getAllMeta()).sort((n, o) => e ? n.lastAccessed - o.lastAccessed : o.lastAccessed - n.lastAccessed) } async clear() { const e = await this.getAllMeta(); for (const t of e) await this.storage.removeItem(t.fullKey) } async getCreatedAt(e) { const t = await this.getMeta(e); return t == null ? undefined : t.createdAt } async getUpdatedAt(e) { const t = await this.getMeta(e); return t == null ? undefined : t.updatedAt } async getSortedByCreatedAt(e = true) { return (await this.getAllMeta()).sort((n, o) => e ? n.createdAt - o.createdAt : o.createdAt - n.createdAt) } async getSortedByUpdatedAt(e = true) { return (await this.getAllMeta()).sort((n, o) => e ? n.updatedAt - o.updatedAt : o.updatedAt - n.updatedAt) }generateFullKey(e) { return `${this.storeName}:${e}` }
      } class Ba {
        constructor(e, t, n) { Object.defineProperty(this, 'metaStore', { enumerable: true, configurable: true, writable: true, value: undefined }), Object.defineProperty(this, 'cacheInstance', { enumerable: true, configurable: true, writable: true, value: undefined }), this.cacheInstance = e, this.metaStore = new ja(t, n) } async getStorageUsage() { let e; if ((e = navigator.storage) != null && e.estimate) { const t = await navigator.storage.estimate(); const n = t.usage || 0; const o = t.quota || 0; const a = o > 0 ? n / o : 0; return { usage: n, quota: o, usageRatio: a } } return { usage: 0, quota: 0, usageRatio: 0 } } async shouldCleanup() { const { usageRatio: e } = await this.getStorageUsage(); return e > Da } async cleanup(e = Ra) {
          if (!await this.shouldCleanup())
            return []; const n = await this.metaStore.getSortedByLastAccessed(true); if (n.length === 0)
            return []; const o = n.slice(0, e); const a = []; for (const i of o) {
            try { await this.cacheInstance.remove(i.key), await this.metaStore.removeMeta(i.key), a.push(i.key) }
            catch (s) { console.error(`清理缓存项 ${i.key} 失败:`, s) }
          } return console.warn(`已清理 ${a.length} 个旧缓存项`), a
        }

        async recordAccess(e, t, n, o) { await this.metaStore.updateMeta(e, t, n, o) } async recordRemoval(e) { await this.metaStore.removeMeta(e) } async clearAllMeta() { await this.metaStore.clear() } async autoCleanup() { return await this.shouldCleanup() ? (await this.cleanup()).length > 0 : false }
      } class ve {
        constructor(e = {}) { Object.defineProperty(this, 'storage', { enumerable: true, configurable: true, writable: true, value: undefined }), Object.defineProperty(this, 'quotaManager', { enumerable: true, configurable: true, writable: true, value: undefined }), Object.defineProperty(this, 'enableQuotaManagement', { enumerable: true, configurable: true, writable: true, value: undefined }), Object.defineProperty(this, 'name', { enumerable: true, configurable: true, writable: true, value: undefined }), Object.defineProperty(this, 'storeName', { enumerable: true, configurable: true, writable: true, value: undefined }); const { enableQuotaManagement: t = true, ...n } = e; this.name = n.name || fr, this.storeName = n.storeName || 'cache', this.storage = ft.createInstance({ name: this.name, storeName: this.storeName, version: 1, description: 'cache', driver: ft.INDEXEDDB, ...n }), this.enableQuotaManagement = t, this.quotaManager = new Ba(this, this.name, this.storeName) } async get(e) { const t = await this.storage.getItem(e); return t && this.enableQuotaManagement && await this.quotaManager.recordAccess(e, t.size), t } async set(e, t) {
          try { let n; this.enableQuotaManagement && (n = this.estimateSize(t, e)); const o = Date.now(); const a = await this.storage.getItem(e); const i = { value: t, ...n !== void 0 ? { size: n } : {}, createdAt: (a == null ? void 0 : a.createdAt) || o, updatedAt: o }; await this.storage.setItem(e, i), this.enableQuotaManagement && (await this.quotaManager.recordAccess(e, n, i.createdAt, i.updatedAt), await this.quotaManager.autoCleanup()) }
          catch (n) { n instanceof DOMException && n.name === 'QuotaExceededError' ? (console.error('缓存失败: 超出配额'), this.enableQuotaManagement && (await this.quotaManager.cleanup()).length > 0 && await this.set(e, t)) : console.error('缓存失败:', n) }
        }

        async remove(e) { await this.storage.removeItem(e), this.enableQuotaManagement && await this.quotaManager.recordRemoval(e) } async clear() { await this.storage.clear(), this.enableQuotaManagement && await this.quotaManager.clearAllMeta() }getQuotaManager() { return this.quotaManager } async getCreatedAt(e) { const t = await this.storage.getItem(e); return t == null ? undefined : t.createdAt } async getUpdatedAt(e) { const t = await this.storage.getItem(e); return t == null ? undefined : t.updatedAt } async getAge(e) {
          const t = await this.getCreatedAt(e); if (t !== undefined)
            return Date.now() - t
        }

        async getFreshness(e) {
          const t = await this.getUpdatedAt(e); if (t !== undefined)
            return Date.now() - t
        }

        estimateSize(e, t) {
          try {
            if (e instanceof Blob)
              return e.size; if (Array.isArray(e) && e.length > 0 && e[0] instanceof Blob)
              return e.reduce((o, a) => a instanceof Blob ? o + a.size : o, 0); const n = JSON.stringify(e); return new Blob([n]).size
          }
          catch (n) { console.warn(`无法估算缓存项 ${t} 的大小:`, n) }
        }
      } const za = 'actress_face_json_cache'; class $a extends ve {constructor() { super({ storeName: za }) } async getActressData() { const e = await this.get('actress_data'); return e ? e.value : null } async saveActressData(e, t) { await this.set('actress_data', { imageMap: e, timestamp: t }) } async getLastUpdateTime() { const e = await this.getActressData(); return e ? e.timestamp : -1 }} const Mt = new $a(); const zn = `${Oa}/gh/gfriends/gfriends@latest`; const Fa = `${zn}/Filetree.json`; class ke {
        constructor() { Object.defineProperty(this, 'imageMap', { enumerable: true, configurable: true, writable: true, value: undefined }), Object.defineProperty(this, 'lastUpdateTime', { enumerable: true, configurable: true, writable: true, value: -1 }), Object.defineProperty(this, 'updateTimer', { enumerable: true, configurable: true, writable: true, value: undefined }), Object.defineProperty(this, 'initPromise', { enumerable: true, configurable: true, writable: true, value: null }), Object.defineProperty(this, 'isInit', { enumerable: true, configurable: true, writable: true, value: false }), this.imageMap = new Map(), this.updateTimer = null } async init() { if (this.isInit) { await this.initPromise; return } this.isInit = true; const e = new Promise(async (t) => { this.lastUpdateTime = await Mt.getLastUpdateTime(), await this.loadFromCache(), await this.checkUpdate() && await this.updateDB(), t(this) }); this.initPromise = e, await e } async updateDB() {
          try {
            Nt('️正在更新头像数据库...'); const e = await fetch(ke.API_URL); if (!e.ok)
              throw new Error(e.status.toString()); const t = await e.json(); await this.processAndSaveData(t), Nt('✅ 头像数据库更新完成')
          }
          catch (e) { throw Nt(`❌ 更新头像数据库失败 ${e instanceof Error ? e.message : '未知错误'}`), console.error('更新头像数据库失败:', e), e }
        }

        async checkUpdate() { return Date.now() - this.lastUpdateTime >= ke.CACHE_DURATION } async findActress(e) {
          await this.initPromise; const t = this.imageMap.get(e); if (!t)
            return; const n = t[0]; return { ...n, url: `${zn}/Content/${n.folder}/${n.filename}` }
        }

        getAllActresses() { return this.imageMap }destroy() { this.updateTimer && (window.clearInterval(this.updateTimer), this.updateTimer = null) } async loadFromCache() {
          try { const e = await Mt.getActressData(); return e && Date.now() - e.timestamp < ke.CACHE_DURATION ? (this.imageMap = new Map(e.imageMap), this.lastUpdateTime = e.timestamp, !0) : !1 }
          catch (e) { return console.error('从缓存加载数据失败:', e), false }
        }

        async processAndSaveData(e) { const t = new Map(); Object.entries(e.Content).forEach(([n, o]) => { Object.entries(o).forEach(([a, i]) => { const [,s] = i.split('?t='); const l = parseInt(s, 10); const c = a.replace('.jpg', ''); const u = { folder: n, filename: i, timestamp: l }; const d = t.get(c); d && (d == null ? undefined : d.length) > 0 ? (d.push(u), t.set(c, d)) : t.set(c, [u]) }) }), this.imageMap = t, this.lastUpdateTime = Date.now(), await Promise.all([Mt.saveActressData(Array.from(t.entries()), this.lastUpdateTime)]) }
      }Object.defineProperty(ke, 'CACHE_DURATION', { enumerable: true, configurable: true, writable: true, value: 864e5 }); Object.defineProperty(ke, 'API_URL', { enumerable: true, configurable: true, writable: true, value: Fa }); const Pr = new ke(); class Ha {
        constructor(e = 'gm-request-cache', t = 36e5) { Object.defineProperty(this, 'cache', { enumerable: true, configurable: true, writable: true, value: undefined }), Object.defineProperty(this, 'defaultCacheTime', { enumerable: true, configurable: true, writable: true, value: undefined }), this.cache = new ve({ name: fr, storeName: e, enableQuotaManagement: true }), this.defaultCacheTime = t } async get(e, t = {}) {
          const n = this.generateCacheKey(e, t); const o = await this.cache.get(n); if (!o)
            return null; const { serializedResponse: a, timestamp: i } = o.value; const s = t.cacheTime || this.defaultCacheTime; return Date.now() - i > s ? (await this.cache.remove(n), null) : this.deserializeResponse(a)
        }

        async set(e, t, n = {}) {
          if ((n.cacheStatus || [200]).includes(t.status)) {
            try { const a = this.generateCacheKey(e, n); const { serialized: i } = await this.serializeResponse(t); await this.cache.set(a, { serializedResponse: i, timestamp: Date.now(), url: e }) }
            catch (a) { console.error('缓存响应失败:', a) }
          }
        }

        async remove(e, t = {}) { const n = this.generateCacheKey(e, t); await this.cache.remove(n) } async clear() { await this.cache.clear() }getCacheCore() { return this.cache }generateCacheKey(e, t = {}) {
          let o = `${t.method || 'GET'}:${e}`; if (t.params) { const a = JSON.stringify(t.params); o += `:params:${a}` } if (t.body) {
            try { const a = typeof t.body == 'string' ? t.body : JSON.stringify(t.body); o += `:body:${a}` }
            catch { o += `:body:${typeof t.body}` }
          } return o
        }

        async serializeResponse(e) {
          const t = e.clone(); const n = {}; t.headers.forEach((i, s) => { n[s] = i }); let o = null; if (t.bodyUsed) {
            o = null
          }
          else {
            try { const i = t.headers.get('content-type') || ''; i.includes('application/json') ? o = await t.text() : i.includes('text/') || i.includes('application/javascript') || i.includes('application/xml') ? o = await t.text() : o = await t.arrayBuffer() }
            catch (i) { console.error('序列化响应体失败:', i), o = null }
          } return { serialized: { body: o, status: t.status, statusText: t.statusText, headers: n, url: t.url, type: t.type, redirected: t.redirected, bodyUsed: t.bodyUsed }, original: e }
        }

        deserializeResponse(e) { const t = new Headers(); Object.entries(e.headers).forEach(([o, a]) => { t.append(o, a) }); const n = e.body; return new Response(n, { status: e.status, statusText: e.statusText, headers: t }) }
      } const qa = 'image_cache'; class Va extends ve {constructor() { super({ storeName: qa }) }} const bt = new Va(); const $n = class {constructor(e, t) { Object.defineProperty(this, 'appName', { enumerable: true, configurable: true, writable: true, value: undefined }), Object.defineProperty(this, 'moduleName', { enumerable: true, configurable: true, writable: true, value: undefined }), this.appName = e, this.moduleName = t }log(e, ...t) { t.length === 0 || typeof t[0] == 'string' || typeof t[0] == 'number' ? console.log(...this.formatMessage(e, ...t)) : (console.log(...this.formatMessage(e)), console.log(...t)) }error(e, t) { console.log(...this.formatMessage(e)), console.error(t) }formatMessage(e, ...t) { return [`%c${this.appName}%c ${this.moduleName}%c ${e}%c ${t}`, 'color: #409EFF; font-weight: bold', 'color: #67C23A; font-weight: bold', 'color: #E6A23C; font-weight: bold', 'color: inherit; margin-top: 4px'] }}; class Fn extends $n {constructor(e) { super('115Master', e) }} exports('m', Fn); class Ga extends ve {
        constructor() { super({ storeName: 'quality_preference_cache' }), Object.defineProperty(this, 'logger', { enumerable: true, configurable: true, writable: true, value: new Fn('Utils QualityPreferenceCache') }), Object.defineProperty(this, 'CACHE_PREFIX', { enumerable: true, configurable: true, writable: true, value: '115master_quality_preference_' }), Object.defineProperty(this, 'DEFAULT_EXPIRES_IN', { enumerable: true, configurable: true, writable: true, value: 2592e6 }) } async getPreference(e) {
          try { const t = this.CACHE_PREFIX + e; const n = await this.get(t); return n ? Date.now() - n.createdAt > this.DEFAULT_EXPIRES_IN ? (this.logger.log('getPreference', `画质偏好缓存已过期: ${e}`), await this.remove(t), null) : (this.logger.log('getPreference', `画质偏好缓存命中: ${e}，画质: ${n.value.quality}`), n.value) : (this.logger.log('getPreference', `画质偏好缓存未找到: ${e}`), null) }
          catch (t) { return this.logger.error('获取画质偏好失败:', t), null }
        }

        async setPreference(e, t, n) {
          try { const o = this.CACHE_PREFIX + e; const a = { quality: t, displayQuality: n, updatedAt: Date.now() }; await this.set(o, a), this.logger.log('setPreference', `画质偏好已保存: ${e}，画质: ${t}`) }
          catch (o) { this.logger.error('保存画质偏好失败:', o) }
        }

        async removePreference(e) {
          try { const t = this.CACHE_PREFIX + e; await this.remove(t), this.logger.log('removePreference', `画质偏好已删除: ${e}`) }
          catch (t) { this.logger.error('删除画质偏好失败:', t) }
        }

        async cleanExpired() {
          try {
            const e = Date.now(); const t = await this.storage.keys(); for (const n of t) {
              if (n.startsWith(this.CACHE_PREFIX)) { const o = await this.storage.getItem(n); o && o.createdAt && e - o.createdAt > this.DEFAULT_EXPIRES_IN && (await this.remove(n), this.logger.log('cleanExpired', `已清理过期画质偏好: ${n}`)) }
            }
          }
          catch (e) { this.logger.error('清理过期画质偏好失败:', e) }
        }
      } const Id = exports('a0', new Ga()); class Qa extends ve {
        constructor() { super({ storeName: 'subtitle_cache' }), Object.defineProperty(this, 'logger', { enumerable: true, configurable: true, writable: true, value: new Fn('Utils SubtitleCache') }), Object.defineProperty(this, 'CACHE_PREFIX', { enumerable: true, configurable: true, writable: true, value: '115master_subtitle_' }), Object.defineProperty(this, 'DEFAULT_EXPIRES_IN', { enumerable: true, configurable: true, writable: true, value: 6048e5 }) } async getCache(e, t) {
          try { const n = this.getCacheKey(e, t); const o = await super.get(n); return o ? Date.now() - o.value.timestamp > o.value.expiresIn ? (this.logger.log('缓存已过期', { keyword: e, language: t }), await this.remove(n), null) : (this.logger.log('缓存命中', { keyword: e, language: t, count: o.value.subtitles.length, cacheItem: o.value }), o.value.subtitles) : (this.logger.log('缓存未命中', { keyword: e, language: t }), null) }
          catch (n) { return this.logger.error('获取缓存失败', n), null }
        }

        async addCache(e, t, n, o = this.DEFAULT_EXPIRES_IN) {
          try { const a = this.getCacheKey(e, t); const i = { subtitles: n, timestamp: Date.now(), expiresIn: o }; await super.set(a, i), this.logger.log('设置缓存成功', { keyword: e, language: t, count: n.length }) }
          catch (a) { this.logger.error('设置缓存失败', a) }
        }

        async clear() {
          try { await super.clear(), this.logger.log('清除所有缓存成功') }
          catch (e) { this.logger.error('清除缓存失败', e) }
        }

        getCacheKey(e, t) { return `${this.CACHE_PREFIX}${e}_${t}` }
      } const Pd = exports('P', new Qa()); const Tr = 'subtitle_preference'; class Ya extends ve {
        constructor() { super({ storeName: Tr, enableQuotaManagement: false }) } async savePreference(e, t) {
          try { const n = this.getStoreKey(e); t ? await this.set(n, t) : await this.remove(n) }
          catch (n) { console.error('保存字幕偏好失败', n) }
        }

        async getPreference(e) {
          try { const t = this.getStoreKey(e); const n = await this.get(t); return (n == null ? void 0 : n.value) ?? null }
          catch { return null }
        }

        getStoreKey(e) { const t = e.replace(/\.[^/.]+$/, '').trim(); return `${Tr}${t}` }
      } const Td = exports('o', new Ya()); const Ka = 'video_cover_cache_v1'; class Wa extends ve {constructor() { super({ storeName: Ka }) }} const Hn = new Wa(); function qn(r, e, t, n) { let o = r; let a = e; return o > a ? o > t && (a = Math.round(a * (t / o)), o = t) : a > n && (o = Math.round(o * (n / a)), a = n), { width: o, height: a } } async function Vn(r, e = {}) { const { maxWidth: t = 200, maxHeight: n = 200, quality: o = 0.8, type: a = 'image/jpeg' } = e; return new Promise((i, s) => { const l = new Image(); l.onload = () => { const c = document.createElement('canvas'); const { width: u, height: d } = qn(l.width, l.height, t, n); c.width = u, c.height = d; const p = c.getContext('2d'); if (!p) { s(new Error('无法获取Canvas上下文')); return }p.drawImage(l, 0, 0, u, d), c.toBlob((h) => { h ? i(h) : s(new Error('图片压缩失败')) }, a, o) }, l.onerror = () => { s(new Error('图片加载失败')) }, l.src = URL.createObjectURL(r) }) } function Or(r) { return new Promise((e, t) => { const n = new FileReader(); n.onloadend = () => { n.result ? e(n.result) : t(new Error('转换Blob到Base64失败')) }, n.onerror = () => { t(new Error('读取Blob失败')) }, n.readAsDataURL(r) }) } const Ja = { enableFilelistPreview: true }; class Xa {constructor() { Object.defineProperty(this, 'value', { enumerable: true, configurable: true, writable: true, value: undefined }), Object.defineProperty(this, 'watchTasks', { enumerable: true, configurable: true, writable: true, value: [] }), this.value = this.create() }watch(e, t) { const n = { key: e, callback: t }; return this.watchTasks.push(n), () => { const o = this.watchTasks.indexOf(n); o > -1 && this.watchTasks.splice(o, 1) } }create() { const e = 'USER_SETTINGS'; const t = Ca(e) ?? {}; const n = { ...Ja, ...t }; return new Proxy(n, { get: (a, i) => a[i], set: (a, i, s) => { const l = a[i]; return a[i] = s, Un(e, a), this.watchTasks.forEach((c) => { c.key === i && c.callback(l, s) }), true } }) }} const Fe = new Xa(); class Te {constructor(e, t) { Object.defineProperty(this, 'itemNode', { enumerable: true, configurable: true, writable: true, value: e }), Object.defineProperty(this, 'itemInfo', { enumerable: true, configurable: true, writable: true, value: t }), Object.defineProperty(this, 'IS_PLUS', { enumerable: true, configurable: true, writable: true, value: false }), Object.defineProperty(this, 'ENABLE_KEY_IN_USER_SETTING', { enumerable: true, configurable: true, writable: true, value: undefined }) }load() { this.ENABLE_KEY_IN_USER_SETTING ? (Fe.value[this.ENABLE_KEY_IN_USER_SETTING] && this.onLoad(), Fe.watch(this.ENABLE_KEY_IN_USER_SETTING, (e, t) => { t ? this.onLoad() : this.destroy() })) : this.onLoad() }destroy() { this.onDestroy() }} class Za extends Te {
        constructor() { super(...arguments), Object.defineProperty(this, 'IS_PLUS', { enumerable: true, configurable: true, writable: true, value: true }) } async onLoad() {
          let n; if (this.itemInfo.fileListType === ge.grid)
            return; await Pr.init(); const e = await Pr.findActress(this.itemInfo.attributes.title.trim()); if (!e)
            return; this.itemNode.classList.add('with-actress-info'); const t = document.createElement('img'); t.alt = e.filename, t.loading = 'lazy', t.className = 'actress-info-img', (n = this.itemNode.querySelector('.file-name-wrap')) == null || n.prepend(t); try {
            const o = `actress-face-${e.url}`; const a = await bt.get(o); if (a) {
              t.src = URL.createObjectURL(a.value)
            }
            else {
              t.src = e.url; try { const i = await fetch(e.url); if (i.ok) { const s = await i.blob(); const l = await Vn(s, { maxWidth: 200, maxHeight: 200, quality: 0.8, type: 'image/webp' }); await bt.set(o, l) } }
              catch (i) { console.error('缓存演员头像失败:', i) }
            }
          }
          catch (o) { console.error('加载演员头像缓存失败:', o), t.src = e.url }
        }

        onDestroy() {}
      } class ei extends Te {get fileNameNode() { return this.itemNode.querySelector('.file-thumb') ?? this.itemNode.querySelector('.file-name .name') }onLoad() { let e; this.itemInfo.attributes.iv === fe.Yes && ((e = this.fileNameNode) == null || e.addEventListener('click', this.handleClickPlayer.bind(this), true), this.itemNode.addEventListener('dblclick', this.handleClickPlayer.bind(this)), this.itemNode.addEventListener('auxclick', this.handleAuxclick.bind(this))) }onDestroy() { let e; (e = this.fileNameNode) == null || e.removeEventListener('click', this.handleClickPlayer.bind(this), true), this.itemNode.removeEventListener('dblclick', this.handleClickPlayer.bind(this)), this.itemNode.removeEventListener('auxclick', this.handleAuxclick.bind(this)) }handleAuxclick(e) { e.button === 1 && (e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation(), At(new URL(`/?pickcode=${this.itemInfo.attributes.pick_code}&share_id=0`, dr).href, { active: true })) }handleClickPlayer(e) { e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation(), jn({ pickCode: this.itemInfo.attributes.pick_code, cid: this.itemInfo.attributes.cid }, true) }} const Od = { 360: '360P', 480: '480P', 720: '720P', 1080: '1080P', 2160: '4K', 9999: '原画' }; const ti = { '3G': 360, 'SD': 480, 'HD': 720, 'UD': 1080, 'BD': 2160, 'YH': 9999 }; const ri = xe.userAgentData.platform.match(/mac/i); const Gn = navigator.userAgent.match(/115Browser/i); exports({ O: Od, r: ri }); class Qn {} const ni = { cache: 'no-cache', credentials: 'include' }; class oi extends Qn {
        constructor(e = {}) { super(), Object.defineProperty(this, 'options', { enumerable: true, configurable: true, writable: true, value: {} }), this.options = { ...ni, ...e } } async request(e, t = {}) {
          const n = { ...this.options, ...t }; const o = this.processUrl(e, n.params); try { return await fetch(o, n) }
          catch (a) { throw new Error(`请求失败: ${a instanceof Error ? a.message : String(a)}`) }
        }

        get(e, t) { return this.request(e, { ...t, method: 'GET' }) }post(e, t) {
          let o; let n = t ? { ...t } : {}; if (n.data) {
            const a = ((o = n.headers) == null ? undefined : o['Content-Type']) || 'application/x-www-form-urlencoded'; let i; if (a.includes('application/json')) {
              i = JSON.stringify(n.data)
            }
            else if (a.includes('application/x-www-form-urlencoded')) {
              i = new URLSearchParams(n.data)
            }
            else if (a.includes('multipart/form-data')) { const c = new FormData(); if (Object.entries(n.data).forEach(([u, d]) => { c.append(u, d) }), i = c, n.headers) { const u = {}; Object.entries(n.headers).forEach(([d, p]) => { d.toLowerCase() !== 'content-type' && (u[d] = p) }), n.headers = u } }
            else {
              i = String(n.data)
            } const { data: s, ...l } = n; n = { ...l, body: i }
          } return this.request(e, merge({ method: 'POST', headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8' } }, n))
        }

        processUrl(e, t) {
          if (!t)
            return e; const n = new URL(e); return Object.entries(t).forEach(([o, a]) => { n.searchParams.append(o, a.toString()) }), n.href
        }
      } const se = exports('I', new oi()); const ai = xe.userAgentData.brands.some(r => r.brand === 'Google Chrome'); const ii = { cacheStatus: [200], cache: 'no-cache' }; class Et extends Qn {
        constructor(e = {}, t = 'gm-request-cache') { super(), Object.defineProperty(this, 'options', { enumerable: true, configurable: true, writable: true, value: {} }), Object.defineProperty(this, 'cache', { enumerable: true, configurable: true, writable: true, value: undefined }), this.options = { ...ii, ...e }, this.cache = new Ha(t) } async request(e, t = {}) {
          const n = { ...this.options, ...t }; const o = new URL(e); n.params && Object.entries(n.params).forEach(([l, c]) => { o.searchParams.set(l, c.toString()) }); const a = ai ? n.redirect || 'manual' : 'follow'; const i = o.href; const s = n.cache !== 'no-cache'; if (s) {
            const l = await this.cache.get(i, n); if (l)
              return l
          } return new Promise((l, c) => { Sa({ method: n.method || 'GET', url: i, headers: Object.fromEntries(Object.entries(n.headers || {})), data: n.body, timeout: n.timeout || 5e3, responseType: n.responseType, nocache: !s, redirect: a, onload: async (u) => { const d = this.parseResponseHeaders(u.responseHeaders); const p = new Headers(); Object.entries(d).forEach(([b, w]) => { p.append(b, w) }); const h = new Response(u.response, { status: u.status, statusText: u.statusText, headers: p }); s && await this.cache.set(i, h.clone(), n), l(h) }, onerror: (u) => { c(new Error('请求失败', { cause: u.error })) }, ontimeout: () => { c(new Error('请求超时')) } }) })
        }

        get(e, t) { return this.request(e, { ...t, method: 'GET' }) }post(e, t) { return this.request(e, merge({ method: 'POST', body: new URLSearchParams(t == null ? undefined : t.data), headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8' } }, t)) } async clearCache(e, t) { await this.cache.remove(e, t) } async clearAllCache() { await this.cache.clear() }getCache() { return this.cache }parseResponseHeaders(e) {
          const t = {}; if (!e)
            return t; const n = e.split(`
`); for (let o = 0; o < n.length; o++) { const a = n[o].trim(); if (a) { const i = a.indexOf(':'); if (i > 0) { const s = a.substring(0, i).trim(); const l = a.substring(i + 1).trim(); t[s.toLowerCase()] = l } } } return t
        }
      } const Ld = exports('n', new Et()); function si(r) { return r.includes('cpats01') ? r.replace(/&s=\d+/, '&s=52428800') : r } function li(r) { const e = new URLSearchParams(r); return Object.fromEntries(e) } class ci {
        constructor() { Object.defineProperty(this, 'n', { enumerable: true, configurable: true, writable: true, value: undefined }), Object.defineProperty(this, 'e', { enumerable: true, configurable: true, writable: true, value: undefined }), this.n = et('8686980c0f5a24c4b9d43020cd2c22703ff3f450756529058b1cf88f09b8602136477198a6e2683149659bd122c33592fdb5ad47944ad1ea4d36c6b172aad6338c3bb6ac6227502d010993ac967d1aef00f0c8e038de2e4d3bc2ec368af2e9f10a6f1eda4f7262f136420c07c331b871bf139f74f3010e3c4fe57df3afb71683', 16), this.e = et('10001', 16) }a2hex(e) { let t = ''; let n; for (let o = 0; o < e.length; o++)n = e[o].toString(16), n.length < 2 && (n = `0${n}`), t += n; return t }hex2a(e) { let t = ''; for (let n = 0; n < e.length; n += 2)t += String.fromCharCode(parseInt(e.substr(n, 2), 16)); return t }pkcs1pad2(e, t) {
          if (t < e.length + 11)
            return null; const n = []; let o = t; let a = e.length - 1; for (;a >= 0 && o > 0;)n[--o] = e.charCodeAt(a--); for (n[--o] = 0; o > 2;)n[--o] = 255; n[--o] = 2, n[--o] = 0; const i = this.a2hex(n); return et(i, 16)
        }

        pkcs1unpad2(e) { let t = e.toString(16); t.length % 2 !== 0 && (t = `0${t}`); const n = this.hex2a(t); let o = 1; for (;n.charCodeAt(o) !== 0;)o++; return n.slice(o + 1) }encrypt(e) {
          const t = this.pkcs1pad2(e, 128); if (!t)
            throw new Error('pkcs1pad2 failed'); let o = t.modPow(this.e, this.n).toString(16); for (;o.length < 256;)o = `0${o}`; return o
        }

        decrypt(e) { const t = []; let n = 0; for (;n < e.length;)t[n] = e.charCodeAt(n), n += 1; const a = et(this.a2hex(t), 16).modPow(this.e, this.n); return this.pkcs1unpad2(a) }
      } class ui {constructor() { Object.defineProperty(this, 'rsa', { enumerable: true, configurable: true, writable: true, value: undefined }), Object.defineProperty(this, 'kts', { enumerable: true, configurable: true, writable: true, value: undefined }), Object.defineProperty(this, 'keyS', { enumerable: true, configurable: true, writable: true, value: undefined }), Object.defineProperty(this, 'keyL', { enumerable: true, configurable: true, writable: true, value: undefined }), this.rsa = new ci(), this.kts = [240, 229, 105, 174, 191, 220, 191, 138, 26, 69, 232, 190, 125, 166, 115, 184, 222, 143, 231, 196, 69, 218, 134, 196, 155, 100, 139, 20, 106, 180, 241, 170, 56, 1, 53, 158, 38, 105, 44, 134, 0, 107, 79, 165, 54, 52, 98, 166, 42, 150, 104, 24, 242, 74, 253, 189, 107, 151, 143, 77, 143, 137, 19, 183, 108, 142, 147, 237, 14, 13, 72, 62, 215, 47, 136, 216, 254, 254, 126, 134, 80, 149, 79, 209, 235, 131, 38, 52, 219, 102, 123, 156, 126, 157, 122, 129, 50, 234, 182, 51, 222, 58, 169, 89, 52, 102, 59, 170, 186, 129, 96, 72, 185, 213, 129, 156, 248, 108, 132, 119, 255, 84, 120, 38, 95, 190, 232, 30, 54, 159, 52, 128, 92, 69, 44, 155, 118, 213, 27, 143, 204, 195, 184, 245], this.keyS = [41, 35, 33, 94], this.keyL = [120, 6, 173, 76, 51, 134, 93, 24, 76, 1, 63, 70] }xor115Enc(e, t, n, o) { const a = t % 4; const i = []; for (let s = 0; s < a; s++)i.push(e[s] ^ n[s % o]); for (let s = a; s < t; s++)i.push(e[s] ^ n[(s - a) % o]); return i }getkey(e, t) { if (t) { const n = []; for (let o = 0; o < e; o++) { const a = t[o] + this.kts[e * o] & 255; const i = this.kts[e * (e - 1 - o)]; n.push(a ^ i) } return n } return e === 12 ? this.keyL.slice(0) : this.keyS.slice(0) }asymEncode(e, t) { let o = ''; for (let a = 0; a < Math.floor((t + 117 - 1) / 117); a++)o += this.rsa.encrypt(this.bytesToString(e.slice(a * 117, Math.min((a + 1) * 117, t)))); return btoa(this.rsa.hex2a(o)) }asymDecode(e, t) { let o = ''; for (let a = 0; a < Math.floor((t + 128 - 1) / 128); a++)o += this.rsa.decrypt(this.bytesToString(e.slice(a * 128, Math.min((a + 1) * 128, t)))); return this.stringToBytes(o) }symEncode(e, t, n, o) { const a = this.getkey(4, n); const i = this.getkey(12, o); let s = this.xor115Enc(e, t, a, 4); return s.reverse(), s = this.xor115Enc(s, t, i, 12), s }symDecode(e, t, n, o) { const a = this.getkey(4, n); const i = this.getkey(12, o); let s = this.xor115Enc(e, t, i, 12); return s.reverse(), s = this.xor115Enc(s, t, a, 4), s }bytesToString(e) { return e.map(t => String.fromCharCode(t)).join('') }stringToBytes(e) { return Array.from(e).map(t => t.charCodeAt(0)) }m115_encode(e, t) { const n = this.stringToBytes(Qo(`!@###@#${t}DFDR@#@#`)); let o = this.stringToBytes(e); return o = this.symEncode(o, o.length, n), o = n.slice(0, 16).concat(o), { data: this.asymEncode(o, o.length), key: n } }m115_decode(e, t) { let n = this.stringToBytes(atob(e)); return n = this.asymDecode(n, n.length), this.bytesToString(this.symDecode(n.slice(16), n.length - 16, t, n.slice(0, 16))) }} class mr {}Object.defineProperty(mr, 'NotFoundM3u8File', { enumerable: true, configurable: true, writable: true, value: class extends Error {constructor() { super('Not found m3u8 file') }} }); class di {
        constructor() { Object.defineProperty(this, 'crypto115', { enumerable: true, configurable: true, writable: true, value: new ui() }), Object.defineProperty(this, 'BASE_URL', { enumerable: true, configurable: true, writable: true, value: st }), Object.defineProperty(this, 'WEB_API_URL', { enumerable: true, configurable: true, writable: true, value: ha }), Object.defineProperty(this, 'PRO_API_URL', { enumerable: true, configurable: true, writable: true, value: fa }), Object.defineProperty(this, 'VOD_URL_115', { enumerable: true, configurable: true, writable: true, value: dr }), Object.defineProperty(this, 'APS_URL_115', { enumerable: true, configurable: true, writable: true, value: ma }), Object.defineProperty(this, 'verifying', { enumerable: true, configurable: true, writable: true, value: false }) } async webApiFilesDownload(e) {
          const n = await (await se.get(new URL(`/files/download?pickcode=${e}`, this.WEB_API_URL).href)).json(); if (n.errNo === 990001 && alert('登录已过期，请重新登录'), !n.state || !n.file_url)
            throw new Error(`服务器返回数据格式错误: ${JSON.stringify(n)}`); return { url: { url: n.file_url } }
        }

        async ProPostAppChromeDownurl(e) {
          const t = Math.floor(Date.now() / 1e3).toString(); const n = JSON.stringify({ pickcode: e }); const o = this.crypto115.m115_encode(n, t); const a = `data=${encodeURIComponent(o.data)}`; const l = await (await (Gn ? new Et() : se).post(new URL(`/app/chrome/downurl?t=${t}`, this.PRO_API_URL).href, { body: a })).json(); if (!l.state)
            throw new Error(`获取下载地址失败: ${JSON.stringify(l)}`); const c = JSON.parse(this.crypto115.m115_decode(l.data, o.key)); return Object.values(c)[0]
        }

        getM3u8Url(e) { return new URL(`/api/video/m3u8/${e}.m3u8`, this.BASE_URL).href } async getM3u8Info(e, t) {
          const o = await (await se.get(e, { headers: { 'Content-Type': 'application/json' } })).text(); if (!o.startsWith('#')) {
            let s; try { s = JSON.parse(o) }
            catch { throw new mr.NotFoundM3u8File() } if (s && s.state === false)
              throw s.code === 911 && this.jumpVerify(t), new Error(`获取m3u8文件失败: ${s.error}`)
          } const a = o.split(`
`); const i = []; return o.split(`
`).forEach((s, l) => { let c, u; if (s.includes('NAME="') && s.match(/#EXT-X-STREAM-INF/)) { const p = ((c = s.match(/NAME="([^"]*)"/)) == null ? undefined : c[1]) ?? ''; const h = (u = a[l + 1]) == null ? undefined : u.trim(); i.push({ name: p, quality: ti[p], url: si(h) }) } }), i.sort((s, l) => l.quality - s.quality), i
        }

        async ApsGetNatsortFiles(e) { return await (await se.get(new URL('/natsort/files.php', this.APS_URL_115).href, { params: e })).json() } async webApiGetFiles(e) { return await (await se.get(new URL('/files', this.WEB_API_URL).href, { params: e })).json() } async webApiGetFilesVideo(e) { return await (await se.get(new URL('/files/video', this.WEB_API_URL).href, { params: e })).json() } async webApiGetWebApiFilesHistory(e) { return await (await se.get(new URL('/files/history', this.WEB_API_URL).href, { params: e })).json() } async webApiPostWebApiFilesHistory(e) { return await (await se.post(new URL('/files/history', this.WEB_API_URL).href, { data: e })).json() } async webApiPostFilesStar(e) { return await (await se.post(new URL('/files/star', this.WEB_API_URL).href, { data: e })).json() } async webApiGetMoviesSubtitle(e) { return await (await se.get(new URL('/movies/subtitle', this.WEB_API_URL).href, { params: e })).json() }jumpVerify(e) {
          this.verifying || (this.verifying = true, alert(`你已经高频操作了!
先去通过一下人机验证再回来刷新页面哦~`), At(new URL(`?pickcode=${e}`, this.VOD_URL_115).href, { active: true }))
        }
      } class pi extends di {
        async getFiles(e) {
          try {
            const t = await this.webApiGetFiles(e); if (t.state)
              return t; throw new Error('webapiFiles 获取播放列表失败')
          }
          catch {
            const t = await this.ApsGetNatsortFiles(e); if (t.state)
              return t; throw new Error(`获取播放列表失败: ${JSON.stringify(t)}`)
          }
        }

        async getPlaylist(e, t = 0) { const n = { aid: 1, cid: e, offset: t, limit: 1150, show_dir: 0, nf: '', qid: 0, type: 4, source: '', format: 'json', star: '', is_q: '', is_share: '', r_all: 1, o: 'file_name', asc: 1, cur: 1, natsort: 1 }; return this.getFiles(n) } async getM3u8(e) { const t = this.getM3u8Url(e); return await this.getM3u8Info(t, e) } async getFileDownloadUrl(e) {
          try { return await this.ProPostAppChromeDownurl(e) }
          catch (t) { return console.warn('第一种获取下载链接失败', t), await this.webApiFilesDownload(e) }
        }
      } const br = exports('i', new pi()); class hi extends Te {
        get fileOprNode() { return this.itemNode.querySelector('.file-opr') } get downloadOneNode() { let e; return (e = this.fileOprNode) == null ? undefined : e.querySelector('a[menu="download_one"]') } get downloadDirOneNode() { let e; return (e = this.fileOprNode) == null ? undefined : e.querySelector('a[menu="download_dir_one"]') }onLoad() {
          this.fileOprNode && (Gn || (this.downloadDirOneNode && (this.downloadDirOneNode.onclick = async (e) => { e.stopImmediatePropagation(), e.preventDefault(), alert('当前未支持文件夹下载') }), this.downloadOneNode && (this.downloadOneNode.onclick = async (e) => {
            e.stopImmediatePropagation(), e.preventDefault(); try { const t = await br.getFileDownloadUrl(this.itemInfo.attributes.pick_code); if (t.url.url) { window.open(t.url.url, '_blank'); return } throw new Error('下载失败') }
            catch (t) { t instanceof Error ? alert(t.message) : alert('下载失败') }
          })))
        }

        onDestroy() {}
      } const gr = `/*! tailwindcss v4.1.7 | MIT License | https://tailwindcss.com */@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-space-y-reverse:0;--tw-space-x-reverse:0;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-leading:initial;--tw-font-weight:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial;--tw-ease:initial;--tw-text-shadow-color:initial;--tw-text-shadow-alpha:100%;--tw-content:""}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-400:oklch(70.4% .191 22.216);--color-yellow-300:oklch(90.5% .182 98.111);--color-yellow-400:oklch(85.2% .199 91.936);--color-pink-400:oklch(71.8% .202 349.761);--color-gray-100:oklch(96.7% .003 264.542);--color-neutral-100:oklch(97% 0 0);--color-neutral-300:oklch(87% 0 0);--color-neutral-500:oklch(55.6% 0 0);--color-neutral-800:oklch(26.9% 0 0);--color-neutral-950:oklch(14.5% 0 0);--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-xs:20rem;--container-lg:32rem;--container-xl:36rem;--container-2xl:42rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height: 1.5 ;--text-lg:1.125rem;--text-lg--line-height:calc(1.75/1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--text-3xl:1.875rem;--text-3xl--line-height: 1.2 ;--text-4xl:2.25rem;--text-4xl--line-height:calc(2.5/2.25);--text-5xl:3rem;--text-5xl--line-height:1;--text-6xl:3.75rem;--text-6xl--line-height:1;--text-8xl:6rem;--text-8xl--line-height:1;--font-weight-normal:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--leading-relaxed:1.625;--radius-lg:.5rem;--radius-xl:.75rem;--radius-2xl:1rem;--drop-shadow-xs:0 1px 1px #0000000d;--drop-shadow-xl:0 9px 7px #0000001a;--ease-out:cubic-bezier(0,0,.2,1);--ease-in-out:cubic-bezier(.4,0,.2,1);--animate-spin:spin 1s linear infinite;--blur-xs:4px;--blur-2xl:40px;--aspect-video:16/9;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}:root:has(.modal-open,.modal[open],.modal:target,.modal-toggle:checked,.drawer:not([class*=drawer-open])>.drawer-toggle:checked){overflow:hidden}:root,[data-theme]{background-color:var(--root-bg,var(--color-base-100));color:var(--color-base-content)}@property --radialprogress{syntax: "<percentage>"; inherits: true; initial-value: 0%;}:where(:root:has(.modal-open,.modal[open],.modal:target,.modal-toggle:checked,.drawer:not(.drawer-open)>.drawer-toggle:checked)){scrollbar-gutter:stable;background-image:linear-gradient(var(--color-base-100),var(--color-base-100));--root-bg:var(--color-base-100)}@supports (color:color-mix(in lab,red,red)){:where(:root:has(.modal-open,.modal[open],.modal:target,.modal-toggle:checked,.drawer:not(.drawer-open)>.drawer-toggle:checked)){--root-bg:color-mix(in srgb,var(--color-base-100),oklch(0% 0 0) 40%)}}:where(.modal[open],.modal-open,.modal-toggle:checked+.modal):not(.modal-start,.modal-end){scrollbar-gutter:stable}:root{--fx-noise:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='a'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.34' numOctaves='4' stitchTiles='stitch'%3E%3C/feTurbulence%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23a)' opacity='0.2'%3E%3C/rect%3E%3C/svg%3E")}.chat{--mask-chat:url("data:image/svg+xml,%3csvg width='13' height='13' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill='black' d='M0 11.5004C0 13.0004 2 13.0004 2 13.0004H12H13V0.00036329L12.5 0C12.5 0 11.977 2.09572 11.8581 2.50033C11.6075 3.35237 10.9149 4.22374 9 5.50036C6 7.50036 0 10.0004 0 11.5004Z'/%3e%3c/svg%3e")}:root:has(input.theme-controller[value=dark]:checked),[data-theme=dark]{color-scheme:dark;--color-base-100:oklch(14% 0 0);--color-base-200:oklch(20% 0 0);--color-base-300:oklch(43% 0 0);--color-base-content:oklch(100% 0 0);--color-primary:oklch(62% .214 259.815);--color-primary-content:oklch(98% 0 0);--color-secondary:oklch(64.092% .027 229.389);--color-secondary-content:oklch(12.818% .005 229.389);--color-accent:oklch(67.271% .167 35.791);--color-accent-content:oklch(13.454% .033 35.791);--color-neutral:oklch(27.441% .013 253.041);--color-neutral-content:oklch(85.488% .002 253.041);--color-info:oklch(62.616% .143 240.033);--color-info-content:oklch(12.523% .028 240.033);--color-success:oklch(70.226% .094 156.596);--color-success-content:oklch(14.045% .018 156.596);--color-warning:oklch(77.482% .115 81.519);--color-warning-content:oklch(15.496% .023 81.519);--color-error:oklch(51.61% .146 29.674);--color-error-content:oklch(90.322% .029 29.674);--radius-selector:2rem;--radius-field:2rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}:root:has(input.theme-controller[value=light]:checked),[data-theme=light]{color-scheme:light;--color-base-100:oklch(100% 0 0);--color-base-200:oklch(98% 0 0);--color-base-300:oklch(95% 0 0);--color-base-content:oklch(21% .006 285.885);--color-primary:oklch(62% .214 259.815);--color-primary-content:oklch(98% 0 0);--color-secondary:oklch(65% .241 354.308);--color-secondary-content:oklch(94% .028 342.258);--color-accent:oklch(77% .152 181.912);--color-accent-content:oklch(38% .063 188.416);--color-neutral:oklch(14% .005 285.823);--color-neutral-content:oklch(92% .004 286.32);--color-info:oklch(74% .16 232.661);--color-info-content:oklch(29% .066 243.157);--color-success:oklch(76% .177 163.223);--color-success-content:oklch(37% .077 168.94);--color-warning:oklch(82% .189 84.429);--color-warning-content:oklch(41% .112 45.904);--color-error:oklch(71% .194 13.428);--color-error-content:oklch(27% .105 12.094);--radius-selector:2rem;--radius-field:2rem;--radius-box:1rem;--size-selector:.25rem;--size-field:.25rem;--border:1px;--depth:0;--noise:0}}@layer components;@layer utilities{.diff{webkit-user-select:none;-webkit-user-select:none;user-select:none;direction:ltr;grid-template-columns:auto 1fr;width:100%;display:grid;position:relative;overflow:hidden;container-type:inline-size}.diff:focus-visible,.diff:has(.diff-item-1:focus-visible){outline-style:var(--tw-outline-style);outline-offset:1px;outline-width:2px;outline-color:var(--color-base-content)}.diff:focus-visible .diff-resizer{min-width:90cqi;max-width:90cqi}.diff:has(.diff-item-2:focus-visible){outline-style:var(--tw-outline-style);outline-offset:1px;outline-width:2px}.diff:has(.diff-item-2:focus-visible) .diff-resizer{min-width:10cqi;max-width:10cqi}@supports (-webkit-overflow-scrolling:touch) and (overflow:-webkit-paged-x){.diff:focus .diff-resizer{min-width:10cqi;max-width:10cqi}.diff:has(.diff-item-1:focus) .diff-resizer{min-width:90cqi;max-width:90cqi}}.drawer-side{pointer-events:none;visibility:hidden;z-index:1;overscroll-behavior:contain;opacity:0;width:100%;transition:opacity .2s ease-out .1s allow-discrete,visibility .3s ease-out .1s allow-discrete;inset-inline-start:0;grid-template-rows:repeat(1,minmax(0,1fr));grid-template-columns:repeat(1,minmax(0,1fr));grid-row-start:1;grid-column-start:1;place-items:flex-start start;height:100dvh;display:grid;position:fixed;top:0;overflow:hidden}.drawer-side>.drawer-overlay{cursor:pointer;background-color:#0006;place-self:stretch stretch;position:sticky;top:0}.drawer-side>*{grid-row-start:1;grid-column-start:1}.drawer-side>:not(.drawer-overlay){will-change:transform;transition:translate .3s ease-out;translate:-100%}[dir=rtl] :is(.drawer-side>:not(.drawer-overlay)){translate:100%}.drawer-toggle{-webkit-appearance:none;-moz-appearance:none;appearance:none;opacity:0;width:0;height:0;position:fixed}.drawer-toggle:checked~.drawer-side{pointer-events:auto;visibility:visible;opacity:1;overflow-y:auto}.drawer-toggle:checked~.drawer-side>:not(.drawer-overlay){translate:0%}.drawer-toggle:focus-visible~.drawer-content label.drawer-button{outline-offset:2px;outline:2px solid}.tooltip{--tt-bg:var(--color-neutral);--tt-off: calc(100% + .5rem) ;--tt-tail: calc(100% + 1px + .25rem) ;display:inline-block;position:relative}.tooltip>:where(.tooltip-content),.tooltip:where([data-tip]):before{border-radius:var(--radius-field);text-align:center;white-space:normal;max-width:20rem;color:var(--color-neutral-content);opacity:0;background-color:var(--tt-bg);pointer-events:none;z-index:1;--tw-content:attr(data-tip);content:var(--tw-content);width:max-content;padding-block:.25rem;padding-inline:.5rem;font-size:.875rem;line-height:1.25;transition:opacity .2s cubic-bezier(.4,0,.2,1) 75ms,transform .2s cubic-bezier(.4,0,.2,1) 75ms;position:absolute}.tooltip:after{opacity:0;background-color:var(--tt-bg);content:"";pointer-events:none;--mask-tooltip:url("data:image/svg+xml,%3Csvg width='10' height='4' viewBox='0 0 8 4' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0.500009 1C3.5 1 3.00001 4 5.00001 4C7 4 6.5 1 9.5 1C10 1 10 0.499897 10 0H0C-1.99338e-08 0.5 0 1 0.500009 1Z' fill='black'/%3E%3C/svg%3E%0A");width:.625rem;height:.25rem;-webkit-mask-position:-1px 0;mask-position:-1px 0;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-image:var(--mask-tooltip);mask-image:var(--mask-tooltip);transition:opacity .2s cubic-bezier(.4,0,.2,1) 75ms,transform .2s cubic-bezier(.4,0,.2,1) 75ms;display:block;position:absolute}:is(.tooltip.tooltip-open,.tooltip[data-tip]:not([data-tip=""]):hover,.tooltip:not(:has(.tooltip-content:empty)):has(.tooltip-content):hover,.tooltip:has(:focus-visible))>.tooltip-content,:is(.tooltip.tooltip-open,.tooltip[data-tip]:not([data-tip=""]):hover,.tooltip:not(:has(.tooltip-content:empty)):has(.tooltip-content):hover,.tooltip:has(:focus-visible))[data-tip]:before,:is(.tooltip.tooltip-open,.tooltip[data-tip]:not([data-tip=""]):hover,.tooltip:not(:has(.tooltip-content:empty)):has(.tooltip-content):hover,.tooltip:has(:focus-visible)):after{opacity:1;--tt-pos:0rem;transition:opacity .2s cubic-bezier(.4,0,.2,1),transform .2s cubic-bezier(.4,0,.2,1)}.tooltip>.tooltip-content,.tooltip[data-tip]:before{transform:translate(-50%)translateY(var(--tt-pos,.25rem));inset:auto auto var(--tt-off)50%}.tooltip:after{transform:translate(-50%)translateY(var(--tt-pos,.25rem));inset:auto auto var(--tt-tail)50%}.tab{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-align:center;webkit-user-select:none;-webkit-user-select:none;user-select:none;flex-wrap:wrap;justify-content:center;align-items:center;display:inline-flex;position:relative}@media (hover:hover){.tab:hover{color:var(--color-base-content)}}.tab{--tab-p:1rem;--tab-bg:var(--color-base-100);--tab-border-color:var(--color-base-300);--tab-radius-ss:0;--tab-radius-se:0;--tab-radius-es:0;--tab-radius-ee:0;--tab-order:0;--tab-radius-min:calc(.75rem - var(--border));order:var(--tab-order);height:calc(var(--size-field,.25rem)*10);border-color:#0000;padding-inline-start:var(--tab-p);padding-inline-end:var(--tab-p);font-size:.875rem}.tab:is(input[type=radio]){min-width:fit-content}.tab:is(input[type=radio]):after{content:attr(aria-label)}.tab:is(label){position:relative}.tab:is(label) input{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;opacity:0;position:absolute;top:0;right:0;bottom:0;left:0}:is(.tab:checked,.tab:is(label:has(:checked)),.tab:is(.tab-active,[aria-selected=true]))+.tab-content{height:100%;display:block}.tab:not(:checked,label:has(:checked),:hover,.tab-active,[aria-selected=true]){color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.tab:not(:checked,label:has(:checked),:hover,.tab-active,[aria-selected=true]){color:color-mix(in oklab,var(--color-base-content)50%,transparent)}}.tab:not(input):empty{cursor:default;flex-grow:1}.tab:focus{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.tab:focus{outline-offset:2px;outline:2px solid #0000}}.tab:focus-visible,.tab:is(label:has(:checked:focus-visible)){outline-offset:-5px;outline:2px solid}.tab[disabled]{pointer-events:none;opacity:.4}.menu{--menu-active-fg:var(--color-neutral-content);--menu-active-bg:var(--color-neutral);flex-flow:column wrap;width:fit-content;padding:.5rem;font-size:.875rem;display:flex}.menu :where(li ul){white-space:nowrap;margin-inline-start:1rem;padding-inline-start:.5rem;position:relative}.menu :where(li ul):before{background-color:var(--color-base-content);opacity:.1;width:var(--border);content:"";inset-inline-start:0;position:absolute;top:.75rem;bottom:.75rem}.menu :where(li>.menu-dropdown:not(.menu-dropdown-show)){display:none}.menu :where(li:not(.menu-title)>:not(ul,details,.menu-title,.btn)),.menu :where(li:not(.menu-title)>details>summary:not(.menu-title)){border-radius:var(--radius-field);text-align:start;text-wrap:balance;-webkit-user-select:none;user-select:none;grid-auto-columns:minmax(auto,max-content) auto max-content;grid-auto-flow:column;align-content:flex-start;align-items:center;gap:.5rem;padding-block:.375rem;padding-inline:.75rem;transition-property:color,background-color,box-shadow;transition-duration:.2s;transition-timing-function:cubic-bezier(0,0,.2,1);display:grid}.menu :where(li>details>summary){--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.menu :where(li>details>summary){outline-offset:2px;outline:2px solid #0000}}.menu :where(li>details>summary)::-webkit-details-marker{display:none}:is(.menu :where(li>details>summary),.menu :where(li>.menu-dropdown-toggle)):after{content:"";transform-origin:50%;pointer-events:none;justify-self:flex-end;width:.375rem;height:.375rem;transition-property:rotate,translate;transition-duration:.2s;display:block;translate:0 -1px;rotate:-135deg;box-shadow:inset 2px 2px}.menu :where(li>details[open]>summary):after,.menu :where(li>.menu-dropdown-toggle.menu-dropdown-show):after{translate:0 1px;rotate:45deg}.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title),li:not(.menu-title,.disabled)>details>summary:not(.menu-title)):not(.menu-active,:active,.btn).menu-focus,.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title),li:not(.menu-title,.disabled)>details>summary:not(.menu-title)):not(.menu-active,:active,.btn):focus-visible{cursor:pointer;background-color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title),li:not(.menu-title,.disabled)>details>summary:not(.menu-title)):not(.menu-active,:active,.btn).menu-focus,.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title),li:not(.menu-title,.disabled)>details>summary:not(.menu-title)):not(.menu-active,:active,.btn):focus-visible{background-color:color-mix(in oklab,var(--color-base-content)10%,transparent)}}.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title),li:not(.menu-title,.disabled)>details>summary:not(.menu-title)):not(.menu-active,:active,.btn).menu-focus,.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title),li:not(.menu-title,.disabled)>details>summary:not(.menu-title)):not(.menu-active,:active,.btn):focus-visible{color:var(--color-base-content);--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title),li:not(.menu-title,.disabled)>details>summary:not(.menu-title)):not(.menu-active,:active,.btn).menu-focus,.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title),li:not(.menu-title,.disabled)>details>summary:not(.menu-title)):not(.menu-active,:active,.btn):focus-visible{outline-offset:2px;outline:2px solid #0000}}.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title):not(.menu-active,:active,.btn):hover,li:not(.menu-title,.disabled)>details>summary:not(.menu-title):not(.menu-active,:active,.btn):hover){cursor:pointer;background-color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title):not(.menu-active,:active,.btn):hover,li:not(.menu-title,.disabled)>details>summary:not(.menu-title):not(.menu-active,:active,.btn):hover){background-color:color-mix(in oklab,var(--color-base-content)10%,transparent)}}.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title):not(.menu-active,:active,.btn):hover,li:not(.menu-title,.disabled)>details>summary:not(.menu-title):not(.menu-active,:active,.btn):hover){--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title):not(.menu-active,:active,.btn):hover,li:not(.menu-title,.disabled)>details>summary:not(.menu-title):not(.menu-active,:active,.btn):hover){outline-offset:2px;outline:2px solid #0000}}.menu :where(li:not(.menu-title,.disabled)>:not(ul,details,.menu-title):not(.menu-active,:active,.btn):hover,li:not(.menu-title,.disabled)>details>summary:not(.menu-title):not(.menu-active,:active,.btn):hover){box-shadow:inset 0 1px #00000003,inset 0 -1px #ffffff03}.menu :where(li:empty){background-color:var(--color-base-content);opacity:.1;height:1px;margin:.5rem 1rem}.menu :where(li){flex-flow:column wrap;flex-shrink:0;align-items:stretch;display:flex;position:relative}.menu :where(li) .badge{justify-self:flex-end}.menu :where(li)>:not(ul,.menu-title,details,.btn):active,.menu :where(li)>:not(ul,.menu-title,details,.btn).menu-active,.menu :where(li)>details>summary:active{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.menu :where(li)>:not(ul,.menu-title,details,.btn):active,.menu :where(li)>:not(ul,.menu-title,details,.btn).menu-active,.menu :where(li)>details>summary:active{outline-offset:2px;outline:2px solid #0000}}.menu :where(li)>:not(ul,.menu-title,details,.btn):active,.menu :where(li)>:not(ul,.menu-title,details,.btn).menu-active,.menu :where(li)>details>summary:active{color:var(--menu-active-fg);background-color:var(--menu-active-bg);background-size:auto,calc(var(--noise)*100%);background-image:none,var(--fx-noise)}:is(.menu :where(li)>:not(ul,.menu-title,details,.btn):active,.menu :where(li)>:not(ul,.menu-title,details,.btn).menu-active,.menu :where(li)>details>summary:active):not(:is(.menu :where(li)>:not(ul,.menu-title,details,.btn):active,.menu :where(li)>:not(ul,.menu-title,details,.btn).menu-active,.menu :where(li)>details>summary:active):active){box-shadow:0 2px calc(var(--depth)*3px) -2px var(--menu-active-bg)}.menu :where(li).menu-disabled{pointer-events:none;color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.menu :where(li).menu-disabled{color:color-mix(in oklab,var(--color-base-content)20%,transparent)}}.menu .dropdown:focus-within .menu-dropdown-toggle:after{translate:0 1px;rotate:45deg}.menu .dropdown-content{margin-top:.5rem;padding:.5rem}.menu .dropdown-content:before{display:none}.dropdown{position-area:var(--anchor-v,bottom)var(--anchor-h,span-right);display:inline-block;position:relative}.dropdown>:not(summary):focus{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.dropdown>:not(summary):focus{outline-offset:2px;outline:2px solid #0000}}.dropdown .dropdown-content{position:absolute}.dropdown:not(details,.dropdown-open,.dropdown-hover:hover,:focus-within) .dropdown-content{transform-origin:top;opacity:0;display:none;scale:95%}.dropdown[popover],.dropdown .dropdown-content{z-index:999;transition-behavior:allow-discrete;transition-property:opacity,scale,display;transition-duration:.2s;transition-timing-function:cubic-bezier(.4,0,.2,1);animation:.2s dropdown}@starting-style{.dropdown[popover],.dropdown .dropdown-content{opacity:0;scale:95%}}:is(.dropdown.dropdown-open,.dropdown:not(.dropdown-hover):focus,.dropdown:focus-within)>[tabindex]:first-child{pointer-events:none}:is(.dropdown.dropdown-open,.dropdown:not(.dropdown-hover):focus,.dropdown:focus-within) .dropdown-content{opacity:1}.dropdown.dropdown-hover:hover .dropdown-content{opacity:1;scale:100%}.dropdown:is(details) summary::-webkit-details-marker{display:none}:is(.dropdown.dropdown-open,.dropdown:focus,.dropdown:focus-within) .dropdown-content{scale:100%}.dropdown:where([popover]){background:0 0}.dropdown[popover]{color:inherit;position:fixed}@supports not (position-area:bottom){.dropdown[popover]{margin:auto}.dropdown[popover].dropdown-open:not(:popover-open){transform-origin:top;opacity:0;display:none;scale:95%}.dropdown[popover]::backdrop{background-color:oklab(0% none none/.3)}}.dropdown[popover]:not(.dropdown-open,:popover-open){transform-origin:top;opacity:0;display:none;scale:95%}:where(.btn){width:unset}.btn{cursor:pointer;text-align:center;vertical-align:middle;outline-offset:2px;webkit-user-select:none;-webkit-user-select:none;user-select:none;padding-inline:var(--btn-p);color:var(--btn-fg);--tw-prose-links:var(--btn-fg);height:var(--size);font-size:var(--fontsize,.875rem);outline-color:var(--btn-color,var(--color-base-content));background-color:var(--btn-bg);background-size:auto,calc(var(--noise)*100%);background-image:none,var(--btn-noise);border-width:var(--border);border-style:solid;border-color:var(--btn-border);text-shadow:0 .5px oklch(100% 0 0/calc(var(--depth)*.15));touch-action:manipulation;box-shadow:0 .5px 0 .5px oklch(100% 0 0/calc(var(--depth)*6%)) inset,var(--btn-shadow);--size:calc(var(--size-field,.25rem)*10);--btn-bg:var(--btn-color,var(--color-base-200));--btn-fg:var(--color-base-content);--btn-p:1rem;--btn-border:var(--btn-bg);border-start-start-radius:var(--join-ss,var(--radius-field));border-start-end-radius:var(--join-se,var(--radius-field));border-end-end-radius:var(--join-ee,var(--radius-field));border-end-start-radius:var(--join-es,var(--radius-field));flex-wrap:nowrap;flex-shrink:0;justify-content:center;align-items:center;gap:.375rem;font-weight:600;transition-property:color,background-color,border-color,box-shadow;transition-duration:.2s;transition-timing-function:cubic-bezier(0,0,.2,1);display:inline-flex}@supports (color:color-mix(in lab,red,red)){.btn{--btn-border:color-mix(in oklab,var(--btn-bg),#000 calc(var(--depth)*5%))}}.btn{--btn-shadow:0 3px 2px -2px var(--btn-bg),0 4px 3px -2px var(--btn-bg)}@supports (color:color-mix(in lab,red,red)){.btn{--btn-shadow:0 3px 2px -2px color-mix(in oklab,var(--btn-bg)calc(var(--depth)*30%),#0000),0 4px 3px -2px color-mix(in oklab,var(--btn-bg)calc(var(--depth)*30%),#0000)}}.btn{--btn-noise:var(--fx-noise)}.prose .btn{text-decoration-line:none}@media (hover:hover){.btn:hover{--btn-bg:var(--btn-color,var(--color-base-200))}@supports (color:color-mix(in lab,red,red)){.btn:hover{--btn-bg:color-mix(in oklab,var(--btn-color,var(--color-base-200)),#000 7%)}}}.btn:focus-visible{isolation:isolate;outline-width:2px;outline-style:solid}.btn:active:not(.btn-active){--btn-bg:var(--btn-color,var(--color-base-200));translate:0 .5px}@supports (color:color-mix(in lab,red,red)){.btn:active:not(.btn-active){--btn-bg:color-mix(in oklab,var(--btn-color,var(--color-base-200)),#000 5%)}}.btn:active:not(.btn-active){--btn-border:var(--btn-color,var(--color-base-200))}@supports (color:color-mix(in lab,red,red)){.btn:active:not(.btn-active){--btn-border:color-mix(in oklab,var(--btn-color,var(--color-base-200)),#000 7%)}}.btn:active:not(.btn-active){--btn-shadow:0 0 0 0 oklch(0% 0 0/0),0 0 0 0 oklch(0% 0 0/0)}.btn:is(:disabled,[disabled],.btn-disabled):not(.btn-link,.btn-ghost){background-color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.btn:is(:disabled,[disabled],.btn-disabled):not(.btn-link,.btn-ghost){background-color:color-mix(in oklab,var(--color-base-content)10%,transparent)}}.btn:is(:disabled,[disabled],.btn-disabled):not(.btn-link,.btn-ghost){box-shadow:none}.btn:is(:disabled,[disabled],.btn-disabled){pointer-events:none;--btn-border:#0000;--btn-noise:none;--btn-fg:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.btn:is(:disabled,[disabled],.btn-disabled){--btn-fg:color-mix(in oklch,var(--color-base-content)20%,#0000)}}@media (hover:hover){.btn:is(:disabled,[disabled],.btn-disabled):hover{pointer-events:none;background-color:var(--color-neutral)}@supports (color:color-mix(in lab,red,red)){.btn:is(:disabled,[disabled],.btn-disabled):hover{background-color:color-mix(in oklab,var(--color-neutral)20%,transparent)}}.btn:is(:disabled,[disabled],.btn-disabled):hover{--btn-border:#0000;--btn-fg:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.btn:is(:disabled,[disabled],.btn-disabled):hover{--btn-fg:color-mix(in oklch,var(--color-base-content)20%,#0000)}}}.btn:is(input[type=checkbox],input[type=radio]){-webkit-appearance:none;-moz-appearance:none;appearance:none}.btn:is(input[type=checkbox],input[type=radio]):after{content:attr(aria-label)}.btn:where(input:checked:not(.filter .btn)){--btn-color:var(--color-primary);--btn-fg:var(--color-primary-content);isolation:isolate}.loading{pointer-events:none;aspect-ratio:1;vertical-align:middle;width:calc(var(--size-selector,.25rem)*6);background-color:currentColor;display:inline-block;-webkit-mask-image:url("data:image/svg+xml,%3Csvg width='24' height='24' stroke='black' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg transform-origin='center'%3E%3Ccircle cx='12' cy='12' r='9.5' fill='none' stroke-width='3' stroke-linecap='round'%3E%3CanimateTransform attributeName='transform' type='rotate' from='0 12 12' to='360 12 12' dur='2s' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-dasharray' values='0,150;42,150;42,150' keyTimes='0;0.475;1' dur='1.5s' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-dashoffset' values='0;-16;-59' keyTimes='0;0.475;1' dur='1.5s' repeatCount='indefinite'/%3E%3C/circle%3E%3C/g%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg width='24' height='24' stroke='black' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg transform-origin='center'%3E%3Ccircle cx='12' cy='12' r='9.5' fill='none' stroke-width='3' stroke-linecap='round'%3E%3CanimateTransform attributeName='transform' type='rotate' from='0 12 12' to='360 12 12' dur='2s' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-dasharray' values='0,150;42,150;42,150' keyTimes='0;0.475;1' dur='1.5s' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-dashoffset' values='0;-16;-59' keyTimes='0;0.475;1' dur='1.5s' repeatCount='indefinite'/%3E%3C/circle%3E%3C/g%3E%3C/svg%3E");-webkit-mask-position:50%;mask-position:50%;-webkit-mask-size:100%;mask-size:100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat}.pointer-events-auto{pointer-events:auto}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.list{flex-direction:column;font-size:.875rem;display:flex}.list :where(.list-row){--list-grid-cols:minmax(0,auto)1fr;border-radius:var(--radius-box);word-break:break-word;grid-auto-flow:column;grid-template-columns:var(--list-grid-cols);gap:1rem;padding:1rem;display:grid;position:relative}.list :where(.list-row):has(.list-col-grow:first-child){--list-grid-cols:1fr}.list :where(.list-row):has(.list-col-grow:nth-child(2)){--list-grid-cols:minmax(0,auto)1fr}.list :where(.list-row):has(.list-col-grow:nth-child(3)){--list-grid-cols:minmax(0,auto)minmax(0,auto)1fr}.list :where(.list-row):has(.list-col-grow:nth-child(4)){--list-grid-cols:minmax(0,auto)minmax(0,auto)minmax(0,auto)1fr}.list :where(.list-row):has(.list-col-grow:nth-child(5)){--list-grid-cols:minmax(0,auto)minmax(0,auto)minmax(0,auto)minmax(0,auto)1fr}.list :where(.list-row):has(.list-col-grow:nth-child(6)){--list-grid-cols:minmax(0,auto)minmax(0,auto)minmax(0,auto)minmax(0,auto)minmax(0,auto)1fr}.list :where(.list-row) :not(.list-col-wrap){grid-row-start:1}:is(.list>:not(:last-child).list-row,.list>:not(:last-child) .list-row):after{content:"";border-bottom:var(--border)solid;inset-inline:var(--radius-box);border-color:var(--color-base-content);position:absolute;bottom:0}@supports (color:color-mix(in lab,red,red)){:is(.list>:not(:last-child).list-row,.list>:not(:last-child) .list-row):after{border-color:color-mix(in oklab,var(--color-base-content)5%,transparent)}}.toast{translate:var(--toast-x,0)var(--toast-y,0);inset-inline:auto 1rem;background-color:#0000;flex-direction:column;gap:.5rem;width:max-content;max-width:calc(100vw - 2rem);display:flex;position:fixed;top:auto;bottom:1rem}.toast>*{animation:.25s ease-out toast}.toast:where(.toast-start){--toast-x:0;inset-inline:1rem auto}.toast:where(.toast-center){--toast-x:-50%;inset-inline:50%}.toast:where(.toast-end){--toast-x:0;inset-inline:auto 1rem}.toast:where(.toast-bottom){--toast-y:0;top:auto;bottom:1rem}.toast:where(.toast-middle){--toast-y:-50%;top:50%;bottom:auto}.toast:where(.toast-top){--toast-y:0;top:1rem;bottom:auto}.toggle{border:var(--border)solid currentColor;color:var(--input-color);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;webkit-user-select:none;-webkit-user-select:none;user-select:none;--radius-selector-max:calc(var(--radius-selector) + var(--radius-selector) + var(--radius-selector));border-radius:calc(var(--radius-selector) + min(var(--toggle-p),var(--radius-selector-max)) + min(var(--border),var(--radius-selector-max)));padding:var(--toggle-p);flex-shrink:0;grid-template-columns:0fr 1fr 1fr;place-content:center;display:inline-grid;position:relative;box-shadow:inset 0 1px}@supports (color:color-mix(in lab,red,red)){.toggle{box-shadow:0 1px color-mix(in oklab,currentColor calc(var(--depth)*10%),#0000) inset}}.toggle{--input-color:var(--color-base-content);transition:color .3s,grid-template-columns .2s}@supports (color:color-mix(in lab,red,red)){.toggle{--input-color:color-mix(in oklab,var(--color-base-content)50%,#0000)}}.toggle{--toggle-p:calc(var(--size)*.125);--size:calc(var(--size-selector,.25rem)*6);width:calc((var(--size)*2) - (var(--border) + var(--toggle-p))*2);height:var(--size)}.toggle>*{z-index:1;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#0000;border:none;grid-column:2/span 1;grid-row-start:1;height:100%;padding:.125rem;transition:opacity .2s,rotate .4s}.toggle>:focus{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.toggle>:focus{outline-offset:2px;outline:2px solid #0000}}.toggle>:nth-child(2){color:var(--color-base-100);rotate:none}.toggle>:nth-child(3){color:var(--color-base-100);opacity:0;rotate:-15deg}.toggle:has(:checked)>:nth-child(2){opacity:0;rotate:15deg}.toggle:has(:checked)>:nth-child(3){opacity:1;rotate:none}.toggle:before{aspect-ratio:1;border-radius:var(--radius-selector);--tw-content:"";content:var(--tw-content);height:100%;box-shadow:0 -1px oklch(0% 0 0/calc(var(--depth)*.1)) inset,0 8px 0 -4px oklch(100% 0 0/calc(var(--depth)*.1)) inset,0 1px currentColor;background-color:currentColor;grid-row-start:1;grid-column-start:2;transition:background-color .1s,translate .2s,inset-inline-start .2s;position:relative;inset-inline-start:0;translate:0}@supports (color:color-mix(in lab,red,red)){.toggle:before{box-shadow:0 -1px oklch(0% 0 0/calc(var(--depth)*.1)) inset,0 8px 0 -4px oklch(100% 0 0/calc(var(--depth)*.1)) inset,0 1px color-mix(in oklab,currentColor calc(var(--depth)*10%),#0000)}}.toggle:before{background-size:auto,calc(var(--noise)*100%);background-image:none,var(--fx-noise)}@media (forced-colors:active){.toggle:before{outline-style:var(--tw-outline-style);outline-offset:-1px;outline-width:1px}}@media print{.toggle:before{outline-offset:-1rem;outline:.25rem solid}}.toggle:focus-visible,.toggle:has(:focus-visible){outline-offset:2px;outline:2px solid}.toggle:checked,.toggle[aria-checked=true],.toggle:has(>input:checked){background-color:var(--color-base-100);--input-color:var(--color-base-content);grid-template-columns:1fr 1fr 0fr}:is(.toggle:checked,.toggle[aria-checked=true],.toggle:has(>input:checked)):before{background-color:currentColor}@starting-style{:is(.toggle:checked,.toggle[aria-checked=true],.toggle:has(>input:checked)):before{opacity:0}}.toggle:indeterminate{grid-template-columns:.5fr 1fr .5fr}.toggle:disabled{cursor:not-allowed;opacity:.3}.toggle:disabled:before{border:var(--border)solid currentColor;background-color:#0000}.input{cursor:text;border:var(--border)solid #0000;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--color-base-100);vertical-align:middle;white-space:nowrap;width:clamp(3rem,20rem,100%);height:var(--size);border-color:var(--input-color);box-shadow:0 1px var(--input-color) inset,0 -1px oklch(100% 0 0/calc(var(--depth)*.1)) inset;border-start-start-radius:var(--join-ss,var(--radius-field));border-start-end-radius:var(--join-se,var(--radius-field));border-end-end-radius:var(--join-ee,var(--radius-field));border-end-start-radius:var(--join-es,var(--radius-field));flex-shrink:1;align-items:center;gap:.5rem;padding-inline:.75rem;font-size:.875rem;display:inline-flex;position:relative}@supports (color:color-mix(in lab,red,red)){.input{box-shadow:0 1px color-mix(in oklab,var(--input-color)calc(var(--depth)*10%),#0000) inset,0 -1px oklch(100% 0 0/calc(var(--depth)*.1)) inset}}.input{--size:calc(var(--size-field,.25rem)*10);--input-color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.input{--input-color:color-mix(in oklab,var(--color-base-content)20%,#0000)}}.input:where(input){display:inline-flex}.input :where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#0000;border:none;width:100%;height:100%;display:inline-flex}.input :where(input):focus,.input :where(input):focus-within{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.input :where(input):focus,.input :where(input):focus-within{outline-offset:2px;outline:2px solid #0000}}.input :where(input[type=date]){display:inline-block}.input:focus,.input:focus-within{--input-color:var(--color-base-content);box-shadow:0 1px var(--input-color)}@supports (color:color-mix(in lab,red,red)){.input:focus,.input:focus-within{box-shadow:0 1px color-mix(in oklab,var(--input-color)calc(var(--depth)*10%),#0000)}}.input:focus,.input:focus-within{outline:2px solid var(--input-color);outline-offset:2px;isolation:isolate;z-index:1}.input:has(>input[disabled]),.input:is(:disabled,[disabled]){cursor:not-allowed;border-color:var(--color-base-200);background-color:var(--color-base-200);color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.input:has(>input[disabled]),.input:is(:disabled,[disabled]){color:color-mix(in oklab,var(--color-base-content)40%,transparent)}}:is(.input:has(>input[disabled]),.input:is(:disabled,[disabled]))::placeholder{color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){:is(.input:has(>input[disabled]),.input:is(:disabled,[disabled]))::placeholder{color:color-mix(in oklab,var(--color-base-content)20%,transparent)}}.input:has(>input[disabled]),.input:is(:disabled,[disabled]){box-shadow:none}.input:has(>input[disabled])>input[disabled]{cursor:not-allowed}.input::-webkit-date-and-time-value{text-align:inherit}.input[type=number]::-webkit-inner-spin-button{margin-block:-.75rem;margin-inline-end:-.75rem}.input::-webkit-calendar-picker-indicator{position:absolute;inset-inline-end:.75em}.table{border-radius:var(--radius-box);text-align:left;width:100%;font-size:.875rem;position:relative}.table:where(:dir(rtl),[dir=rtl],[dir=rtl] *){text-align:right}@media (hover:hover){:is(.table tr.row-hover,.table tr.row-hover:nth-child(2n)):hover{background-color:var(--color-base-200)}}.table :where(th,td){vertical-align:middle;padding-block:.75rem;padding-inline:1rem}.table :where(thead,tfoot){white-space:nowrap;color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.table :where(thead,tfoot){color:color-mix(in oklab,var(--color-base-content)60%,transparent)}}.table :where(thead,tfoot){font-size:.875rem;font-weight:600}.table :where(tfoot){border-top:var(--border)solid var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.table :where(tfoot){border-top:var(--border)solid color-mix(in oklch,var(--color-base-content)5%,#0000)}}.table :where(.table-pin-rows thead tr){z-index:1;background-color:var(--color-base-100);position:sticky;top:0}.table :where(.table-pin-rows tfoot tr){z-index:1;background-color:var(--color-base-100);position:sticky;bottom:0}.table :where(.table-pin-cols tr th){background-color:var(--color-base-100);position:sticky;left:0;right:0}.table :where(thead tr,tbody tr:not(:last-child)){border-bottom:var(--border)solid var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.table :where(thead tr,tbody tr:not(:last-child)){border-bottom:var(--border)solid color-mix(in oklch,var(--color-base-content)5%,#0000)}}.diff-resizer{z-index:1;resize:horizontal;opacity:0;cursor:ew-resize;transform-origin:100% 100%;clip-path:inset(calc(100% - .75rem) 0 0 calc(100% - .75rem));grid-row-start:1;grid-column-start:1;width:50cqi;min-width:1rem;max-width:calc(100cqi - 1rem);height:.5rem;transition:min-width .3s ease-out,max-width .3s ease-out;position:relative;top:50%;overflow:hidden;transform:scaleY(3)translate(.35rem,.08rem)}.range{-webkit-appearance:none;-moz-appearance:none;appearance:none;webkit-appearance:none;--range-thumb:var(--color-base-100);--range-thumb-size:calc(var(--size-selector,.25rem)*6);--range-progress:currentColor;--range-fill:1;--range-p:.25rem;--range-bg:currentColor}@supports (color:color-mix(in lab,red,red)){.range{--range-bg:color-mix(in oklab,currentColor 10%,#0000)}}.range{cursor:pointer;vertical-align:middle;--radius-selector-max:calc(var(--radius-selector) + var(--radius-selector) + var(--radius-selector));border-radius:calc(var(--radius-selector) + min(var(--range-p),var(--radius-selector-max)));width:clamp(3rem,20rem,100%);height:var(--range-thumb-size);background-color:#0000;border:none;overflow:hidden}[dir=rtl] .range{--range-dir:-1}.range:focus{outline:none}.range:focus-visible{outline-offset:2px;outline:2px solid}.range::-webkit-slider-runnable-track{background-color:var(--range-bg);border-radius:var(--radius-selector);width:100%;height:calc(var(--range-thumb-size)*.5)}@media (forced-colors:active){.range::-webkit-slider-runnable-track{border:1px solid}.range::-moz-range-track{border:1px solid}}.range::-webkit-slider-thumb{box-sizing:border-box;border-radius:calc(var(--radius-selector) + min(var(--range-p),var(--radius-selector-max)));height:var(--range-thumb-size);width:var(--range-thumb-size);border:var(--range-p)solid;-webkit-appearance:none;-moz-appearance:none;appearance:none;webkit-appearance:none;color:var(--range-progress);box-shadow:0 -1px oklch(0% 0 0/calc(var(--depth)*.1)) inset,0 8px 0 -4px oklch(100% 0 0/calc(var(--depth)*.1)) inset,0 1px currentColor,0 0 0 2rem var(--range-thumb) inset,calc((var(--range-dir,1)*-100rem) - (var(--range-dir,1)*var(--range-thumb-size)/2)) 0 0 calc(100rem*var(--range-fill));background-color:currentColor;position:relative;top:50%;transform:translateY(-50%)}@supports (color:color-mix(in lab,red,red)){.range::-webkit-slider-thumb{box-shadow:0 -1px oklch(0% 0 0/calc(var(--depth)*.1)) inset,0 8px 0 -4px oklch(100% 0 0/calc(var(--depth)*.1)) inset,0 1px color-mix(in oklab,currentColor calc(var(--depth)*10%),#0000),0 0 0 2rem var(--range-thumb) inset,calc((var(--range-dir,1)*-100rem) - (var(--range-dir,1)*var(--range-thumb-size)/2)) 0 0 calc(100rem*var(--range-fill))}}.range::-moz-range-track{background-color:var(--range-bg);border-radius:var(--radius-selector);width:100%;height:calc(var(--range-thumb-size)*.5)}.range::-moz-range-thumb{box-sizing:border-box;border-radius:calc(var(--radius-selector) + min(var(--range-p),var(--radius-selector-max)));height:var(--range-thumb-size);width:var(--range-thumb-size);border:var(--range-p)solid;color:var(--range-progress);box-shadow:0 -1px oklch(0% 0 0/calc(var(--depth)*.1)) inset,0 8px 0 -4px oklch(100% 0 0/calc(var(--depth)*.1)) inset,0 1px currentColor,0 0 0 2rem var(--range-thumb) inset,calc((var(--range-dir,1)*-100rem) - (var(--range-dir,1)*var(--range-thumb-size)/2)) 0 0 calc(100rem*var(--range-fill));background-color:currentColor;position:relative;top:50%}@supports (color:color-mix(in lab,red,red)){.range::-moz-range-thumb{box-shadow:0 -1px oklch(0% 0 0/calc(var(--depth)*.1)) inset,0 8px 0 -4px oklch(100% 0 0/calc(var(--depth)*.1)) inset,0 1px color-mix(in oklab,currentColor calc(var(--depth)*10%),#0000),0 0 0 2rem var(--range-thumb) inset,calc((var(--range-dir,1)*-100rem) - (var(--range-dir,1)*var(--range-thumb-size)/2)) 0 0 calc(100rem*var(--range-fill))}}.range:disabled{cursor:not-allowed;opacity:.3}.tabs-border .tab{--tab-border-color:#0000 #0000 var(--tab-border-color)#0000;border-radius:var(--radius-field);position:relative}.tabs-border .tab:before{--tw-content:"";content:var(--tw-content);background-color:var(--tab-border-color);border-radius:var(--radius-field);width:80%;height:3px;transition:background-color .2s;position:absolute;bottom:0;left:10%}:is(.tabs-border .tab:is(.tab-active,[aria-selected=true]):not(.tab-disabled,[disabled]),.tabs-border .tab:is(input:checked),.tabs-border .tab:is(label:has(:checked))):before{--tab-border-color:currentColor;border-top:3px solid}.card{border-radius:var(--radius-box);outline-offset:2px;outline:0 solid #0000;flex-direction:column;transition:outline .2s ease-in-out;display:flex;position:relative}.card:focus{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.card:focus{outline-offset:2px;outline:2px solid #0000}}.card:focus-visible{outline-color:currentColor}.card :where(figure:first-child){border-start-start-radius:inherit;border-start-end-radius:inherit;border-end-end-radius:unset;border-end-start-radius:unset;overflow:hidden}.card :where(figure:last-child){border-start-start-radius:unset;border-start-end-radius:unset;border-end-end-radius:inherit;border-end-start-radius:inherit;overflow:hidden}.card:where(.card-border){border:var(--border)solid var(--color-base-200)}.card:where(.card-dash){border:var(--border)dashed var(--color-base-200)}.card.image-full{display:grid}.card.image-full>*{grid-row-start:1;grid-column-start:1}.card.image-full>.card-body{color:var(--color-neutral-content);position:relative}.card.image-full :where(figure){border-radius:inherit;overflow:hidden}.card.image-full>figure img{object-fit:cover;filter:brightness(28%);height:100%}.card figure{justify-content:center;align-items:center;display:flex}.card:has(>input:is(input[type=checkbox],input[type=radio])){cursor:pointer;-webkit-user-select:none;user-select:none}.card:has(>:checked){outline:2px solid}.swap{cursor:pointer;vertical-align:middle;webkit-user-select:none;-webkit-user-select:none;user-select:none;place-content:center;display:inline-grid;position:relative}.swap input{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none}.swap>*{grid-row-start:1;grid-column-start:1;transition-property:transform,rotate,opacity;transition-duration:.2s;transition-timing-function:cubic-bezier(0,0,.2,1)}.swap .swap-on,.swap .swap-indeterminate,.swap input:indeterminate~.swap-on,.swap input:is(:checked,:indeterminate)~.swap-off{opacity:0}.swap input:checked~.swap-on,.swap input:indeterminate~.swap-indeterminate{opacity:1;backface-visibility:visible}.avatar{vertical-align:middle;display:inline-flex;position:relative}.avatar>div{aspect-ratio:1;display:block;overflow:hidden}.avatar img{object-fit:cover;width:100%;height:100%}.checkbox{border:var(--border)solid var(--input-color,var(--color-base-content))}@supports (color:color-mix(in lab,red,red)){.checkbox{border:var(--border)solid var(--input-color,color-mix(in oklab,var(--color-base-content)20%,#0000))}}.checkbox{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:var(--radius-selector);vertical-align:middle;color:var(--color-base-content);box-shadow:0 1px oklch(0% 0 0/calc(var(--depth)*.1)) inset,0 0 #0000 inset,0 0 #0000;--size:calc(var(--size-selector,.25rem)*6);width:var(--size);height:var(--size);background-size:auto,calc(var(--noise)*100%);background-image:none,var(--fx-noise);flex-shrink:0;padding:.25rem;transition:background-color .2s,box-shadow .2s;position:relative}.checkbox:before{--tw-content:"";content:var(--tw-content);opacity:0;clip-path:polygon(20% 100%,20% 80%,50% 80%,50% 80%,70% 80%,70% 100%);width:100%;height:100%;box-shadow:0 3px oklch(100% 0 0/calc(var(--depth)*.1)) inset;background-color:currentColor;font-size:1rem;line-height:.75;transition:clip-path .3s .1s,opacity .1s .1s,rotate .3s .1s,translate .3s .1s;display:block;rotate:45deg}.checkbox:focus-visible{outline:2px solid var(--input-color,currentColor);outline-offset:2px}.checkbox:checked,.checkbox[aria-checked=true]{background-color:var(--input-color,#0000);box-shadow:0 0 #0000 inset,0 8px 0 -4px oklch(100% 0 0/calc(var(--depth)*.1)) inset,0 1px oklch(0% 0 0/calc(var(--depth)*.1))}:is(.checkbox:checked,.checkbox[aria-checked=true]):before{clip-path:polygon(20% 100%,20% 80%,50% 80%,50% 0%,70% 0%,70% 100%);opacity:1}@media (forced-colors:active){:is(.checkbox:checked,.checkbox[aria-checked=true]):before{--tw-content:"✔︎";clip-path:none;background-color:#0000;rotate:none}}@media print{:is(.checkbox:checked,.checkbox[aria-checked=true]):before{--tw-content:"✔︎";clip-path:none;background-color:#0000;rotate:none}}.checkbox:indeterminate:before{opacity:1;clip-path:polygon(20% 100%,20% 80%,50% 80%,50% 80%,80% 80%,80% 100%);translate:0 -35%;rotate:none}.checkbox:disabled{cursor:not-allowed;opacity:.2}.radio{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;border:var(--border)solid var(--input-color,currentColor);border-radius:3.40282e38px;flex-shrink:0;padding:.25rem;position:relative}@supports (color:color-mix(in lab,red,red)){.radio{border:var(--border)solid var(--input-color,color-mix(in srgb,currentColor 20%,#0000))}}.radio{box-shadow:0 1px oklch(0% 0 0/calc(var(--depth)*.1)) inset;--size:calc(var(--size-selector,.25rem)*6);width:var(--size);height:var(--size);color:var(--input-color,currentColor)}.radio:before{--tw-content:"";content:var(--tw-content);background-size:auto,calc(var(--noise)*100%);background-image:none,var(--fx-noise);border-radius:3.40282e38px;width:100%;height:100%;display:block}.radio:focus-visible{outline:2px solid}.radio:checked,.radio[aria-checked=true]{background-color:var(--color-base-100);border-color:currentColor;animation:.2s ease-out radio}:is(.radio:checked,.radio[aria-checked=true]):before{box-shadow:0 -1px oklch(0% 0 0/calc(var(--depth)*.1)) inset,0 8px 0 -4px oklch(100% 0 0/calc(var(--depth)*.1)) inset,0 1px oklch(0% 0 0/calc(var(--depth)*.1));background-color:currentColor}@media (forced-colors:active){:is(.radio:checked,.radio[aria-checked=true]):before{outline-style:var(--tw-outline-style);outline-offset:-1px;outline-width:1px}}@media print{:is(.radio:checked,.radio[aria-checked=true]):before{outline-offset:-1rem;outline:.25rem solid}}.radio:disabled{cursor:not-allowed;opacity:.2}.rating{vertical-align:middle;display:inline-flex;position:relative}.rating input{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none}.rating :where(*){background-color:var(--color-base-content);opacity:.2;border-radius:0;width:1.5rem;height:1.5rem;animation:.25s ease-out rating}.rating :where(*):is(input){cursor:pointer}.rating .rating-hidden{background-color:#0000;width:.5rem}.rating input[type=radio]:checked{background-image:none}.rating :checked,.rating [aria-checked=true],.rating [aria-current=true],.rating :has(~:checked,~[aria-checked=true],~[aria-current=true]){opacity:1}.rating :focus-visible{transition:scale .2s ease-out;scale:1.1}.rating :active:focus{animation:none;scale:1.1}.rating.rating-xs :where(:not(.rating-hidden)){width:1rem;height:1rem}.rating.rating-sm :where(:not(.rating-hidden)){width:1.25rem;height:1.25rem}.rating.rating-md :where(:not(.rating-hidden)){width:1.5rem;height:1.5rem}.rating.rating-lg :where(:not(.rating-hidden)){width:1.75rem;height:1.75rem}.rating.rating-xl :where(:not(.rating-hidden)){width:2rem;height:2rem}.drawer{grid-auto-columns:max-content auto;width:100%;display:grid;position:relative}.stats{border-radius:var(--radius-box);grid-auto-flow:column;display:inline-grid;position:relative;overflow-x:auto}.progress{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:var(--radius-box);background-color:currentColor;width:100%;height:.5rem;position:relative;overflow:hidden}@supports (color:color-mix(in lab,red,red)){.progress{background-color:color-mix(in oklab,currentColor 20%,transparent)}}.progress{color:var(--color-base-content)}.progress:indeterminate{background-image:repeating-linear-gradient(90deg,currentColor -1% 10%,#0000 10% 90%);background-position-x:15%;background-size:200%;animation:5s ease-in-out infinite progress}@supports ((-moz-appearance:none)){.progress:indeterminate::-moz-progress-bar{background-color:#0000;background-image:repeating-linear-gradient(90deg,currentColor -1% 10%,#0000 10% 90%);background-position-x:15%;background-size:200%;animation:5s ease-in-out infinite progress}.progress::-moz-progress-bar{border-radius:var(--radius-box);background-color:currentColor}}@supports ((-webkit-appearance:none)){.progress::-webkit-progress-bar{border-radius:var(--radius-box);background-color:#0000}.progress::-webkit-progress-value{border-radius:var(--radius-box);background-color:currentColor}}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.relative\\!{position:relative!important}.static{position:static}.sticky{position:sticky}.tooltip-bottom>.tooltip-content,.tooltip-bottom[data-tip]:before{transform:translate(-50%)translateY(var(--tt-pos,-.25rem));inset:var(--tt-off)auto auto 50%}.tooltip-bottom:after{transform:translate(-50%)translateY(var(--tt-pos,-.25rem))rotate(180deg);inset:var(--tt-tail)auto auto 50%}.tooltip-left>.tooltip-content,.tooltip-left[data-tip]:before{transform:translate(calc(var(--tt-pos,.25rem) - .25rem))translateY(-50%);inset:50% var(--tt-off)auto auto}.tooltip-left:after{transform:translate(var(--tt-pos,.25rem))translateY(-50%)rotate(-90deg);inset:50% calc(var(--tt-tail) + 1px)auto auto}.tooltip-top>.tooltip-content,.tooltip-top[data-tip]:before{transform:translate(-50%)translateY(var(--tt-pos,.25rem));inset:auto auto var(--tt-off)50%}.tooltip-top:after{transform:translate(-50%)translateY(var(--tt-pos,.25rem));inset:auto auto var(--tt-tail)50%}.inset-0{inset:calc(var(--spacing)*0)}.inset-x-0{inset-inline:calc(var(--spacing)*0)}.inset-y-0{inset-block:calc(var(--spacing)*0)}.-top-0{top:calc(var(--spacing)*0)}.-top-0\\.5{top:calc(var(--spacing)*-.5)}.top-0{top:calc(var(--spacing)*0)}.top-1{top:calc(var(--spacing)*1)}.top-1\\.5{top:calc(var(--spacing)*1.5)}.top-1\\/2{top:50%}.top-1\\/2\\!{top:50%!important}.top-4{top:calc(var(--spacing)*4)}.top-4\\!{top:calc(var(--spacing)*4)!important}.top-\\[-30px\\]{top:-30px}.-right-0{right:calc(var(--spacing)*0)}.-right-0\\.5{right:calc(var(--spacing)*-.5)}.right-0{right:calc(var(--spacing)*0)}.right-1{right:calc(var(--spacing)*1)}.right-1\\.5{right:calc(var(--spacing)*1.5)}.right-4{right:calc(var(--spacing)*4)}.bottom-0{bottom:calc(var(--spacing)*0)}.bottom-1{bottom:calc(var(--spacing)*1)}.bottom-1\\.5{bottom:calc(var(--spacing)*1.5)}.bottom-2{bottom:calc(var(--spacing)*2)}.bottom-\\[-50px\\]{bottom:-50px}.bottom-\\[3\\%\\]{bottom:3%}.left-0{left:calc(var(--spacing)*0)}.left-1{left:calc(var(--spacing)*1)}.left-1\\.5{left:calc(var(--spacing)*1.5)}.left-1\\/2{left:50%}.left-1\\/2\\!{left:50%!important}.left-4{left:calc(var(--spacing)*4)}.left-4\\!{left:calc(var(--spacing)*4)!important}.textarea{border:var(--border)solid #0000;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:var(--radius-field);background-color:var(--color-base-100);vertical-align:middle;border-color:var(--input-color);width:clamp(3rem,20rem,100%);min-height:5rem;box-shadow:0 1px var(--input-color) inset,0 -1px oklch(100% 0 0/calc(var(--depth)*.1)) inset;flex-shrink:1;padding-block:.5rem;padding-inline:.75rem;font-size:.875rem}@supports (color:color-mix(in lab,red,red)){.textarea{box-shadow:0 1px color-mix(in oklab,var(--input-color)calc(var(--depth)*10%),#0000) inset,0 -1px oklch(100% 0 0/calc(var(--depth)*.1)) inset}}.textarea{--input-color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.textarea{--input-color:color-mix(in oklab,var(--color-base-content)20%,#0000)}}.textarea textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#0000;border:none}.textarea textarea:focus,.textarea textarea:focus-within{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.textarea textarea:focus,.textarea textarea:focus-within{outline-offset:2px;outline:2px solid #0000}}.textarea:focus,.textarea:focus-within{--input-color:var(--color-base-content);box-shadow:0 1px var(--input-color)}@supports (color:color-mix(in lab,red,red)){.textarea:focus,.textarea:focus-within{box-shadow:0 1px color-mix(in oklab,var(--input-color)calc(var(--depth)*10%),#0000)}}.textarea:focus,.textarea:focus-within{outline:2px solid var(--input-color);outline-offset:2px;isolation:isolate}.textarea:has(>textarea[disabled]),.textarea:is(:disabled,[disabled]){cursor:not-allowed;border-color:var(--color-base-200);background-color:var(--color-base-200);color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.textarea:has(>textarea[disabled]),.textarea:is(:disabled,[disabled]){color:color-mix(in oklab,var(--color-base-content)40%,transparent)}}:is(.textarea:has(>textarea[disabled]),.textarea:is(:disabled,[disabled]))::placeholder{color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){:is(.textarea:has(>textarea[disabled]),.textarea:is(:disabled,[disabled]))::placeholder{color:color-mix(in oklab,var(--color-base-content)20%,transparent)}}.textarea:has(>textarea[disabled]),.textarea:is(:disabled,[disabled]){box-shadow:none}.textarea:has(>textarea[disabled])>textarea[disabled]{cursor:not-allowed}.btn-active{--btn-bg:var(--btn-color,var(--color-base-200))}@supports (color:color-mix(in lab,red,red)){.btn-active{--btn-bg:color-mix(in oklab,var(--btn-color,var(--color-base-200)),#000 7%)}}.btn-active{--btn-shadow:0 0 0 0 oklch(0% 0 0/0),0 0 0 0 oklch(0% 0 0/0);isolation:isolate}.stack{grid-template-rows:3px 4px 1fr 4px 3px;grid-template-columns:3px 4px 1fr 4px 3px;display:inline-grid}.stack>*{width:100%;height:100%}.stack>:nth-child(n+2){opacity:.7;width:100%}.stack>:nth-child(2){z-index:2;opacity:.9}.stack>:first-child{z-index:3;width:100%}:is(.stack,.stack.stack-bottom)>*{grid-area:3/3/6/4}:is(.stack,.stack.stack-bottom)>:nth-child(2){grid-area:2/2/5/5}:is(.stack,.stack.stack-bottom)>:first-child{grid-area:1/1/4/6}.stack.stack-top>*{grid-area:1/3/4/4}.stack.stack-top>:nth-child(2){grid-area:2/2/5/5}.stack.stack-top>:first-child{grid-area:3/1/6/6}.stack.stack-start>*{grid-area:3/1/4/4}.stack.stack-start>:nth-child(2){grid-area:2/2/5/5}.stack.stack-start>:first-child{grid-area:1/3/6/6}.stack.stack-end>*{grid-area:3/3/4/6}.stack.stack-end>:nth-child(2){grid-area:2/2/5/5}.stack.stack-end>:first-child{grid-area:1/1/6/4}.z-1{z-index:1}.z-2{z-index:2}.z-10{z-index:10}.tab-content{order:var(--tabcontent-order);--tabcontent-radius-ss:0;--tabcontent-radius-se:0;--tabcontent-radius-es:0;--tabcontent-radius-ee:0;--tabcontent-order:1;width:100%;margin:var(--tabcontent-margin);border-color:#0000;border-width:var(--border);border-start-start-radius:var(--tabcontent-radius-ss);border-start-end-radius:var(--tabcontent-radius-se);border-end-end-radius:var(--tabcontent-radius-ee);border-end-start-radius:var(--tabcontent-radius-es);display:none}.drawer-content{grid-row-start:1;grid-column-start:2;min-width:0}.drawer-end{grid-auto-columns:auto max-content}.drawer-end>.drawer-toggle~.drawer-content{grid-column-start:1}.drawer-end>.drawer-toggle~.drawer-side{grid-column-start:2;justify-items:end}.drawer-end>.drawer-toggle~.drawer-side>:not(.drawer-overlay){translate:100%}[dir=rtl] :is(.drawer-end>.drawer-toggle~.drawer-side>:not(.drawer-overlay)){translate:-100%}.drawer-end>.drawer-toggle:checked~.drawer-side>:not(.drawer-overlay){translate:0%}.container{width:100%}@media (min-width:40rem){.container{max-width:40rem}}@media (min-width:48rem){.container{max-width:48rem}}@media (min-width:64rem){.container{max-width:64rem}}@media (min-width:80rem){.container{max-width:80rem}}@media (min-width:96rem){.container{max-width:96rem}}.divider{white-space:nowrap;height:1rem;margin:var(--divider-m,1rem 0);--divider-color:var(--color-base-content);flex-direction:row;align-self:stretch;align-items:center;display:flex}@supports (color:color-mix(in lab,red,red)){.divider{--divider-color:color-mix(in oklab,var(--color-base-content)10%,transparent)}}.divider:before,.divider:after{content:"";background-color:var(--divider-color);flex-grow:1;width:100%;height:.125rem}@media print{.divider:before,.divider:after{border:.5px solid}}.divider:not(:empty){gap:1rem}.m-0{margin:calc(var(--spacing)*0)}.m-auto{margin:auto}.filter{flex-wrap:wrap;display:flex}.filter input[type=radio]{width:auto}.filter input{opacity:1;transition:margin .1s,opacity .3s,padding .3s,border-width .1s;overflow:hidden;scale:1}.filter input:not(:last-child){margin-inline-end:.25rem}.filter input.filter-reset{aspect-ratio:1}.filter input.filter-reset:after{content:"×"}.filter:not(:has(input:checked:not(.filter-reset))) .filter-reset,.filter:not(:has(input:checked:not(.filter-reset))) input[type=reset],.filter:has(input:checked:not(.filter-reset)) input:not(:checked,.filter-reset,input[type=reset]){opacity:0;border-width:0;width:0;margin-inline:0;padding-inline:0;scale:0}.mx-2{margin-inline:calc(var(--spacing)*2)}.mx-auto{margin-inline:auto}.my-20{margin-block:calc(var(--spacing)*20)}.label{white-space:nowrap;color:currentColor;align-items:center;gap:.375rem;display:inline-flex}@supports (color:color-mix(in lab,red,red)){.label{color:color-mix(in oklab,currentColor 60%,transparent)}}.label:has(input){cursor:pointer}.label:is(.input>*,.select>*){white-space:nowrap;height:calc(100% - .5rem);font-size:inherit;align-items:center;padding-inline:.75rem;display:flex}.label:is(.input>*,.select>*):first-child{border-inline-end:var(--border)solid currentColor;margin-inline:-.75rem .75rem}@supports (color:color-mix(in lab,red,red)){.label:is(.input>*,.select>*):first-child{border-inline-end:var(--border)solid color-mix(in oklab,currentColor 10%,#0000)}}.label:is(.input>*,.select>*):last-child{border-inline-start:var(--border)solid currentColor;margin-inline:.75rem -.75rem}@supports (color:color-mix(in lab,red,red)){.label:is(.input>*,.select>*):last-child{border-inline-start:var(--border)solid color-mix(in oklab,currentColor 10%,#0000)}}.join-item:where(:not(:first-child,:disabled,[disabled],.btn-disabled)){margin-block-start:0;margin-inline-start:calc(var(--border,1px)*-1)}.mt-1{margin-top:calc(var(--spacing)*1)}.mt-2{margin-top:calc(var(--spacing)*2)}.mt-3{margin-top:calc(var(--spacing)*3)}.mt-4{margin-top:calc(var(--spacing)*4)}.mt-5{margin-top:calc(var(--spacing)*5)}.mt-6{margin-top:calc(var(--spacing)*6)}.breadcrumbs{max-width:100%;padding-block:.5rem;overflow-x:auto}.breadcrumbs>menu,.breadcrumbs>ul,.breadcrumbs>ol{white-space:nowrap;align-items:center;min-height:min-content;display:flex}:is(.breadcrumbs>menu,.breadcrumbs>ul,.breadcrumbs>ol)>li{align-items:center;display:flex}:is(.breadcrumbs>menu,.breadcrumbs>ul,.breadcrumbs>ol)>li>*{cursor:pointer;align-items:center;gap:.5rem;display:flex}@media (hover:hover){:is(.breadcrumbs>menu,.breadcrumbs>ul,.breadcrumbs>ol)>li>:hover{text-decoration-line:underline}}:is(.breadcrumbs>menu,.breadcrumbs>ul,.breadcrumbs>ol)>li>:focus{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){:is(.breadcrumbs>menu,.breadcrumbs>ul,.breadcrumbs>ol)>li>:focus{outline-offset:2px;outline:2px solid #0000}}:is(.breadcrumbs>menu,.breadcrumbs>ul,.breadcrumbs>ol)>li>:focus-visible{outline-offset:2px;outline:2px solid}:is(.breadcrumbs>menu,.breadcrumbs>ul,.breadcrumbs>ol)>li+:before{content:"";opacity:.4;background-color:#0000;border-top:1px solid;border-right:1px solid;width:.375rem;height:.375rem;margin-left:.5rem;margin-right:.75rem;display:block;rotate:45deg}[dir=rtl] :is(:is(.breadcrumbs>menu,.breadcrumbs>ul,.breadcrumbs>ol)>li)+:before{rotate:-135deg}.mr-2{margin-right:calc(var(--spacing)*2)}.fieldset-legend{color:var(--color-base-content);justify-content:space-between;align-items:center;gap:.5rem;margin-bottom:-.25rem;padding-block:.5rem;font-weight:600;display:flex}.mb-1{margin-bottom:calc(var(--spacing)*1)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mb-5{margin-bottom:calc(var(--spacing)*5)}.mb-6{margin-bottom:calc(var(--spacing)*6)}.ml-2{margin-left:calc(var(--spacing)*2)}.box-border{box-sizing:border-box}.status{aspect-ratio:1;border-radius:var(--radius-selector);background-color:var(--color-base-content);width:.5rem;height:.5rem;display:inline-block}@supports (color:color-mix(in lab,red,red)){.status{background-color:color-mix(in oklab,var(--color-base-content)20%,transparent)}}.status{vertical-align:middle;color:#0000004d;background-position:50%;background-repeat:no-repeat}@supports (color:color-mix(in lab,red,red)){.status{color:#0000004d}@supports (color:color-mix(in lab,red,red)){.status{color:color-mix(in oklab,var(--color-black)30%,transparent)}}}.status{background-image:radial-gradient(circle at 35% 30%,oklch(1 0 0/calc(var(--depth)*.5)),#0000);box-shadow:0 2px 3px -1px}@supports (color:color-mix(in lab,red,red)){.status{box-shadow:0 2px 3px -1px color-mix(in oklab,currentColor calc(var(--depth)*100%),#0000)}}.status\\!{aspect-ratio:1!important;border-radius:var(--radius-selector)!important;background-color:var(--color-base-content)!important;width:.5rem!important;height:.5rem!important;display:inline-block!important}@supports (color:color-mix(in lab,red,red)){.status\\!{background-color:color-mix(in oklab,var(--color-base-content)20%,transparent)!important}}.status\\!{vertical-align:middle!important;color:#0000004d!important;background-position:50%!important;background-repeat:no-repeat!important}@supports (color:color-mix(in lab,red,red)){.status\\!{color:#0000004d!important}@supports (color:color-mix(in lab,red,red)){.status\\!{color:color-mix(in oklab,var(--color-black)30%,transparent)!important}}}.status\\!{background-image:radial-gradient(circle at 35% 30%,oklch(1 0 0/calc(var(--depth)*.5)),#0000)!important;box-shadow:0 2px 3px -1px!important}@supports (color:color-mix(in lab,red,red)){.status\\!{box-shadow:0 2px 3px -1px color-mix(in oklab,currentColor calc(var(--depth)*100%),#0000)!important}}.badge{border-radius:var(--radius-selector);vertical-align:middle;color:var(--badge-fg);border:var(--border)solid var(--badge-color,var(--color-base-200));width:fit-content;padding-inline:calc(.25rem*3 - var(--border));background-size:auto,calc(var(--noise)*100%);background-image:none,var(--fx-noise);background-color:var(--badge-bg);--badge-bg:var(--badge-color,var(--color-base-100));--badge-fg:var(--color-base-content);--size:calc(var(--size-selector,.25rem)*6);height:var(--size);justify-content:center;align-items:center;gap:.5rem;font-size:.875rem;display:inline-flex}.badge.badge-outline{--badge-fg:var(--badge-color);--badge-bg:#0000;background-image:none;border-color:currentColor}.badge.badge-dash{--badge-fg:var(--badge-color);--badge-bg:#0000;background-image:none;border-style:dashed;border-color:currentColor}.badge.badge-soft{color:var(--badge-color,var(--color-base-content));background-color:var(--badge-color,var(--color-base-content))}@supports (color:color-mix(in lab,red,red)){.badge.badge-soft{background-color:color-mix(in oklab,var(--badge-color,var(--color-base-content))8%,var(--color-base-100))}}.badge.badge-soft{border-color:var(--badge-color,var(--color-base-content))}@supports (color:color-mix(in lab,red,red)){.badge.badge-soft{border-color:color-mix(in oklab,var(--badge-color,var(--color-base-content))10%,var(--color-base-100))}}.badge.badge-soft{background-image:none}.kbd{border-radius:var(--radius-field);background-color:var(--color-base-200);vertical-align:middle;border:var(--border)solid var(--color-base-content);justify-content:center;align-items:center;padding-left:.5em;padding-right:.5em;display:inline-flex}@supports (color:color-mix(in lab,red,red)){.kbd{border:var(--border)solid color-mix(in srgb,var(--color-base-content)20%,#0000)}}.kbd{border-bottom:calc(var(--border) + 1px)solid var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.kbd{border-bottom:calc(var(--border) + 1px)solid color-mix(in srgb,var(--color-base-content)20%,#0000)}}.kbd{--size:calc(var(--size-selector,.25rem)*6);height:var(--size);min-width:var(--size);font-size:.875rem}.tabs{--tabs-height:auto;--tabs-direction:row;height:var(--tabs-height);flex-wrap:wrap;flex-direction:var(--tabs-direction);display:flex}.footer{grid-auto-flow:row;place-items:start;gap:2.5rem 1rem;width:100%;font-size:.875rem;line-height:1.25rem;display:grid}.footer>*{place-items:start;gap:.5rem;display:grid}.footer.footer-center{text-align:center;grid-auto-flow:column dense;place-items:center}.footer.footer-center>*{place-items:center}.card-body{padding:var(--card-p,1.5rem);font-size:var(--card-fs,.875rem);flex-direction:column;flex:auto;gap:.5rem;display:flex}.card-body :where(p){flex-grow:1}.alert{border-radius:var(--radius-box);color:var(--color-base-content);background-color:var(--alert-color,var(--color-base-200));text-align:start;border:var(--border)solid var(--color-base-200);background-size:auto,calc(var(--noise)*100%);background-image:none,var(--fx-noise);box-shadow:0 3px 0 -2px oklch(100% 0 0/calc(var(--depth)*.08)) inset,0 1px #000,0 4px 3px -2px oklch(0% 0 0/calc(var(--depth)*.08));grid-template-columns:auto;grid-auto-flow:column;justify-content:start;place-items:center start;gap:1rem;padding-block:.75rem;padding-inline:1rem;font-size:.875rem;line-height:1.25rem;display:grid}@supports (color:color-mix(in lab,red,red)){.alert{box-shadow:0 3px 0 -2px oklch(100% 0 0/calc(var(--depth)*.08)) inset,0 1px color-mix(in oklab,color-mix(in oklab,#000 20%,var(--alert-color,var(--color-base-200)))calc(var(--depth)*20%),#0000),0 4px 3px -2px oklch(0% 0 0/calc(var(--depth)*.08))}}.alert:has(:nth-child(2)){grid-template-columns:auto minmax(auto,1fr)}.alert.alert-outline{color:var(--alert-color);box-shadow:none;background-color:#0000;background-image:none}.alert.alert-dash{color:var(--alert-color);box-shadow:none;background-color:#0000;background-image:none;border-style:dashed}.alert.alert-soft{color:var(--alert-color,var(--color-base-content));background:var(--alert-color,var(--color-base-content))}@supports (color:color-mix(in lab,red,red)){.alert.alert-soft{background:color-mix(in oklab,var(--alert-color,var(--color-base-content))8%,var(--color-base-100))}}.alert.alert-soft{border-color:var(--alert-color,var(--color-base-content))}@supports (color:color-mix(in lab,red,red)){.alert.alert-soft{border-color:color-mix(in oklab,var(--alert-color,var(--color-base-content))10%,var(--color-base-100))}}.alert.alert-soft{box-shadow:none;background-image:none}.fieldset{grid-template-columns:1fr;grid-auto-rows:max-content;gap:.375rem;padding-block:.25rem;font-size:.75rem;display:grid}.card-title{font-size:var(--cardtitle-fs,1.125rem);align-items:center;gap:.5rem;font-weight:600;display:flex}.chat{column-gap:.75rem;padding-block:.25rem;display:grid}.line-clamp-1{-webkit-line-clamp:1;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.line-clamp-2{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.line-clamp-3{-webkit-line-clamp:3;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}:root .prose{--tw-prose-body:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){:root .prose{--tw-prose-body:color-mix(in oklab,var(--color-base-content)80%,#0000)}}:root .prose{--tw-prose-headings:var(--color-base-content);--tw-prose-lead:var(--color-base-content);--tw-prose-links:var(--color-base-content);--tw-prose-bold:var(--color-base-content);--tw-prose-counters:var(--color-base-content);--tw-prose-bullets:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){:root .prose{--tw-prose-bullets:color-mix(in oklab,var(--color-base-content)50%,#0000)}}:root .prose{--tw-prose-hr:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){:root .prose{--tw-prose-hr:color-mix(in oklab,var(--color-base-content)20%,#0000)}}:root .prose{--tw-prose-quotes:var(--color-base-content);--tw-prose-quote-borders:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){:root .prose{--tw-prose-quote-borders:color-mix(in oklab,var(--color-base-content)20%,#0000)}}:root .prose{--tw-prose-captions:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){:root .prose{--tw-prose-captions:color-mix(in oklab,var(--color-base-content)50%,#0000)}}:root .prose{--tw-prose-code:var(--color-base-content);--tw-prose-pre-code:var(--color-neutral-content);--tw-prose-pre-bg:var(--color-neutral);--tw-prose-th-borders:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){:root .prose{--tw-prose-th-borders:color-mix(in oklab,var(--color-base-content)50%,#0000)}}:root .prose{--tw-prose-td-borders:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){:root .prose{--tw-prose-td-borders:color-mix(in oklab,var(--color-base-content)20%,#0000)}}:root .prose{--tw-prose-kbd:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){:root .prose{--tw-prose-kbd:color-mix(in oklab,var(--color-base-content)80%,#0000)}}:root .prose :where(code):not(pre>code){background-color:var(--color-base-200);border-radius:var(--radius-selector);border:var(--border)solid var(--color-base-300);font-weight:inherit;padding-inline:.5em}:root .prose :where(code):not(pre>code):before,:root .prose :where(code):not(pre>code):after{display:none}.mask{vertical-align:middle;display:inline-block;-webkit-mask-position:50%;mask-position:50%;-webkit-mask-size:contain;mask-size:contain;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat}.block{display:block}.flex{display:flex}.grid{display:grid}.inline{display:inline}.inline-block{display:inline-block}.inline-flex{display:inline-flex}.table{display:table}.aspect-square{aspect-ratio:1}.aspect-video{aspect-ratio:var(--aspect-video)}.btn-circle{width:var(--size);height:var(--size);border-radius:3.40282e38px;padding-inline:0}.size-3{width:calc(var(--spacing)*3);height:calc(var(--spacing)*3)}.size-3\\.5{width:calc(var(--spacing)*3.5);height:calc(var(--spacing)*3.5)}.size-4{width:calc(var(--spacing)*4);height:calc(var(--spacing)*4)}.size-6{width:calc(var(--spacing)*6);height:calc(var(--spacing)*6)}.size-7{width:calc(var(--spacing)*7);height:calc(var(--spacing)*7)}.size-8{width:calc(var(--spacing)*8);height:calc(var(--spacing)*8)}.size-12{width:calc(var(--spacing)*12);height:calc(var(--spacing)*12)}.size-20{width:calc(var(--spacing)*20);height:calc(var(--spacing)*20)}.size-\\[61\\.8\\%\\]{width:61.8%;height:61.8%}.size-full{width:100%;height:100%}.h-\\(--app-playlist-header-height\\){height:var(--app-playlist-header-height)}.h-1{height:calc(var(--spacing)*1)}.h-2{height:calc(var(--spacing)*2)}.h-2\\.5{height:calc(var(--spacing)*2.5)}.h-2\\/3{height:66.6667%}.h-4{height:calc(var(--spacing)*4)}.h-5{height:calc(var(--spacing)*5)}.h-7{height:calc(var(--spacing)*7)}.h-8{height:calc(var(--spacing)*8)}.h-12{height:calc(var(--spacing)*12)}.h-14{height:calc(var(--spacing)*14)}.h-15{height:calc(var(--spacing)*15)}.h-16{height:calc(var(--spacing)*16)}.h-20{height:calc(var(--spacing)*20)}.h-24{height:calc(var(--spacing)*24)}.h-28{height:calc(var(--spacing)*28)}.h-32{height:calc(var(--spacing)*32)}.h-auto{height:auto}.h-full{height:100%}.h-screen{height:100vh}.max-h-2{max-height:calc(var(--spacing)*2)}.max-h-2\\/3{max-height:66.6667%}.max-h-72{max-height:calc(var(--spacing)*72)}.max-h-96{max-height:calc(var(--spacing)*96)}.min-h-screen{min-height:100vh}.w-\\(--app-playlist-width\\)\\!{width:var(--app-playlist-width)!important}.w-\\(--app-xplayer-width\\)\\!{width:var(--app-xplayer-width)!important}.w-0{width:calc(var(--spacing)*0)}.w-1{width:calc(var(--spacing)*1)}.w-1\\/3{width:33.3333%}.w-2{width:calc(var(--spacing)*2)}.w-2\\.5{width:calc(var(--spacing)*2.5)}.w-4{width:calc(var(--spacing)*4)}.w-4\\/5{width:80%}.w-8{width:calc(var(--spacing)*8)}.w-12{width:calc(var(--spacing)*12)}.w-15{width:calc(var(--spacing)*15)}.w-16{width:calc(var(--spacing)*16)}.w-18{width:calc(var(--spacing)*18)}.w-20{width:calc(var(--spacing)*20)}.w-24{width:calc(var(--spacing)*24)}.w-32{width:calc(var(--spacing)*32)}.w-35{width:calc(var(--spacing)*35)}.w-36{width:calc(var(--spacing)*36)}.w-48{width:calc(var(--spacing)*48)}.w-50{width:calc(var(--spacing)*50)}.w-80{width:calc(var(--spacing)*80)}.w-fit{width:fit-content}.w-full{width:100%}.w-lg{width:var(--container-lg)}.w-xs{width:var(--container-xs)}.max-w-2xl{max-width:var(--container-2xl)}.max-w-214{max-width:calc(var(--spacing)*214)}.max-w-\\[80\\%\\]{max-width:80%}.max-w-full{max-width:100%}.max-w-xl{max-width:var(--container-xl)}.min-w-10{min-width:calc(var(--spacing)*10)}.min-w-32{min-width:calc(var(--spacing)*32)}.flex-1{flex:1}.flex-shrink{flex-shrink:1}.flex-shrink-0,.shrink-0{flex-shrink:0}.table-fixed{table-layout:fixed}.-translate-x-1{--tw-translate-x:calc(var(--spacing)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-x-1\\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-x-1\\/2\\!{--tw-translate-x: -50% !important;translate:var(--tw-translate-x)var(--tw-translate-y)!important}.-translate-y-1{--tw-translate-y:calc(var(--spacing)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1\\/2{--tw-translate-y: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1\\/2\\!{--tw-translate-y: -50% !important;translate:var(--tw-translate-x)var(--tw-translate-y)!important}.\\!scale-80{--tw-scale-x:80%!important;--tw-scale-y:80%!important;--tw-scale-z:80%!important;scale:var(--tw-scale-x)var(--tw-scale-y)!important}.\\!scale-100{--tw-scale-x:100%!important;--tw-scale-y:100%!important;--tw-scale-z:100%!important;scale:var(--tw-scale-x)var(--tw-scale-y)!important}.scale-0{--tw-scale-x:0%;--tw-scale-y:0%;--tw-scale-z:0%;scale:var(--tw-scale-x)var(--tw-scale-y)}.scale-100{--tw-scale-x:100%;--tw-scale-y:100%;--tw-scale-z:100%;scale:var(--tw-scale-x)var(--tw-scale-y)}.swap-rotate .swap-on,.swap-rotate input:indeterminate~.swap-on{rotate:45deg}.swap-rotate input:is(:checked,:indeterminate)~.swap-on,.swap-rotate.swap-active .swap-on{rotate:none}.swap-rotate input:is(:checked,:indeterminate)~.swap-off,.swap-rotate.swap-active .swap-off{rotate:-45deg}.rotate-45{rotate:45deg}.rotate-90{rotate:90deg}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.transform\\!{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)!important}.transform-gpu{transform:translateZ(0)var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.skeleton{border-radius:var(--radius-box);background-color:var(--color-base-300)}@media (prefers-reduced-motion:reduce){.skeleton{transition-duration:15s}}.skeleton{will-change:background-position;background-image:linear-gradient(105deg,#0000 0% 40%,var(--color-base-100)50%,#0000 60% 100%);background-position-x:-50%;background-repeat:no-repeat;background-size:200%;animation:1.8s ease-in-out infinite skeleton}.animate-\\[fadeOut_350ms_linear_forwards\\]{animation:.35s linear forwards fadeOut}.link{cursor:pointer;text-decoration-line:underline}.link:focus{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.link:focus{outline-offset:2px;outline:2px solid #0000}}.link:focus-visible{outline-offset:2px;outline:2px solid}.cursor-pointer{cursor:pointer}.cursor-zoom-in{cursor:zoom-in}.resize{resize:both}.grid-flow-col{grid-auto-flow:column}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-rows-5{grid-template-rows:repeat(5,minmax(0,1fr))}.flex-col{flex-direction:column}.\\!flex-nowrap{flex-wrap:nowrap!important}.flex-wrap{flex-wrap:wrap}.items-baseline{align-items:baseline}.items-center{align-items:center}.items-start{align-items:flex-start}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.gap-0{gap:calc(var(--spacing)*0)}.gap-0\\.5{gap:calc(var(--spacing)*.5)}.gap-1{gap:calc(var(--spacing)*1)}.gap-1\\.5{gap:calc(var(--spacing)*1.5)}.gap-2{gap:calc(var(--spacing)*2)}.gap-2\\.5{gap:calc(var(--spacing)*2.5)}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}.gap-5{gap:calc(var(--spacing)*5)}.gap-8{gap:calc(var(--spacing)*8)}:where(.space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-6>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*6)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*6)*calc(1 - var(--tw-space-y-reverse)))}.gap-x-5{column-gap:calc(var(--spacing)*5)}:where(.space-x-2>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*2)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-x-reverse)))}.gap-y-2{row-gap:calc(var(--spacing)*2)}.overflow-hidden{overflow:hidden}.overflow-x-hidden{overflow-x:hidden}.overflow-y-auto{overflow-y:auto}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:var(--radius-2xl)}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius-lg)}.rounded-xl{border-radius:var(--radius-xl)}.rounded-t-xl{border-top-left-radius:var(--radius-xl);border-top-right-radius:var(--radius-xl)}.border{border-style:var(--tw-border-style);border-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-l{border-left-style:var(--tw-border-style);border-left-width:1px}.border-l-2{border-left-style:var(--tw-border-style);border-left-width:2px}.border-base-300,.border-base-300\\/15{border-color:var(--color-base-300)}@supports (color:color-mix(in lab,red,red)){.border-base-300\\/15{border-color:color-mix(in oklab,var(--color-base-300)15%,transparent)}}.border-base-content,.border-base-content\\/10{border-color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.border-base-content\\/10{border-color:color-mix(in oklab,var(--color-base-content)10%,transparent)}}.border-error{border-color:var(--color-error)}.border-neutral-950{border-color:var(--color-neutral-950)}.\\!bg-white\\/50{background-color:#ffffff80!important}@supports (color:color-mix(in lab,red,red)){.\\!bg-white\\/50{background-color:color-mix(in oklab,var(--color-white)50%,transparent)!important}}.bg-base-100,.bg-base-100\\/60{background-color:var(--color-base-100)}@supports (color:color-mix(in lab,red,red)){.bg-base-100\\/60{background-color:color-mix(in oklab,var(--color-base-100)60%,transparent)}}.bg-base-100\\/90{background-color:var(--color-base-100)}@supports (color:color-mix(in lab,red,red)){.bg-base-100\\/90{background-color:color-mix(in oklab,var(--color-base-100)90%,transparent)}}.bg-base-200{background-color:var(--color-base-200)}.bg-base-300{background-color:var(--color-base-300)}.bg-base-content{background-color:var(--color-base-content)}.bg-base-content\\!{background-color:var(--color-base-content)!important}.bg-base-content\\/30{background-color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.bg-base-content\\/30{background-color:color-mix(in oklab,var(--color-base-content)30%,transparent)}}.bg-black{background-color:var(--color-black)}.bg-black\\/30{background-color:#0000004d}@supports (color:color-mix(in lab,red,red)){.bg-black\\/30{background-color:color-mix(in oklab,var(--color-black)30%,transparent)}}.bg-black\\/75{background-color:#000000bf}@supports (color:color-mix(in lab,red,red)){.bg-black\\/75{background-color:color-mix(in oklab,var(--color-black)75%,transparent)}}.bg-black\\/90{background-color:#000000e6}@supports (color:color-mix(in lab,red,red)){.bg-black\\/90{background-color:color-mix(in oklab,var(--color-black)90%,transparent)}}.bg-error,.bg-error\\/10{background-color:var(--color-error)}@supports (color:color-mix(in lab,red,red)){.bg-error\\/10{background-color:color-mix(in oklab,var(--color-error)10%,transparent)}}.bg-neutral-100{background-color:var(--color-neutral-100)}.bg-neutral-800{background-color:var(--color-neutral-800)}.bg-pink-400{background-color:var(--color-pink-400)}.bg-pink-400\\/80{background-color:#fb64b6cc}@supports (color:color-mix(in lab,red,red)){.bg-pink-400\\/80{background-color:color-mix(in oklab,var(--color-pink-400)80%,transparent)}}.bg-primary,.bg-primary\\/10{background-color:var(--color-primary)}@supports (color:color-mix(in lab,red,red)){.bg-primary\\/10{background-color:color-mix(in oklab,var(--color-primary)10%,transparent)}}.bg-primary\\/30\\!{background-color:var(--color-primary)!important}@supports (color:color-mix(in lab,red,red)){.bg-primary\\/30\\!{background-color:color-mix(in oklab,var(--color-primary)30%,transparent)!important}}.bg-primary\\/80{background-color:var(--color-primary)}@supports (color:color-mix(in lab,red,red)){.bg-primary\\/80{background-color:color-mix(in oklab,var(--color-primary)80%,transparent)}}.bg-white{background-color:var(--color-white)}.bg-linear-to-b{--tw-gradient-position:to bottom}@supports (background-image:linear-gradient(in lab,red,red)){.bg-linear-to-b{--tw-gradient-position:to bottom in oklab}}.bg-linear-to-b{background-image:linear-gradient(var(--tw-gradient-stops))}.bg-linear-to-t{--tw-gradient-position:to top}@supports (background-image:linear-gradient(in lab,red,red)){.bg-linear-to-t{--tw-gradient-position:to top in oklab}}.bg-linear-to-t{background-image:linear-gradient(var(--tw-gradient-stops))}.from-black{--tw-gradient-from:var(--color-black);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-black\\/30{--tw-gradient-from:#0000004d}@supports (color:color-mix(in lab,red,red)){.from-black\\/30{--tw-gradient-from:color-mix(in oklab,var(--color-black)30%,transparent)}}.from-black\\/30{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-black\\/50{--tw-gradient-from:#00000080}@supports (color:color-mix(in lab,red,red)){.from-black\\/50{--tw-gradient-from:color-mix(in oklab,var(--color-black)50%,transparent)}}.from-black\\/50{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-10\\%{--tw-gradient-from-position:10%}.to-transparent{--tw-gradient-to:transparent;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.loading-spinner{-webkit-mask-image:url("data:image/svg+xml,%3Csvg width='24' height='24' stroke='black' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg transform-origin='center'%3E%3Ccircle cx='12' cy='12' r='9.5' fill='none' stroke-width='3' stroke-linecap='round'%3E%3CanimateTransform attributeName='transform' type='rotate' from='0 12 12' to='360 12 12' dur='2s' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-dasharray' values='0,150;42,150;42,150' keyTimes='0;0.475;1' dur='1.5s' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-dashoffset' values='0;-16;-59' keyTimes='0;0.475;1' dur='1.5s' repeatCount='indefinite'/%3E%3C/circle%3E%3C/g%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg width='24' height='24' stroke='black' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg transform-origin='center'%3E%3Ccircle cx='12' cy='12' r='9.5' fill='none' stroke-width='3' stroke-linecap='round'%3E%3CanimateTransform attributeName='transform' type='rotate' from='0 12 12' to='360 12 12' dur='2s' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-dasharray' values='0,150;42,150;42,150' keyTimes='0;0.475;1' dur='1.5s' repeatCount='indefinite'/%3E%3Canimate attributeName='stroke-dashoffset' values='0;-16;-59' keyTimes='0;0.475;1' dur='1.5s' repeatCount='indefinite'/%3E%3C/circle%3E%3C/g%3E%3C/svg%3E")}.object-contain{object-fit:contain}.object-cover{object-fit:cover}.object-center{object-position:center}.p-0{padding:calc(var(--spacing)*0)}.p-0\\!{padding:calc(var(--spacing)*0)!important}.p-0\\.5{padding:calc(var(--spacing)*.5)}.p-1{padding:calc(var(--spacing)*1)}.p-2{padding:calc(var(--spacing)*2)}.p-2\\.5{padding:calc(var(--spacing)*2.5)}.p-3{padding:calc(var(--spacing)*3)}.p-4{padding:calc(var(--spacing)*4)}.p-6{padding:calc(var(--spacing)*6)}.p-7{padding:calc(var(--spacing)*7)}.p-8{padding:calc(var(--spacing)*8)}.p-10{padding:calc(var(--spacing)*10)}.badge-sm{--size:calc(var(--size-selector,.25rem)*5);padding-inline:calc(.25rem*2.5 - var(--border));font-size:.75rem}.px-\\(--app-playlist-space\\){padding-inline:var(--app-playlist-space)}.px-1{padding-inline:calc(var(--spacing)*1)}.px-1\\.5{padding-inline:calc(var(--spacing)*1.5)}.px-2{padding-inline:calc(var(--spacing)*2)}.px-4{padding-inline:calc(var(--spacing)*4)}.px-5{padding-inline:calc(var(--spacing)*5)}.px-6{padding-inline:calc(var(--spacing)*6)}.px-7{padding-inline:calc(var(--spacing)*7)}.px-20{padding-inline:calc(var(--spacing)*20)}.py-0{padding-block:calc(var(--spacing)*0)}.py-0\\.5{padding-block:calc(var(--spacing)*.5)}.py-1{padding-block:calc(var(--spacing)*1)}.py-2{padding-block:calc(var(--spacing)*2)}.py-3{padding-block:calc(var(--spacing)*3)}.py-4{padding-block:calc(var(--spacing)*4)}.py-8{padding-block:calc(var(--spacing)*8)}.py-\\[1px\\]{padding-block:1px}.pt-2{padding-top:calc(var(--spacing)*2)}.pt-\\[calc\\(var\\(--app-playlist-header-height\\)\\+var\\(--spacing\\)\\*5\\)\\]{padding-top:calc(var(--app-playlist-header-height) + var(--spacing)*5)}.pr-2{padding-right:calc(var(--spacing)*2)}.pr-3{padding-right:calc(var(--spacing)*3)}.pr-36{padding-right:calc(var(--spacing)*36)}.pb-2{padding-bottom:calc(var(--spacing)*2)}.pb-5{padding-bottom:calc(var(--spacing)*5)}.pl-3{padding-left:calc(var(--spacing)*3)}.text-center{text-align:center}.text-right{text-align:right}.align-middle{vertical-align:middle}.align-top{vertical-align:top}.font-mono{font-family:var(--font-mono)}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.text-4xl{font-size:var(--text-4xl);line-height:var(--tw-leading,var(--text-4xl--line-height))}.text-5xl{font-size:var(--text-5xl);line-height:var(--tw-leading,var(--text-5xl--line-height))}.text-6xl{font-size:var(--text-6xl);line-height:var(--tw-leading,var(--text-6xl--line-height))}.text-8xl{font-size:var(--text-8xl);line-height:var(--tw-leading,var(--text-8xl--line-height))}.text-base{font-size:var(--text-base);line-height:var(--tw-leading,var(--text-base--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.kbd-sm{--size:calc(var(--size-selector,.25rem)*5);font-size:.75rem}.leading-6{--tw-leading:calc(var(--spacing)*6);line-height:calc(var(--spacing)*6)}.leading-relaxed{--tw-leading:var(--leading-relaxed);line-height:var(--leading-relaxed)}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-normal{--tw-font-weight:var(--font-weight-normal);font-weight:var(--font-weight-normal)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-wrap{white-space:pre-wrap}.range-primary{color:var(--color-primary);--range-thumb:var(--color-primary-content)}.progress-primary{color:var(--color-primary)}.text-base-300{color:var(--color-base-300)}.text-base-content,.text-base-content\\/30{color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.text-base-content\\/30{color:color-mix(in oklab,var(--color-base-content)30%,transparent)}}.text-base-content\\/50{color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.text-base-content\\/50{color:color-mix(in oklab,var(--color-base-content)50%,transparent)}}.text-base-content\\/60{color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.text-base-content\\/60{color:color-mix(in oklab,var(--color-base-content)60%,transparent)}}.text-base-content\\/70{color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.text-base-content\\/70{color:color-mix(in oklab,var(--color-base-content)70%,transparent)}}.text-base-content\\/80{color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.text-base-content\\/80{color:color-mix(in oklab,var(--color-base-content)80%,transparent)}}.text-error-content{color:var(--color-error-content)}.text-gray-100{color:var(--color-gray-100)}.text-neutral-300{color:var(--color-neutral-300)}.text-neutral-500{color:var(--color-neutral-500)}.text-primary{color:var(--color-primary)}.text-red-400{color:var(--color-red-400)}.text-white{color:var(--color-white)}.text-yellow-400{color:var(--color-yellow-400)}.btn-link{--btn-border:#0000;--btn-bg:#0000;--btn-fg:var(--color-primary);--btn-noise:none;--btn-shadow:"";outline-color:currentColor;text-decoration-line:underline}.btn-link:is(.btn-active,:hover,:active:focus,:focus-visible){--btn-border:#0000;--btn-bg:#0000;text-decoration-line:underline}.no-underline{text-decoration-line:none}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.swap-active .swap-off{opacity:0}.swap-active .swap-on{opacity:1}.opacity-0{opacity:0}.opacity-40{opacity:.4}.opacity-60{opacity:.6}.opacity-80{opacity:.8}.opacity-100{opacity:1}.shadow-xl\\/60{--tw-shadow-alpha:60%;--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,oklab(0% 0 0/.6)),0 8px 10px -6px var(--tw-shadow-color,oklab(0% 0 0/.6));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xs\\/30{--tw-shadow-alpha:30%;--tw-shadow:0 1px 2px 0 var(--tw-shadow-color,oklab(0% 0 0/.3));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xs\\/90{--tw-shadow-alpha:90%;--tw-shadow:0 1px 2px 0 var(--tw-shadow-color,oklab(0% 0 0/.9));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow,.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,#0000001a),0 8px 10px -6px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xs{--tw-shadow:0 1px 2px 0 var(--tw-shadow-color,#0000000d);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-4{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(4px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-base-content,.ring-base-content\\/90{--tw-ring-color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.ring-base-content\\/90{--tw-ring-color:color-mix(in oklab,var(--color-base-content)90%,transparent)}}.ring-primary{--tw-ring-color:var(--color-primary)}.btn-ghost:not(.btn-active,:hover,:active:focus,:focus-visible){--btn-shadow:"";--btn-bg:#0000;--btn-border:#0000;--btn-noise:none}.btn-ghost:not(.btn-active,:hover,:active:focus,:focus-visible):not(:disabled,[disabled],.btn-disabled){--btn-fg:currentColor;outline-color:currentColor}.blur{--tw-blur:blur(8px);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.contrast-200{--tw-contrast:contrast(200%);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.drop-shadow-xl\\/30{--tw-drop-shadow-alpha:30%;--tw-drop-shadow-size:drop-shadow(0 9px 7px var(--tw-drop-shadow-color,oklab(0% 0 0/.3)));--tw-drop-shadow:var(--tw-drop-shadow-size);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.drop-shadow-xs\\/60{--tw-drop-shadow-alpha:60%;--tw-drop-shadow-size:drop-shadow(0 1px 1px var(--tw-drop-shadow-color,oklab(0% 0 0/.6)));--tw-drop-shadow:var(--tw-drop-shadow-size);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.drop-shadow-xs\\/90{--tw-drop-shadow-alpha:90%;--tw-drop-shadow-size:drop-shadow(0 1px 1px var(--tw-drop-shadow-color,oklab(0% 0 0/.9)));--tw-drop-shadow:var(--tw-drop-shadow-size);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.drop-shadow-xl{--tw-drop-shadow-size:drop-shadow(0 9px 7px var(--tw-drop-shadow-color,#0000001a));--tw-drop-shadow:drop-shadow(var(--drop-shadow-xl));filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.drop-shadow-xs{--tw-drop-shadow-size:drop-shadow(0 1px 1px var(--tw-drop-shadow-color,#0000000d));--tw-drop-shadow:drop-shadow(var(--drop-shadow-xs));filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.grayscale{--tw-grayscale:grayscale(100%);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.invert{--tw-invert:invert(100%);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.backdrop-blur-2xl{--tw-backdrop-blur:blur(var(--blur-2xl));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-blur-xs{--tw-backdrop-blur:blur(var(--blur-xs));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-brightness-50{--tw-backdrop-brightness:brightness(50%);-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-saturate-200{--tw-backdrop-saturate:saturate(200%);-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,visibility,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[height\\]{transition-property:height;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[width\\]{transition-property:width;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-none{transition-property:none}.delay-60{transition-delay:60ms}.duration-100{--tw-duration:.1s;transition-duration:.1s}.duration-150{--tw-duration:.15s;transition-duration:.15s}.duration-200{--tw-duration:.2s;transition-duration:.2s}.duration-300{--tw-duration:.3s;transition-duration:.3s}.duration-450{--tw-duration:.45s;transition-duration:.45s}.duration-550{--tw-duration:.55s;transition-duration:.55s}.ease-in-out{--tw-ease:var(--ease-in-out);transition-timing-function:var(--ease-in-out)}.ease-linear{--tw-ease:linear;transition-timing-function:linear}.ease-out{--tw-ease:var(--ease-out);transition-timing-function:var(--ease-out)}.\\[will-change\\:transform\\]{will-change:transform}.btn-sm{--fontsize:.75rem;--btn-p:.75rem;--size:calc(var(--size-field,.25rem)*8)}.btn-xs{--fontsize:.6875rem;--btn-p:.5rem;--size:calc(var(--size-field,.25rem)*6)}.card-sm .card-body{--card-p:1rem;--card-fs:.75rem}.card-sm .card-title{--cardtitle-fs:1rem}.badge-neutral{--badge-color:var(--color-neutral);--badge-fg:var(--color-neutral-content)}.btn-error{--btn-color:var(--color-error);--btn-fg:var(--color-error-content)}.btn-neutral{--btn-color:var(--color-neutral);--btn-fg:var(--color-neutral-content)}.btn-primary{--btn-color:var(--color-primary);--btn-fg:var(--color-primary-content)}.select-none{-webkit-user-select:none;user-select:none}.select-text{-webkit-user-select:text;user-select:text}.text-shadow-xs\\/60{--tw-text-shadow-alpha:60%;text-shadow:0px 1px 1px var(--tw-text-shadow-color,oklab(0% 0 0/.6))}.\\[--app-playlist-header-height\\:calc\\(var\\(--spacing\\)\\*16\\)\\]{--app-playlist-header-height:calc(var(--spacing)*16)}.\\[--app-playlist-ratio\\:calc\\(1-var\\(--app-xplayer-ratio\\)\\)\\]{--app-playlist-ratio:calc(1 - var(--app-xplayer-ratio))}.\\[--app-playlist-space\\:calc\\(var\\(--spacing\\)\\*4\\)\\]{--app-playlist-space:calc(var(--spacing)*4)}.\\[--app-playlist-width\\:calc\\(100\\%\\*var\\(--app-playlist-ratio\\)\\)\\]{--app-playlist-width:calc(100%*var(--app-playlist-ratio))}.\\[--app-xplayer-width\\:calc\\(100\\%\\*var\\(--app-xplayer-ratio\\)\\)\\]{--app-xplayer-width:calc(100%*var(--app-xplayer-ratio))}.\\[--range-fill\\:0\\]{--range-fill:0}.\\[content-visibility\\:auto\\]{content-visibility:auto}.range-xs{--range-thumb-size:calc(var(--size-selector,.25rem)*4)}.text-shadow-\\[0_0_1px_rgb\\(0_0_0_\\/0\\.5\\)\\,0_0_2px_rgb\\(55_55_55_\\/0\\.7\\)\\]{text-shadow:0 0 1px var(--tw-text-shadow-color,#00000080),0 0 2px var(--tw-text-shadow-color,#373737b3)}.text-shadow-\\[0_0_2px_rgba\\(0_0_0_\\/0\\.3\\)\\,0_0_2px_rgba\\(0_0_0_\\/0\\.3\\)\\,0_0_2px_rgba\\(0_0_0_\\/0\\.3\\)\\]{text-shadow:0 0 2px var(--tw-text-shadow-color,#0000004d),0 0 2px var(--tw-text-shadow-color,#0000004d),0 0 2px var(--tw-text-shadow-color,#0000004d)}.text-shadow-xs{text-shadow:0px 1px 1px var(--tw-text-shadow-color,#0003)}.toggle-primary:checked,.toggle-primary[aria-checked=true]{--input-color:var(--color-primary)}.toggle-sm[type=checkbox],.toggle-sm:has([type=checkbox]){--size:calc(var(--size-selector,.25rem)*5)}.before\\:absolute:before{content:var(--tw-content);position:absolute}.before\\:inset-0:before{content:var(--tw-content);inset:calc(var(--spacing)*0)}.before\\:ml-8:before{content:var(--tw-content);margin-left:calc(var(--spacing)*8)}.before\\:rounded-lg:before{content:var(--tw-content);border-radius:var(--radius-lg)}.before\\:bg-black:before{content:var(--tw-content);background-color:var(--color-black)}.before\\:content-\\[\\'\\'\\]:before{--tw-content:"";content:var(--tw-content)}.before\\:content-\\[\\\\\\'\\\\\\'\\]:before{--tw-content:\\'\\';content:var(--tw-content)}@media (hover:hover){.hover\\:scale-105:hover{--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x)var(--tw-scale-y)}.hover\\:scale-\\[1\\.02\\]:hover{scale:1.02}.hover\\:bg-base-content\\/5:hover{background-color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-base-content\\/5:hover{background-color:color-mix(in oklab,var(--color-base-content)5%,transparent)}}.hover\\:bg-neutral-100:hover{background-color:var(--color-neutral-100)}.hover\\:bg-primary\\/15:hover{background-color:var(--color-primary)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-primary\\/15:hover{background-color:color-mix(in oklab,var(--color-primary)15%,transparent)}}.hover\\:text-base-content\\/80:hover{color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.hover\\:text-base-content\\/80:hover{color:color-mix(in oklab,var(--color-base-content)80%,transparent)}}.hover\\:text-primary:hover{color:var(--color-primary)}.hover\\:text-yellow-300:hover{color:var(--color-yellow-300)}.hover\\:no-underline\\!:hover{text-decoration-line:none!important}.hover\\:underline:hover{text-decoration-line:underline}.hover\\:opacity-80:hover{opacity:.8}.hover\\:opacity-90:hover{opacity:.9}.hover\\:btn-error:hover{--btn-color:var(--color-error);--btn-fg:var(--color-error-content)}}.active\\:scale-95:active{--tw-scale-x:95%;--tw-scale-y:95%;--tw-scale-z:95%;scale:var(--tw-scale-x)var(--tw-scale-y)}.disabled\\:text-base-content\\/30:disabled{color:var(--color-base-content)}@supports (color:color-mix(in lab,red,red)){.disabled\\:text-base-content\\/30:disabled{color:color-mix(in oklab,var(--color-base-content)30%,transparent)}}@media (prefers-reduced-motion:no-preference){.motion-safe\\:animate-spin{animation:var(--animate-spin)}}@media (min-width:40rem){.sm\\:\\[--app-xplayer-ratio\\:0\\.3\\]{--app-xplayer-ratio:.3}}@media (min-width:48rem){.md\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.md\\:\\[--app-xplayer-ratio\\:0\\.518\\]{--app-xplayer-ratio:.518}}@media (min-width:64rem){.lg\\:grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.lg\\:\\[--app-xplayer-ratio\\:0\\.618\\]{--app-xplayer-ratio:.618}}@media (min-width:80rem){.xl\\:grid-cols-7{grid-template-columns:repeat(7,minmax(0,1fr))}.xl\\:px-36{padding-inline:calc(var(--spacing)*36)}}@media (min-width:96rem){.\\32xl\\:grid-cols-9{grid-template-columns:repeat(9,minmax(0,1fr))}.\\32xl\\:\\[--app-xplayer-ratio\\:0\\.718\\]{--app-xplayer-ratio:.718}}@media (pointer:coarse){.pointer-coarse\\:size-48{width:calc(var(--spacing)*48);height:calc(var(--spacing)*48)}}.\\[\\&\\:\\:-webkit-scrollbar-track\\]\\:mt-\\(--app-playlist-header-height\\)::-webkit-scrollbar-track{margin-top:var(--app-playlist-header-height)}}.range{--range-bg:var(--color-primary)}@supports (color:color-mix(in lab,red,red)){.range{--range-bg:color-mix(in oklch,var(--color-primary)30%,transparent)}}.range-xs{--range-thumb-size:calc(var(--size-selector,.25rem)*3);--range-p:0rem}.range-2xs{--range-thumb-size:calc(var(--size-selector,.25rem)*2);--range-p:0rem}[data-theme=dark] .skeleton{background-image:linear-gradient(105deg,#0000,#0000 40%,#fff5,#0000 60%,#0000)}@keyframes dropdown{0%{opacity:0}}@keyframes progress{50%{background-position-x:-115%}}@keyframes toast{0%{opacity:0;scale:.9}to{opacity:1;scale:1}}@keyframes rating{0%,40%{filter:brightness(1.05)contrast(1.05);scale:1.1}}@keyframes radio{0%{padding:5px}50%{padding:3px}}@keyframes skeleton{0%{background-position:150%}to{background-position:-50%}}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-space-x-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@property --tw-ease{syntax:"*";inherits:false}@property --tw-text-shadow-color{syntax:"*";inherits:false}@property --tw-text-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-content{syntax:"*";inherits:false;initial-value:""}@keyframes spin{to{transform:rotate(360deg)}}`; function we(r) { return getCurrentScope() ? (onScopeDispose(r), true) : false } function Nd(r) {
        if (!isRef(r))
          return reactive(r); const e = new Proxy({}, { get(t, n, o) { return unref(Reflect.get(r.value, n, o)) }, set(t, n, o) { return isRef(r.value[n]) && !isRef(o) ? r.value[n].value = o : r.value[n] = o, true }, deleteProperty(t, n) { return Reflect.deleteProperty(r.value, n) }, has(t, n) { return Reflect.has(r.value, n) }, ownKeys() { return Object.keys(r.value) }, getOwnPropertyDescriptor() { return { enumerable: true, configurable: true } } }); return reactive(e)
      } const _e = typeof window < 'u' && typeof document < 'u'; typeof WorkerGlobalScope < 'u' && globalThis instanceof WorkerGlobalScope; const fi = r => typeof r < 'u'; const Yn = r => r != null; const mi = Object.prototype.toString; const bi = r => mi.call(r) === '[object Object]'; const K = () => {}; const gi = wi(); function wi() { let r, e; return _e && ((r = window == null ? undefined : window.navigator) == null ? undefined : r.userAgent) && (/iP(?:ad|hone|od)/.test(window.navigator.userAgent) || ((e = window == null ? undefined : window.navigator) == null ? undefined : e.maxTouchPoints) > 2 && /iPad|Macintosh/.test(window == null ? undefined : window.navigator.userAgent)) } function wr(r, e) { function t(...n) { return new Promise((o, a) => { Promise.resolve(r(() => e.apply(this, n), { fn: e, thisArg: this, args: n })).then(o).catch(a) }) } return t } const Kn = r => r(); function vi(r, e = {}) { let t; let n; let o = K; const a = (l) => { clearTimeout(l), o(), o = K }; let i; return (l) => { const c = toValue(r); const u = toValue(e.maxWait); return t && a(t), c <= 0 || u !== undefined && u <= 0 ? (n && (a(n), n = null), Promise.resolve(l())) : new Promise((d, p) => { o = e.rejectOnCancel ? p : d, i = l, u && !n && (n = setTimeout(() => { t && a(t), n = null, d(i()) }, u)), t = setTimeout(() => { n && a(n), n = null, d(l()) }, c) }) } } function yi(...r) { let e = 0; let t; let n = true; let o = K; let a; let i; let s; let l; let c; !isRef(r[0]) && typeof r[0] == 'object' ? { delay: i, trailing: s = true, leading: l = true, rejectOnCancel: c = false } = r[0] : [i, s = true, l = true, c = false] = r; const u = () => { t && (clearTimeout(t), t = undefined, o(), o = K) }; return (p) => { const h = toValue(i); const b = Date.now() - e; const w = () => a = p(); return u(), h <= 0 ? (e = Date.now(), w()) : (b > h && (l || !n) ? (e = Date.now(), w()) : s && (a = new Promise((f, g) => { o = c ? g : f, t = setTimeout(() => { e = Date.now(), n = true, f(w()), u() }, Math.max(0, h - b)) })), !l && !t && (t = setTimeout(() => n = true, h)), n = false, a) } } function xi(r = Kn, e = {}) { const { initialState: t = 'active' } = e; const n = Jn(t === 'active'); function o() { n.value = false } function a() { n.value = true } const i = (...s) => { n.value && r(...s) }; return { isActive: readonly(n), pause: o, resume: a, eventFilter: i } } function qt(r, e = false, t = 'Timeout') { return new Promise((n, o) => { setTimeout(e ? () => o(t) : n, r) }) } function ki(r) { let e; function t() { return e || (e = r()), e } return t.reset = async () => { const n = e; e = undefined, n && await n }, t } function Wn(r) { return getCurrentInstance() } function Se(r) { return Array.isArray(r) ? r : [r] } function Jn(...r) {
        if (r.length !== 1)
          return toRef(...r); const e = r[0]; return typeof e == 'function' ? readonly(customRef(() => ({ get: e, set: K }))) : ref(e)
      } function _i(r, e = 200, t = {}) { return wr(vi(e, t), r) } function Ai(r, e = 200, t = false, n = true, o = false) { return wr(yi(e, t, n, o), r) } function Ei(r, e, t = {}) { const { eventFilter: n = Kn, ...o } = t; return watch(r, wr(n, e), o) } function Vt(r, e, t = {}) { const { eventFilter: n, initialState: o = 'active', ...a } = t; const { eventFilter: i, pause: s, resume: l, isActive: c } = xi(n, { initialState: o }); return { stop: Ei(r, e, { ...a, eventFilter: i }), pause: s, resume: l, isActive: c } } function Md(r, e, ...[t]) { const { flush: n = 'sync', deep: o = false, immediate: a = true, direction: i = 'both', transform: s = {} } = t || {}; const l = []; const c = 'ltr' in s && s.ltr || (p => p); const u = 'rtl' in s && s.rtl || (p => p); return (i === 'both' || i === 'ltr') && l.push(Vt(r, (p) => { l.forEach(h => h.pause()), e.value = c(p), l.forEach(h => h.resume()) }, { flush: n, deep: o, immediate: a })), (i === 'both' || i === 'rtl') && l.push(Vt(e, (p) => { l.forEach(h => h.pause()), r.value = u(p), l.forEach(h => h.resume()) }, { flush: n, deep: o, immediate: a })), () => { l.forEach(p => p.stop()) } } function Ct(r, e = true, t) { Wn() ? onMounted(r, t) : e ? r() : nextTick(r) } function Dd(r, e) { Wn() && onUnmounted(r, e) } function Gt(r, e = false) {
        function t(d, { flush: p = 'sync', deep: h = false, timeout: b, throwOnTimeout: w } = {}) { let f = null; const v = [new Promise((_) => { f = watch(r, (E) => { d(E) !== e && (f ? f() : nextTick(() => f == null ? undefined : f()), _(E)) }, { flush: p, deep: h, immediate: true }) })]; return b != null && v.push(qt(b, w).then(() => toValue(r)).finally(() => f == null ? undefined : f())), Promise.race(v) } function n(d, p) {
          if (!isRef(d))
            return t(E => E === d, p); const { flush: h = 'sync', deep: b = false, timeout: w, throwOnTimeout: f } = p ?? {}; let g = null; const _ = [new Promise((E) => { g = watch([r, d], ([U, y]) => { e !== (U === y) && (g ? g() : nextTick(() => g == null ? undefined : g()), E(U)) }, { flush: h, deep: b, immediate: true }) })]; return w != null && _.push(qt(w, f).then(() => toValue(r)).finally(() => (g == null || g(), toValue(r)))), Promise.race(_)
        } function o(d) { return t(p => !!p, d) } function a(d) { return n(null, d) } function i(d) { return n(undefined, d) } function s(d) { return t(Number.isNaN, d) } function l(d, p) { return t((h) => { const b = Array.from(h); return b.includes(d) || b.includes(toValue(d)) }, p) } function c(d) { return u(1, d) } function u(d = 1, p) { let h = -1; return t(() => (h += 1, h >= d), p) } return Array.isArray(toValue(r)) ? { toMatch: t, toContains: l, changed: c, changedTimes: u, get not() { return Gt(r, !e) } } : { toMatch: t, toBe: n, toBeTruthy: o, toBeNull: a, toBeNaN: s, toBeUndefined: i, changed: c, changedTimes: u, get not() { return Gt(r, !e) } }
      } function Ci(r) { return Gt(r) } function Rd(r, e = 1e3, t = {}) { const { immediate: n = true, immediateCallback: o = false } = t; let a = null; const i = shallowRef(false); function s() { a && (clearInterval(a), a = null) } function l() { i.value = false, s() } function c() { const u = toValue(e); u <= 0 || (i.value = true, o && r(), s(), i.value && (a = setInterval(r, u))) } if (n && _e && c(), isRef(e) || typeof e == 'function') { const u = watch(e, () => { i.value && _e && c() }); we(u) } return we(l), { isActive: i, pause: l, resume: c } } function Si(r, e, t = {}) { const { immediate: n = true, immediateCallback: o = false } = t; const a = shallowRef(false); let i = null; function s() { i && (clearTimeout(i), i = null) } function l() { a.value = false, s() } function c(...u) { o && r(), s(), a.value = true, i = setTimeout(() => { a.value = false, i = null, r(...u) }, toValue(e)) } return n && (a.value = true, _e && c()), we(l), { isPending: readonly(a), start: c, stop: l } } function Ii(r, e, t) { return watch(r, e, { ...t, immediate: true }) } function Pi(r, e, t) { const n = watch(r, (...o) => (nextTick(() => n()), e(...o)), t); return n } const ne = _e ? window : undefined; const Ti = _e ? window.document : undefined; const Xn = _e ? window.navigator : undefined; function V(r) { let e; const t = toValue(r); return (e = t == null ? undefined : t.$el) != null ? e : t } function J(...r) {
        const e = []; const t = () => { e.forEach(s => s()), e.length = 0 }; const n = (s, l, c, u) => (s.addEventListener(l, c, u), () => s.removeEventListener(l, c, u)); const o = computed(() => { const s = Se(toValue(r[0])).filter(l => l != null); return s.every(l => typeof l != 'string') ? s : undefined }); const a = Ii(() => { let s, l; return [(l = (s = o.value) == null ? undefined : s.map(c => V(c))) != null ? l : [ne].filter(c => c != null), Se(toValue(o.value ? r[1] : r[0])), Se(unref(o.value ? r[2] : r[1])), toValue(o.value ? r[3] : r[2])] }, ([s, l, c, u]) => {
          if (t(), !(s != null && s.length) || !(l != null && l.length) || !(c != null && c.length))
            return; const d = bi(u) ? { ...u } : u; e.push(...s.flatMap(p => l.flatMap(h => c.map(b => n(p, h, b, d)))))
        }, { flush: 'post' }); const i = () => { a(), t() }; return we(t), i
      } let Lr = false; function Ud(r, e, t = {}) {
        const { window: n = ne, ignore: o = [], capture: a = true, detectIframe: i = false, controls: s = false } = t; if (!n)
          return s ? { stop: K, cancel: K, trigger: K } : K; if (gi && !Lr) { Lr = true; const f = { passive: true }; Array.from(n.document.body.children).forEach(g => J(g, 'click', K, f)), J(n.document.documentElement, 'click', K, f) } let l = true; const c = f => toValue(o).some((g) => {
          if (typeof g == 'string')
            return Array.from(n.document.querySelectorAll(g)).some(v => v === f.target || f.composedPath().includes(v)); { const v = V(g); return v && (f.target === v || f.composedPath().includes(v)) }
        }); function u(f) { const g = toValue(f); return g && g.$.subTree.shapeFlag === 16 } function d(f, g) { const v = toValue(f); const _ = v.$.subTree && v.$.subTree.children; return _ == null || !Array.isArray(_) ? false : _.some(E => E.el === g.target || g.composedPath().includes(E.el)) } const p = (f) => { const g = V(r); if (f.target != null && !(!(g instanceof Element) && u(r) && d(r, f)) && !(!g || g === f.target || f.composedPath().includes(g))) { if ('detail' in f && f.detail === 0 && (l = !c(f)), !l) { l = true; return }e(f) } }; let h = false; const b = [J(n, 'click', (f) => { h || (h = true, setTimeout(() => { h = false }, 0), p(f)) }, { passive: true, capture: a }), J(n, 'pointerdown', (f) => { const g = V(r); l = !c(f) && !!(g && !f.composedPath().includes(g)) }, { passive: true }), i && J(n, 'blur', (f) => { setTimeout(() => { let g; const v = V(r); ((g = n.document.activeElement) == null ? undefined : g.tagName) === 'IFRAME' && !(v != null && v.contains(n.document.activeElement)) && e(f) }, 0) }, { passive: true })].filter(Boolean); const w = () => b.forEach(f => f()); return s ? { stop: w, cancel: () => { l = false }, trigger: (f) => { l = true, p(f), l = false } } : w
      } function Oi() { const r = shallowRef(false); const e = getCurrentInstance(); return e && onMounted(() => { r.value = true }, e), r } function We(r) { const e = Oi(); return computed(() => (e.value, !!r())) } function vr(r, e, t = {}) { const { window: n = ne, ...o } = t; let a; const i = We(() => n && 'MutationObserver' in n); const s = () => { a && (a.disconnect(), a = undefined) }; const l = computed(() => { const p = toValue(r); const h = Se(p).map(V).filter(Yn); return new Set(h) }); const c = watch(() => l.value, (p) => { s(), i.value && p.size && (a = new MutationObserver(e), p.forEach(h => a.observe(h, o))) }, { immediate: true, flush: 'post' }); const u = () => a == null ? undefined : a.takeRecords(); const d = () => { c(), s() }; return we(d), { isSupported: i, stop: d, takeRecords: u } } function Li(r, e, t) {
        const { immediate: n = true, delay: o = 0, onError: a = K, onSuccess: i = K, resetOnExecute: s = true, shallow: l = true, throwError: c } = t ?? {}; const u = l ? shallowRef(e) : ref(e); const d = shallowRef(false); const p = shallowRef(false); const h = shallowRef(undefined); async function b(g = 0, ...v) {
          s && (u.value = e), h.value = undefined, d.value = false, p.value = true, g > 0 && await qt(g); const _ = typeof r == 'function' ? r(...v) : r; try { const E = await _; u.value = E, d.value = !0, i(E) }
          catch (E) {
            if (h.value = E, a(E), c)
              throw E
          }
          finally { p.value = false } return u.value
        }n && b(o); const w = { state: u, isReady: d, isLoading: p, error: h, execute: b }; function f() { return new Promise((g, v) => { Ci(p).toBe(false).then(() => g(w)).catch(v) }) } return { ...w, then(g, v) { return f().then(g, v) } }
      } function Nr(r, e = {}) {
        const { controls: t = false, navigator: n = Xn } = e; const o = We(() => n && 'permissions' in n); const a = shallowRef(); const i = typeof r == 'string' ? { name: r } : r; const s = shallowRef(); const l = () => { let u, d; s.value = (d = (u = a.value) == null ? undefined : u.state) != null ? d : 'prompt' }; J(a, 'change', l, { passive: true }); const c = ki(async () => {
          if (o.value) {
            if (!a.value) {
              try { a.value = await n.permissions.query(i) }
              catch { a.value = undefined }
              finally { l() }
            } if (t)
              return toRaw(a.value)
          }
        }); return c(), t ? { state: s, isSupported: o, query: c } : s
      } function Ni(r = {}) {
        const { navigator: e = Xn, read: t = false, source: n, copiedDuring: o = 1500, legacy: a = false } = r; const i = We(() => e && 'clipboard' in e); const s = Nr('clipboard-read'); const l = Nr('clipboard-write'); const c = computed(() => i.value || a); const u = shallowRef(''); const d = shallowRef(false); const p = Si(() => d.value = false, o, { immediate: false }); function h() {
          let v = !(i.value && g(s.value)); if (!v) {
            try { e.clipboard.readText().then((_) => { u.value = _ }) }
            catch { v = true }
          }v && (u.value = f())
        }c.value && t && J(['copy', 'cut'], h, { passive: true }); async function b(v = toValue(n)) {
          if (c.value && v != null) {
            let _ = !(i.value && g(l.value)); if (!_) {
              try { await e.clipboard.writeText(v) }
              catch { _ = true }
            }_ && w(v), u.value = v, d.value = true, p.start()
          }
        } function w(v) { const _ = document.createElement('textarea'); _.value = v ?? '', _.style.position = 'absolute', _.style.opacity = '0', document.body.appendChild(_), _.select(), document.execCommand('copy'), _.remove() } function f() { let v, _, E; return (E = (_ = (v = document == null ? undefined : document.getSelection) == null ? undefined : v.call(document)) == null ? undefined : _.toString()) != null ? E : '' } function g(v) { return v === 'granted' || v === 'prompt' } return { isSupported: c, text: u, copied: d, copy: b }
      } function Mi(r) { return JSON.parse(JSON.stringify(r)) } const nt = typeof globalThis < 'u' ? globalThis : typeof window < 'u' ? window : typeof global < 'u' ? global : typeof self < 'u' ? self : {}; const ot = '__vueuse_ssr_handlers__'; const Di = Ri(); function Ri() { return ot in nt || (nt[ot] = nt[ot] || {}), nt[ot] } function Ui(r, e) { return Di[r] || e } function ji(r) { return r == null ? 'any' : r instanceof Set ? 'set' : r instanceof Map ? 'map' : r instanceof Date ? 'date' : typeof r == 'boolean' ? 'boolean' : typeof r == 'string' ? 'string' : typeof r == 'object' ? 'object' : Number.isNaN(r) ? 'any' : 'number' } const Bi = { boolean: { read: r => r === 'true', write: r => String(r) }, object: { read: r => JSON.parse(r), write: r => JSON.stringify(r) }, number: { read: r => Number.parseFloat(r), write: r => String(r) }, any: { read: r => r, write: r => String(r) }, string: { read: r => r, write: r => String(r) }, map: { read: r => new Map(JSON.parse(r)), write: r => JSON.stringify(Array.from(r.entries())) }, set: { read: r => new Set(JSON.parse(r)), write: r => JSON.stringify(Array.from(r)) }, date: { read: r => new Date(r), write: r => r.toISOString() } }; const Mr = 'vueuse-storage'; function jd(r, e, t, n = {}) {
        let o; const { flush: a = 'pre', deep: i = true, listenToStorageChanges: s = true, writeDefaults: l = true, mergeDefaults: c = false, shallow: u, window: d = ne, eventFilter: p, onError: h = (S) => { console.error(S) }, initOnMounted: b } = n; const w = (u ? shallowRef : ref)(typeof e == 'function' ? e() : e); const f = computed(() => toValue(r)); if (!t) {
          try { t = Ui('getDefaultStorage', () => { let S; return (S = ne) == null ? void 0 : S.localStorage })() }
          catch (S) { h(S) }
        } if (!t)
          return w; const g = toValue(e); const v = ji(g); const _ = (o = n.serializer) != null ? o : Bi[v]; const { pause: E, resume: U } = Vt(w, () => m(w.value), { flush: a, deep: i, eventFilter: p }); watch(f, () => I(), { flush: a }), d && s && Ct(() => { t instanceof Storage ? J(d, 'storage', I, { passive: true }) : J(d, Mr, T), b && I() }), b || I(); function y(S, M) { if (d) { const L = { key: f.value, oldValue: S, newValue: M, storageArea: t }; d.dispatchEvent(t instanceof Storage ? new StorageEvent('storage', L) : new CustomEvent(Mr, { detail: L })) } } function m(S) {
          try {
            const M = t.getItem(f.value); if (S == null) {
              y(M, null), t.removeItem(f.value)
            }
            else { const L = _.write(S); M !== L && (t.setItem(f.value, L), y(M, L)) }
          }
          catch (M) { h(M) }
        } function x(S) {
          const M = S ? S.newValue : t.getItem(f.value); if (M == null)
            return l && g != null && t.setItem(f.value, _.write(g)), g; if (!S && c) { const L = _.read(M); return typeof c == 'function' ? c(L, g) : v === 'object' && !Array.isArray(L) ? { ...g, ...L } : L }
          else {
            return typeof M != 'string' ? M : _.read(M)
          }
        } function I(S) {
          if (!(S && S.storageArea !== t)) {
            if (S && S.key == null) { w.value = g; return } if (!(S && S.key !== f.value)) {
              E(); try { (S == null ? void 0 : S.newValue) !== _.write(w.value) && (w.value = x(S)) }
              catch (M) { h(M) }
              finally { S ? nextTick(U) : U() }
            }
          }
        } function T(S) { I(S.detail) } return w
      } function Bd(r, e, t = {}) { const { window: n = ne, initialValue: o, observe: a = false } = t; const i = shallowRef(o); const s = computed(() => { let c; return V(e) || ((c = n == null ? undefined : n.document) == null ? undefined : c.documentElement) }); function l() { let c; const u = toValue(r); const d = toValue(s); if (d && n && u) { const p = (c = n.getComputedStyle(d).getPropertyValue(u)) == null ? undefined : c.trim(); i.value = p || i.value || o } } return a && vr(s, l, { attributeFilter: ['style', 'class'], window: n }), watch([s, () => toValue(r)], (c, u) => { u[0] && u[1] && u[0].style.removeProperty(u[1]), l() }), watch([i, s], ([c, u]) => { const d = toValue(r); u != null && u.style && d && (c == null ? u.style.removeProperty(d) : u.style.setProperty(d, c)) }, { immediate: true }), i } function Zn(r, e, t = {}) { const { window: n = ne, ...o } = t; let a; const i = We(() => n && 'ResizeObserver' in n); const s = () => { a && (a.disconnect(), a = undefined) }; const l = computed(() => { const d = toValue(r); return Array.isArray(d) ? d.map(p => V(p)) : [V(d)] }); const c = watch(l, (d) => { if (s(), i.value && n) { a = new ResizeObserver(e); for (const p of d)p && a.observe(p, o) } }, { immediate: true, flush: 'post' }); const u = () => { s(), c() }; return we(u), { isSupported: i, stop: u } } function zd(r, e = {}) { const { reset: t = true, windowResize: n = true, windowScroll: o = true, immediate: a = true, updateTiming: i = 'sync' } = e; const s = shallowRef(0); const l = shallowRef(0); const c = shallowRef(0); const u = shallowRef(0); const d = shallowRef(0); const p = shallowRef(0); const h = shallowRef(0); const b = shallowRef(0); function w() { const g = V(r); if (!g) { t && (s.value = 0, l.value = 0, c.value = 0, u.value = 0, d.value = 0, p.value = 0, h.value = 0, b.value = 0); return } const v = g.getBoundingClientRect(); s.value = v.height, l.value = v.bottom, c.value = v.left, u.value = v.right, d.value = v.top, p.value = v.width, h.value = v.x, b.value = v.y } function f() { i === 'sync' ? w() : i === 'next-frame' && requestAnimationFrame(() => w()) } return Zn(r, f), watch(() => V(r), g => !g && f()), vr(r, f, { attributeFilter: ['style', 'class'] }), o && J('scroll', f, { capture: true, passive: true }), n && J('resize', f, { passive: true }), Ct(() => { a && f() }), { height: s, bottom: l, left: c, right: u, top: d, width: p, x: h, y: b, update: f } } function $d(r, e = { width: 0, height: 0 }, t = {}) {
        const { window: n = ne, box: o = 'content-box' } = t; const a = computed(() => { let d, p; return (p = (d = V(r)) == null ? undefined : d.namespaceURI) == null ? undefined : p.includes('svg') }); const i = ref(e.width); const s = ref(e.height); const { stop: l } = Zn(r, ([d]) => {
          const p = o === 'border-box' ? d.borderBoxSize : o === 'content-box' ? d.contentBoxSize : d.devicePixelContentBoxSize; if (n && a.value) { const h = V(r); if (h) { const b = h.getBoundingClientRect(); i.value = b.width, s.value = b.height } }
          else if (p) { const h = Se(p); i.value = h.reduce((b, { inlineSize: w }) => b + w, 0), s.value = h.reduce((b, { blockSize: w }) => b + w, 0) }
          else {
            i.value = d.contentRect.width, s.value = d.contentRect.height
          }
        }, t); Ct(() => { const d = V(r); d && (i.value = 'offsetWidth' in d ? d.offsetWidth : e.width, s.value = 'offsetHeight' in d ? d.offsetHeight : e.height) }); const c = watch(() => V(r), (d) => { i.value = d ? e.width : 0, s.value = d ? e.height : 0 }); function u() { l(), c() } return { width: i, height: s, stop: u }
      } function zi(r, e, t = {}) {
        const { root: n, rootMargin: o = '0px', threshold: a = 0, window: i = ne, immediate: s = true } = t; const l = We(() => i && 'IntersectionObserver' in i); const c = computed(() => { const b = toValue(r); return Se(b).map(V).filter(Yn) }); let u = K; const d = ref(s); const p = l.value
          ? watch(() => [c.value, V(n), d.value], ([b, w]) => {
              if (u(), !d.value || !b.length)
                return; const f = new IntersectionObserver(e, { root: V(w), rootMargin: o, threshold: a }); b.forEach(g => g && f.observe(g)), u = () => { f.disconnect(), u = K }
            }, { immediate: s, flush: 'post' })
          : K; const h = () => { u(), p(), d.value = false }; return we(h), { isSupported: l, isActive: d, pause() { u(), d.value = false }, resume() { d.value = true }, stop: h }
      } function eo(r, e = {}) { const { window: t = ne, scrollTarget: n, threshold: o = 0, rootMargin: a, once: i = false } = e; const s = shallowRef(false); const { stop: l } = zi(r, (c) => { let u = s.value; let d = 0; for (const p of c)p.time >= d && (d = p.time, u = p.isIntersecting); s.value = u, i && Pi(s, () => { l() }) }, { root: n, window: t, threshold: o, rootMargin: toValue(a) }); return s } const Dr = 1; function $i(r, e = {}) {
        const { throttle: t = 0, idle: n = 200, onStop: o = K, onScroll: a = K, offset: i = { left: 0, right: 0, top: 0, bottom: 0 }, eventListenerOptions: s = { capture: false, passive: true }, behavior: l = 'auto', window: c = ne, onError: u = (m) => { console.error(m) } } = e; const d = shallowRef(0); const p = shallowRef(0); const h = computed({ get() { return d.value }, set(m) { w(m, undefined) } }); const b = computed({ get() { return p.value }, set(m) { w(undefined, m) } }); function w(m, x) {
          let I, T, S, M; if (!c)
            return; const L = toValue(r); if (!L)
            return; (S = L instanceof Document ? c.document.body : L) == null || S.scrollTo({ top: (I = toValue(x)) != null ? I : b.value, left: (T = toValue(m)) != null ? T : h.value, behavior: toValue(l) }); const $ = ((M = L == null ? undefined : L.document) == null ? undefined : M.documentElement) || (L == null ? undefined : L.documentElement) || L; h != null && (d.value = $.scrollLeft), b != null && (p.value = $.scrollTop)
        } const f = shallowRef(false); const g = reactive({ left: true, right: false, top: true, bottom: false }); const v = reactive({ left: false, right: false, top: false, bottom: false }); const _ = (m) => { f.value && (f.value = false, v.left = false, v.right = false, v.top = false, v.bottom = false, o(m)) }; const E = _i(_, t + n); const U = (m) => {
          let x; if (!c)
            return; const I = ((x = m == null ? undefined : m.document) == null ? undefined : x.documentElement) || (m == null ? undefined : m.documentElement) || V(m); const { display: T, flexDirection: S, direction: M } = getComputedStyle(I); const L = M === 'rtl' ? -1 : 1; const $ = I.scrollLeft; v.left = $ < d.value, v.right = $ > d.value; const q = $ * L <= (i.left || 0); const ee = $ * L + I.clientWidth >= I.scrollWidth - (i.right || 0) - Dr; T === 'flex' && S === 'row-reverse' ? (g.left = ee, g.right = q) : (g.left = q, g.right = ee), d.value = $; let G = I.scrollTop; m === c.document && !G && (G = c.document.body.scrollTop), v.top = G < p.value, v.bottom = G > p.value; const Q = G <= (i.top || 0); const ue = G + I.clientHeight >= I.scrollHeight - (i.bottom || 0) - Dr; T === 'flex' && S === 'column-reverse' ? (g.top = ue, g.bottom = Q) : (g.top = Q, g.bottom = ue), p.value = G
        }; const y = (m) => {
          let x; if (!c)
            return; const I = (x = m.target.documentElement) != null ? x : m.target; U(I), f.value = true, E(m), a(m)
        }; return J(r, 'scroll', t ? Ai(y, t, true, false) : y, s), Ct(() => {
          try {
            const m = toValue(r); if (!m)
              return; U(m)
          }
          catch (m) { u(m) }
        }), J(r, 'scrollend', _, s), { x: h, y: b, isScrolling: f, arrivedState: g, directions: v, measure() { const m = toValue(r); c && m && U(m) } }
      } const Fi = { page: r => [r.pageX, r.pageY], client: r => [r.clientX, r.clientY], screen: r => [r.screenX, r.screenY], movement: r => r instanceof MouseEvent ? [r.movementX, r.movementY] : null }; function Hi(r = {}) {
        const { type: e = 'page', touch: t = true, resetOnTouchEnds: n = false, initialValue: o = { x: 0, y: 0 }, window: a = ne, target: i = a, scroll: s = true, eventFilter: l } = r; let c = null; let u = 0; let d = 0; const p = shallowRef(o.x); const h = shallowRef(o.y); const b = shallowRef(null); const w = typeof e == 'function' ? e : Fi[e]; const f = (m) => { const x = w(m); c = m, x && ([p.value, h.value] = x, b.value = 'mouse'), a && (u = a.scrollX, d = a.scrollY) }; const g = (m) => { if (m.touches.length > 0) { const x = w(m.touches[0]); x && ([p.value, h.value] = x, b.value = 'touch') } }; const v = () => {
          if (!c || !a)
            return; const m = w(c); c instanceof MouseEvent && m && (p.value = m[0] + a.scrollX - u, h.value = m[1] + a.scrollY - d)
        }; const _ = () => { p.value = o.x, h.value = o.y }; const E = l ? m => l(() => f(m), {}) : m => f(m); const U = l ? m => l(() => g(m), {}) : m => g(m); const y = l ? () => l(() => v(), {}) : () => v(); if (i) { const m = { passive: true }; J(i, ['mousemove', 'dragover'], E, m), t && e !== 'movement' && (J(i, ['touchstart', 'touchmove'], U, m), n && J(i, 'touchend', _, m)), s && e === 'page' && J(a, 'scroll', y, m) } return { x: p, y: h, sourceType: b }
      } function Fd(r, e = {}) {
        const { handleOutside: t = true, window: n = ne } = e; const o = e.type || 'page'; const { x: a, y: i, sourceType: s } = Hi(e); const l = ref(r ?? (n == null ? undefined : n.document.body)); const c = shallowRef(0); const u = shallowRef(0); const d = shallowRef(0); const p = shallowRef(0); const h = shallowRef(0); const b = shallowRef(0); const w = shallowRef(true); let f = () => {}; return n && (f = watch([l, a, i], () => {
          const g = V(l); if (!g || !(g instanceof Element))
            return; const { left: v, top: _, width: E, height: U } = g.getBoundingClientRect(); d.value = v + (o === 'page' ? n.pageXOffset : 0), p.value = _ + (o === 'page' ? n.pageYOffset : 0), h.value = U, b.value = E; const y = a.value - d.value; const m = i.value - p.value; w.value = E === 0 || U === 0 || y < 0 || m < 0 || y > E || m > U, (t || !w.value) && (c.value = y, u.value = m)
        }, { immediate: true }), J(document, 'mouseleave', () => w.value = true, { passive: true })), { x: a, y: i, sourceType: s, elementX: c, elementY: u, elementPositionX: d, elementPositionY: p, elementHeight: h, elementWidth: b, isOutside: w, stop: f }
      } function Hd(r = null, e = {}) {
        let t, n, o; const { document: a = Ti, restoreOnUnmount: i = d => d } = e; const s = (t = a == null ? undefined : a.title) != null ? t : ''; const l = Jn((n = r ?? (a == null ? undefined : a.title)) != null ? n : null); const c = !!(r && typeof r == 'function'); function u(d) {
          if (!('titleTemplate' in e))
            return d; const p = e.titleTemplate || '%s'; return typeof p == 'function' ? p(d) : toValue(p).replace(/%s/g, d)
        } return watch(l, (d, p) => { d !== p && a && (a.title = u(d ?? '')) }, { immediate: true }), e.observe && !e.titleTemplate && a && !c && vr((o = a.head) == null ? undefined : o.querySelector('title'), () => { a && a.title !== l.value && (l.value = u(a.title)) }, { childList: true }), we(() => { if (i) { const d = i(s, l.value || ''); d != null && a && (a.title = d) } }), l
      } function qi(r, e, t, n = {}) {
        let o, a, i; const { clone: s = false, passive: l = false, eventName: c, deep: u = false, defaultValue: d, shouldEmit: p } = n; const h = getCurrentInstance(); const b = t || (h == null ? undefined : h.emit) || ((o = h == null ? undefined : h.$emit) == null ? undefined : o.bind(h)) || ((i = (a = h == null ? undefined : h.proxy) == null ? undefined : a.$emit) == null ? undefined : i.bind(h == null ? undefined : h.proxy)); let w = c; e || (e = 'modelValue'), w = w || `update:${e.toString()}`; const f = _ => s ? typeof s == 'function' ? s(_) : Mi(_) : _; const g = () => fi(r[e]) ? f(r[e]) : d; const v = (_) => { p ? p(_) && b(w, _) : b(w, _) }; if (l) { const _ = g(); const E = ref(_); let U = false; return watch(() => r[e], (y) => { U || (U = true, E.value = f(y), nextTick(() => U = false)) }), watch(E, (y) => { !U && (y !== r[e] || u) && v(y) }, { deep: u }), E }
        else {
          return computed({ get() { return g() }, set(_) { v(_) } })
        }
      } function qd(r, e, t = {}) { const n = {}; for (const o in r)n[o] = qi(r, o, e, t); return n } const to = /^[a-z0-9]+(-[a-z0-9]+)*$/; const St = (r, e, t, n = '') => {
        const o = r.split(':'); if (r.slice(0, 1) === '@') {
          if (o.length < 2 || o.length > 3)
            return null; n = o.shift().slice(1)
        } if (o.length > 3 || !o.length)
          return null; if (o.length > 1) { const s = o.pop(); const l = o.pop(); const c = { provider: o.length > 0 ? o[0] : n, prefix: l, name: s }; return e && !lt(c) ? null : c } const a = o[0]; const i = a.split('-'); if (i.length > 1) { const s = { provider: n, prefix: i.shift(), name: i.join('-') }; return e && !lt(s) ? null : s } if (t && n === '') { const s = { provider: n, prefix: '', name: a }; return e && !lt(s, t) ? null : s } return null
      }; const lt = (r, e) => r ? !!((e && r.prefix === '' || r.prefix) && r.name) : false; const ro = Object.freeze({ left: 0, top: 0, width: 16, height: 16 }); const gt = Object.freeze({ rotate: 0, vFlip: false, hFlip: false }); const It = Object.freeze({ ...ro, ...gt }); const Qt = Object.freeze({ ...It, body: '', hidden: false }); function Vi(r, e) { const t = {}; !r.hFlip != !e.hFlip && (t.hFlip = true), !r.vFlip != !e.vFlip && (t.vFlip = true); const n = ((r.rotate || 0) + (e.rotate || 0)) % 4; return n && (t.rotate = n), t } function Rr(r, e) { const t = Vi(r, e); for (const n in Qt)n in gt ? n in r && !(n in t) && (t[n] = gt[n]) : n in e ? t[n] = e[n] : n in r && (t[n] = r[n]); return t } function Gi(r, e) {
        const t = r.icons; const n = r.aliases || Object.create(null); const o = Object.create(null); function a(i) {
          if (t[i])
            return o[i] = []; if (!(i in o)) { o[i] = null; const s = n[i] && n[i].parent; const l = s && a(s); l && (o[i] = [s].concat(l)) } return o[i]
        } return Object.keys(t).concat(Object.keys(n)).forEach(a), o
      } function Qi(r, e, t) { const n = r.icons; const o = r.aliases || Object.create(null); let a = {}; function i(s) { a = Rr(n[s] || o[s], a) } return i(e), t.forEach(i), Rr(r, a) } function no(r, e) {
        const t = []; if (typeof r != 'object' || typeof r.icons != 'object')
          return t; Array.isArray(r.not_found) && r.not_found.forEach((o) => { e(o, null), t.push(o) }); const n = Gi(r); for (const o in n) { const a = n[o]; a && (e(o, Qi(r, o, a)), t.push(o)) } return t
      } const Yi = { provider: '', aliases: {}, not_found: {}, ...ro }; function Dt(r, e) {
        for (const t in e) {
          if (t in r && typeof r[t] != typeof e[t])
            return false
        } return true
      } function oo(r) {
        if (typeof r != 'object' || r === null)
          return null; const e = r; if (typeof e.prefix != 'string' || !r.icons || typeof r.icons != 'object' || !Dt(r, Yi))
          return null; const t = e.icons; for (const o in t) {
          const a = t[o]; if (!o || typeof a.body != 'string' || !Dt(a, Qt))
            return null
        } const n = e.aliases || Object.create(null); for (const o in n) {
          const a = n[o]; const i = a.parent; if (!o || typeof i != 'string' || !t[i] && !n[i] || !Dt(a, Qt))
            return null
        } return e
      } const Ur = Object.create(null); function Ki(r, e) { return { provider: r, prefix: e, icons: Object.create(null), missing: new Set() } } function Pe(r, e) { const t = Ur[r] || (Ur[r] = Object.create(null)); return t[e] || (t[e] = Ki(r, e)) } function ao(r, e) { return oo(e) ? no(e, (t, n) => { n ? r.icons[t] = n : r.missing.add(t) }) : [] } function Wi(r, e, t) {
        try {
          if (typeof t.body == 'string')
            return r.icons[e] = { ...t }, !0
        }
        catch {} return false
      } let Ve = false; function io(r) { return typeof r == 'boolean' && (Ve = r), Ve } function Ji(r) { const e = typeof r == 'string' ? St(r, true, Ve) : r; if (e) { const t = Pe(e.provider, e.prefix); const n = e.name; return t.icons[n] || (t.missing.has(n) ? null : undefined) } } function Xi(r, e) {
        const t = St(r, true, Ve); if (!t)
          return false; const n = Pe(t.provider, t.prefix); return e ? Wi(n, t.name, e) : (n.missing.add(t.name), true)
      } function Zi(r, e) {
        if (typeof r != 'object')
          return false; if (typeof e != 'string' && (e = r.provider || ''), Ve && !e && !r.prefix) { let o = false; return oo(r) && (r.prefix = '', no(r, (a, i) => { Xi(a, i) && (o = true) })), o } const t = r.prefix; if (!lt({ prefix: t, name: 'a' }))
          return false; const n = Pe(e, t); return !!ao(n, r)
      } const so = Object.freeze({ width: null, height: null }); const lo = Object.freeze({ ...so, ...gt }); const es = /(-?[0-9.]*\d[0-9.]*)/g; const ts = /^-?\.*\d[\d.]*$/g; function jr(r, e, t) {
        if (e === 1)
          return r; if (t = t || 100, typeof r == 'number')
          return Math.ceil(r * e * t) / t; if (typeof r != 'string')
          return r; const n = r.split(es); if (n === null || !n.length)
          return r; const o = []; let a = n.shift(); let i = ts.test(a); for (;;) {
          if (i) { const s = parseFloat(a); isNaN(s) ? o.push(a) : o.push(Math.ceil(s * e * t) / t) }
          else {
            o.push(a)
          } if (a = n.shift(), a === undefined)
            return o.join(''); i = !i
        }
      } function rs(r, e = 'defs') {
        let t = ''; const n = r.indexOf(`<${e}`); for (;n >= 0;) {
          const o = r.indexOf('>', n); const a = r.indexOf(`</${e}`); if (o === -1 || a === -1)
            break; const i = r.indexOf('>', a); if (i === -1)
            break; t += r.slice(o + 1, a).trim(), r = r.slice(0, n).trim() + r.slice(i + 1)
        } return { defs: t, content: r }
      } function ns(r, e) { return r ? `<defs>${r}</defs>${e}` : e } function os(r, e, t) { const n = rs(r); return ns(n.defs, e + n.content + t) } const as = r => r === 'unset' || r === 'undefined' || r === 'none'; function is(r, e) { const t = { ...It, ...r }; const n = { ...lo, ...e }; const o = { left: t.left, top: t.top, width: t.width, height: t.height }; let a = t.body; [t, n].forEach((w) => { const f = []; const g = w.hFlip; const v = w.vFlip; let _ = w.rotate; g ? v ? _ += 2 : (f.push(`translate(${(o.width + o.left).toString()} ${(0 - o.top).toString()})`), f.push('scale(-1 1)'), o.top = o.left = 0) : v && (f.push(`translate(${(0 - o.left).toString()} ${(o.height + o.top).toString()})`), f.push('scale(1 -1)'), o.top = o.left = 0); let E; switch (_ < 0 && (_ -= Math.floor(_ / 4) * 4), _ = _ % 4, _) { case 1:E = o.height / 2 + o.top, f.unshift(`rotate(90 ${E.toString()} ${E.toString()})`); break; case 2:f.unshift(`rotate(180 ${(o.width / 2 + o.left).toString()} ${(o.height / 2 + o.top).toString()})`); break; case 3:E = o.width / 2 + o.left, f.unshift(`rotate(-90 ${E.toString()} ${E.toString()})`); break }_ % 2 === 1 && (o.left !== o.top && (E = o.left, o.left = o.top, o.top = E), o.width !== o.height && (E = o.width, o.width = o.height, o.height = E)), f.length && (a = os(a, `<g transform="${f.join(' ')}">`, '</g>')) }); const i = n.width; const s = n.height; const l = o.width; const c = o.height; let u, d; i === null ? (d = s === null ? '1em' : s === 'auto' ? c : s, u = jr(d, l / c)) : (u = i === 'auto' ? l : i, d = s === null ? jr(u, c / l) : s === 'auto' ? c : s); const p = {}; const h = (w, f) => { as(f) || (p[w] = f.toString()) }; h('width', u), h('height', d); const b = [o.left, o.top, l, c]; return p.viewBox = b.join(' '), { attributes: p, viewBox: b, body: a } } const ss = /\sid="(\S+)"/g; const ls = `IconifyId${Date.now().toString(16)}${(Math.random() * 16777216 | 0).toString(16)}`; let cs = 0; function us(r, e = ls) {
        const t = []; let n; for (;n = ss.exec(r);)t.push(n[1]); if (!t.length)
          return r; const o = `suffix${(Math.random() * 16777216 | Date.now()).toString(16)}`; return t.forEach((a) => { const i = typeof e == 'function' ? e(a) : e + (cs++).toString(); const s = a.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); r = r.replace(new RegExp(`([#;"])(${s})([")]|\\.[a-z])`, 'g'), `$1${i}${o}$3`) }), r = r.replace(new RegExp(o, 'g'), ''), r
      } const Yt = Object.create(null); function ds(r, e) { Yt[r] = e } function Kt(r) { return Yt[r] || Yt[''] } function yr(r) {
        let e; if (typeof r.resources == 'string')
          e = [r.resources]; else if (e = r.resources, !(Array.isArray(e)) || !e.length)
          return null; return { resources: e, path: r.path || '/', maxURL: r.maxURL || 500, rotate: r.rotate || 750, timeout: r.timeout || 5e3, random: r.random === true, index: r.index || 0, dataAfterTimeout: r.dataAfterTimeout !== false }
      } const xr = Object.create(null); const Ne = ['https://api.simplesvg.com', 'https://api.unisvg.com']; const ct = []; for (;Ne.length > 0;)Ne.length === 1 || Math.random() > 0.5 ? ct.push(Ne.shift()) : ct.push(Ne.pop()); xr[''] = yr({ resources: ['https://api.iconify.design'].concat(ct) }); function ps(r, e) { const t = yr(e); return t === null ? false : (xr[r] = t, true) } function kr(r) { return xr[r] } const hs = () => {
        let r; try {
          if (r = fetch, typeof r == 'function')
            return r
        }
        catch {}
      }; const Br = hs(); function fs(r, e) {
        const t = kr(r); if (!t)
          return 0; let n; if (!t.maxURL) {
          n = 0
        }
        else { let o = 0; t.resources.forEach((i) => { o = Math.max(o, i.length) }); const a = `${e}.json?icons=`; n = t.maxURL - o - t.path.length - a.length } return n
      } function ms(r) { return r === 404 } const bs = (r, e, t) => { const n = []; const o = fs(r, e); const a = 'icons'; let i = { type: a, provider: r, prefix: e, icons: [] }; let s = 0; return t.forEach((l, c) => { s += l.length + 1, s >= o && c > 0 && (n.push(i), i = { type: a, provider: r, prefix: e, icons: [] }, s = l.length), i.icons.push(l) }), n.push(i), n }; function gs(r) {
        if (typeof r == 'string') {
          const e = kr(r); if (e)
            return e.path
        } return '/'
      } const ws = (r, e, t) => { if (!Br) { t('abort', 424); return } let n = gs(e.provider); switch (e.type) { case 'icons':{ const a = e.prefix; const s = e.icons.join(','); const l = new URLSearchParams({ icons: s }); n += `${a}.json?${l.toString()}`; break } case 'custom':{ const a = e.uri; n += a.slice(0, 1) === '/' ? a.slice(1) : a; break } default:t('abort', 400); return } let o = 503; Br(r + n).then((a) => { const i = a.status; if (i !== 200) { setTimeout(() => { t(ms(i) ? 'abort' : 'next', i) }); return } return o = 501, a.json() }).then((a) => { if (typeof a != 'object' || a === null) { setTimeout(() => { a === 404 ? t('abort', a) : t('next', o) }); return }setTimeout(() => { t('success', a) }) }).catch(() => { t('next', o) }) }; const vs = { prepare: bs, send: ws }; function ys(r) {
        const e = { loaded: [], missing: [], pending: [] }; const t = Object.create(null); r.sort((o, a) => o.provider !== a.provider ? o.provider.localeCompare(a.provider) : o.prefix !== a.prefix ? o.prefix.localeCompare(a.prefix) : o.name.localeCompare(a.name)); let n = { provider: '', prefix: '', name: '' }; return r.forEach((o) => {
          if (n.name === o.name && n.prefix === o.prefix && n.provider === o.provider)
            return; n = o; const a = o.provider; const i = o.prefix; const s = o.name; const l = t[a] || (t[a] = Object.create(null)); const c = l[i] || (l[i] = Pe(a, i)); let u; s in c.icons ? u = e.loaded : i === '' || c.missing.has(s) ? u = e.missing : u = e.pending; const d = { provider: a, prefix: i, name: s }; u.push(d)
        }), e
      } function co(r, e) { r.forEach((t) => { const n = t.loaderCallbacks; n && (t.loaderCallbacks = n.filter(o => o.id !== e)) }) } function xs(r) {
        r.pendingCallbacksFlag || (r.pendingCallbacksFlag = true, setTimeout(() => {
          r.pendingCallbacksFlag = false; const e = r.loaderCallbacks ? r.loaderCallbacks.slice(0) : []; if (!e.length)
            return; let t = false; const n = r.provider; const o = r.prefix; e.forEach((a) => {
            const i = a.icons; const s = i.pending.length; i.pending = i.pending.filter((l) => {
              if (l.prefix !== o)
                return true; const c = l.name; if (r.icons[c])
                i.loaded.push({ provider: n, prefix: o, name: c }); else if (r.missing.has(c))
                i.missing.push({ provider: n, prefix: o, name: c }); else return t = true, true; return false
            }), i.pending.length !== s && (t || co([r], a.id), a.callback(i.loaded.slice(0), i.missing.slice(0), i.pending.slice(0), a.abort))
          })
        }))
      } let ks = 0; function _s(r, e, t) {
        const n = ks++; const o = co.bind(null, t, n); if (!e.pending.length)
          return o; const a = { id: n, icons: e, callback: r, abort: o }; return t.forEach((i) => { (i.loaderCallbacks || (i.loaderCallbacks = [])).push(a) }), o
      } function As(r, e = true, t = false) { const n = []; return r.forEach((o) => { const a = typeof o == 'string' ? St(o, e, t) : o; a && n.push(a) }), n } const Es = { resources: [], index: 0, timeout: 2e3, rotate: 750, random: false, dataAfterTimeout: false }; function Cs(r, e, t, n) {
        const o = r.resources.length; const a = r.random ? Math.floor(Math.random() * o) : r.index; let i; if (r.random) { let y = r.resources.slice(0); for (i = []; y.length > 1;) { const m = Math.floor(Math.random() * y.length); i.push(y[m]), y = y.slice(0, m).concat(y.slice(m + 1)) }i = i.concat(y) }
        else {
          i = r.resources.slice(a).concat(r.resources.slice(0, a))
        } const s = Date.now(); let l = 'pending'; let c = 0; let u; let d = null; let p = []; let h = []; typeof n == 'function' && h.push(n); function b() { d && (clearTimeout(d), d = null) } function w() { l === 'pending' && (l = 'aborted'), b(), p.forEach((y) => { y.status === 'pending' && (y.status = 'aborted') }), p = [] } function f(y, m) { m && (h = []), typeof y == 'function' && h.push(y) } function g() { return { startTime: s, payload: e, status: l, queriesSent: c, queriesPending: p.length, subscribe: f, abort: w } } function v() { l = 'failed', h.forEach((y) => { y(undefined, u) }) } function _() { p.forEach((y) => { y.status === 'pending' && (y.status = 'aborted') }), p = [] } function E(y, m, x) {
          const I = m !== 'success'; switch (p = p.filter(T => T !== y), l) {
            case 'pending':break; case 'failed':if (I || !r.dataAfterTimeout)
              return; break; default:return
          } if (m === 'abort') { u = x, v(); return } if (I) { u = x, p.length || (i.length ? U() : v()); return } if (b(), _(), !r.random) { const T = r.resources.indexOf(y.resource); T !== -1 && T !== r.index && (r.index = T) }l = 'completed', h.forEach((T) => { T(x) })
        } function U() {
          if (l !== 'pending')
            return; b(); const y = i.shift(); if (y === undefined) { if (p.length) { d = setTimeout(() => { b(), l === 'pending' && (_(), v()) }, r.timeout); return }v(); return } const m = { status: 'pending', resource: y, callback: (x, I) => { E(m, x, I) } }; p.push(m), c++, d = setTimeout(U, r.rotate), t(y, e, m.callback)
        } return setTimeout(U), g
      } function uo(r) { const e = { ...Es, ...r }; let t = []; function n() { t = t.filter(s => s().status === 'pending') } function o(s, l, c) { const u = Cs(e, s, l, (d, p) => { n(), c && c(d, p) }); return t.push(u), u } function a(s) { return t.find(l => s(l)) || null } return { query: o, find: a, setIndex: (s) => { e.index = s }, getIndex: () => e.index, cleanup: n } } function zr() {} const Rt = Object.create(null); function Ss(r) {
        if (!Rt[r]) {
          const e = kr(r); if (!e)
            return; const t = uo(e); const n = { config: e, redundancy: t }; Rt[r] = n
        } return Rt[r]
      } function Is(r, e, t) {
        let n, o; if (typeof r == 'string') {
          const a = Kt(r); if (!a)
            return t(undefined, 424), zr; o = a.send; const i = Ss(r); i && (n = i.redundancy)
        }
        else { const a = yr(r); if (a) { n = uo(a); const i = r.resources ? r.resources[0] : ''; const s = Kt(i); s && (o = s.send) } } return !n || !o ? (t(undefined, 424), zr) : n.query(e, o, t)().abort
      } function $r() {} function Ps(r) { r.iconsLoaderFlag || (r.iconsLoaderFlag = true, setTimeout(() => { r.iconsLoaderFlag = false, xs(r) })) } function Ts(r) { const e = []; const t = []; return r.forEach((n) => { (n.match(to) ? e : t).push(n) }), { valid: e, invalid: t } } function Me(r, e, t) {
        function n() { const o = r.pendingIcons; e.forEach((a) => { o && o.delete(a), r.icons[a] || r.missing.add(a) }) } if (t && typeof t == 'object') {
          try { if (!ao(r, t).length) { n(); return } }
          catch (o) { console.error(o) }
        }n(), Ps(r)
      } function Fr(r, e) { r instanceof Promise ? r.then((t) => { e(t) }).catch(() => { e(null) }) : e(r) } function Os(r, e) {
        r.iconsToLoad ? r.iconsToLoad = r.iconsToLoad.concat(e).sort() : r.iconsToLoad = e, r.iconsQueueFlag || (r.iconsQueueFlag = true, setTimeout(() => {
          r.iconsQueueFlag = false; const { provider: t, prefix: n } = r; const o = r.iconsToLoad; if (delete r.iconsToLoad, !o || !o.length)
            return; const a = r.loadIcon; if (r.loadIcons && (o.length > 1 || !a)) { Fr(r.loadIcons(o, n, t), (u) => { Me(r, o, u) }); return } if (a) { o.forEach((u) => { const d = a(u, n, t); Fr(d, (p) => { const h = p ? { prefix: n, icons: { [u]: p } } : null; Me(r, [u], h) }) }); return } const { valid: i, invalid: s } = Ts(o); if (s.length && Me(r, s, null), !i.length)
            return; const l = n.match(to) ? Kt(t) : null; if (!l) { Me(r, i, null); return }l.prepare(t, n, i).forEach((u) => { Is(t, u, (d) => { Me(r, u.icons, d) }) })
        }))
      } const Ls = (r, e) => {
        const t = As(r, true, io()); const n = ys(t); if (!n.pending.length) { let l = true; return e && setTimeout(() => { l && e(n.loaded, n.missing, n.pending, $r) }), () => { l = false } } const o = Object.create(null); const a = []; let i, s; return n.pending.forEach((l) => {
          const { provider: c, prefix: u } = l; if (u === s && c === i)
            return; i = c, s = u, a.push(Pe(c, u)); const d = o[c] || (o[c] = Object.create(null)); d[u] || (d[u] = [])
        }), n.pending.forEach((l) => { const { provider: c, prefix: u, name: d } = l; const p = Pe(c, u); const h = p.pendingIcons || (p.pendingIcons = new Set()); h.has(d) || (h.add(d), o[c][u].push(d)) }), a.forEach((l) => { const c = o[l.provider][l.prefix]; c.length && Os(l, c) }), e ? _s(e, n, a) : $r
      }; function Ns(r, e) { const t = { ...r }; for (const n in e) { const o = e[n]; const a = typeof o; n in so ? (o === null || o && (a === 'string' || a === 'number')) && (t[n] = o) : a === typeof t[n] && (t[n] = n === 'rotate' ? o % 4 : o) } return t } const Ms = /[\s,]+/; function Ds(r, e) { e.split(Ms).forEach((t) => { switch (t.trim()) { case 'horizontal':r.hFlip = true; break; case 'vertical':r.vFlip = true; break } }) } function Rs(r, e = 0) {
        const t = r.replace(/^-?[0-9.]*/, ''); function n(o) { for (;o < 0;)o += 4; return o % 4 } if (t === '') { const o = parseInt(r); return isNaN(o) ? 0 : n(o) }
        else if (t !== r) { let o = 0; switch (t) { case '%':o = 25; break; case 'deg':o = 90 } if (o) { let a = parseFloat(r.slice(0, r.length - t.length)); return isNaN(a) ? 0 : (a = a / o, a % 1 === 0 ? n(a) : 0) } } return e
      } function Us(r, e) { let t = !r.includes('xlink:') ? '' : ' xmlns:xlink="http://www.w3.org/1999/xlink"'; for (const n in e)t += ` ${n}="${e[n]}"`; return `<svg xmlns="http://www.w3.org/2000/svg"${t}>${r}</svg>` } function js(r) { return r.replace(/"/g, '\'').replace(/%/g, '%25').replace(/#/g, '%23').replace(/</g, '%3C').replace(/>/g, '%3E').replace(/\s+/g, ' ') } function Bs(r) { return `data:image/svg+xml,${js(r)}` } function zs(r) { return `url("${Bs(r)}")` } const Hr = { ...lo, inline: false }; const $s = { 'xmlns': 'http://www.w3.org/2000/svg', 'xmlns:xlink': 'http://www.w3.org/1999/xlink', 'aria-hidden': true, 'role': 'img' }; const Fs = { display: 'inline-block' }; const Wt = { backgroundColor: 'currentColor' }; const po = { backgroundColor: 'transparent' }; const qr = { Image: 'var(--svg)', Repeat: 'no-repeat', Size: '100% 100%' }; const Vr = { webkitMask: Wt, mask: Wt, background: po }; for (const r in Vr) { const e = Vr[r]; for (const t in qr)e[r + t] = qr[t] } const ut = {}; ['horizontal', 'vertical'].forEach((r) => { const e = `${r.slice(0, 1)}Flip`; ut[`${r}-flip`] = e, ut[`${r.slice(0, 1)}-flip`] = e, ut[`${r}Flip`] = e }); function Gr(r) { return r + (r.match(/^[-0-9.]+$/) ? 'px' : '') } const Qr = (r, e) => {
        const t = Ns(Hr, e); const n = { ...$s }; const o = e.mode || 'svg'; const a = {}; const i = e.style; const s = typeof i == 'object' && !(Array.isArray(i)) ? i : {}; for (const w in e) {
          const f = e[w]; if (f !== undefined)
            switch (w) { case 'icon':case 'style':case 'onLoad':case 'mode':case 'ssr':break; case 'inline':case 'hFlip':case 'vFlip':t[w] = f === true || f === 'true' || f === 1; break; case 'flip':typeof f == 'string' && Ds(t, f); break; case 'color':a.color = f; break; case 'rotate':typeof f == 'string' ? t[w] = Rs(f) : typeof f == 'number' && (t[w] = f); break; case 'ariaHidden':case 'aria-hidden':f !== true && f !== 'true' && delete n['aria-hidden']; break; default:{ const g = ut[w]; g ? (f === true || f === 'true' || f === 1) && (t[g] = true) : Hr[w] === undefined && (n[w] = f) } }
        } const l = is(r, t); const c = l.attributes; if (t.inline && (a.verticalAlign = '-0.125em'), o === 'svg') { n.style = { ...a, ...s }, Object.assign(n, c); let w = 0; let f = e.id; return typeof f == 'string' && (f = f.replace(/-/g, '_')), n.innerHTML = us(l.body, f ? () => `${f}ID${w++}` : 'iconifyVue'), h('svg', n) } const { body: u, width: d, height: p } = r; const h$1 = o === 'mask' || (o === 'bg' ? false : u.includes('currentColor')); const b = Us(u, { ...c, width: `${d}`, height: `${p}` }); return n.style = { ...a, '--svg': zs(b), 'width': Gr(c.width), 'height': Gr(c.height), ...Fs, ...h$1 ? Wt : po, ...s }, h('span', n)
      }; io(true); ds('', vs); if (typeof document < 'u' && typeof window < 'u') {
        const r = window; if (r.IconifyPreload !== undefined) {
          const e = r.IconifyPreload; const t = 'Invalid IconifyPreload syntax.'; typeof e == 'object' && e !== null && (Array.isArray(e) ? e : [e]).forEach((n) => {
            try { (typeof n != 'object' || n === null || Array.isArray(n) || typeof n.icons != 'object' || typeof n.prefix != 'string' || !Zi(n)) && console.error(t) }
            catch { console.error(t) }
          })
        } if (r.IconifyProviders !== undefined) {
          const e = r.IconifyProviders; if (typeof e == 'object' && e !== null) {
            for (const t in e) {
              const n = `IconifyProviders[${t}] is invalid.`; try {
                const o = e[t]; if (typeof o != 'object' || !o || o.resources === void 0)
                  continue; ps(t, o) || console.error(n)
              }
              catch { console.error(n) }
            }
          }
        }
      } const Hs = { ...It, body: '' }; const ho = defineComponent((r, { emit: e }) => {
        const t = ref(null); function n() { let c, u; t.value && ((u = (c = t.value).abort) == null || u.call(c), t.value = null) } const o = ref(!!r.ssr); const a = ref(''); const i = shallowRef(null); function s() {
          const c = r.icon; if (typeof c == 'object' && c !== null && typeof c.body == 'string')
            return a.value = '', { data: c }; let u; if (typeof c != 'string' || (u = St(c, false, true)) === null)
            return null; let d = Ji(u); if (!d) { const b = t.value; return (!b || b.name !== c) && (d === null ? t.value = { name: c } : t.value = { name: c, abort: Ls([u], l) }), null }n(), a.value !== c && (a.value = c, nextTick(() => { e('load', c) })); const p = r.customise; if (p) { d = Object.assign({}, d); const b = p(d.body, u.name, u.prefix, u.provider); typeof b == 'string' && (d.body = b) } const h = ['iconify']; return u.prefix !== '' && h.push(`iconify--${u.prefix}`), u.provider !== '' && h.push(`iconify--${u.provider}`), { data: d, classes: h }
        } function l() { let u; const c = s(); c ? c.data !== ((u = i.value) == null ? undefined : u.data) && (i.value = c) : i.value = null } return o.value ? l() : onMounted(() => { o.value = true, l() }), watch(() => r.icon, l), onUnmounted(n), () => {
          const c = i.value; if (!c)
            return Qr(Hs, r); let u = r; return c.classes && (u = { ...r, class: c.classes.join(' ') }), Qr({ ...It, ...c.data }, u)
        }
      }, { props: ['icon', 'mode', 'ssr', 'width', 'height', 'style', 'color', 'inline', 'rotate', 'hFlip', 'horizontalFlip', 'vFlip', 'verticalFlip', 'flip', 'id', 'ariaHidden', 'customise', 'title'], emits: ['load'] }); const Vd = 'streamline-emojis:star-struck-2'; const Gd = 'game-icons:star-swirl'; const Qd = 'solar:copy-bold-duotone'; const qs = 'line-md:alert-circle-twotone-loop'; const Vs = 'heroicons:inbox'; const Yd = 'material-symbols:order-play-rounded'; const Kd = 'material-symbols:close-rounded'; const Gs = ['src']; const Qs = defineComponent({ __name: 'Empty', props: { description: { default: '暂无数据' }, image: { default: '' }, size: { default: 'md' }, showImage: { type: Boolean, default: true }, icon: { default: Vs } }, setup(r) { const e = r; const t = computed(() => e.icon); const n = computed(() => ({ container: ['flex flex-col items-center justify-center text-base-content/60', 'animate-in fade-in duration-300', { 'xs': 'p-2', 'sm': 'p-3', 'md': 'p-4', 'lg': 'p-6', 'xl': 'p-8', '2xl': 'p-10' }[e.size]], imageWrapper: [{ 'xs': 'mb-1', 'sm': 'mb-2', 'md': 'mb-3', 'lg': 'mb-4', 'xl': 'mb-5', '2xl': 'mb-6' }[e.size]], customImage: ['max-w-full h-auto align-middle opacity-60', { 'xs': 'w-8 h-8', 'sm': 'w-12 h-12', 'md': 'w-16 h-16', 'lg': 'w-20 h-20', 'xl': 'w-24 h-24', '2xl': 'w-32 h-32' }[e.size]], defaultIcon: ['text-base-content/30', { 'xs': 'text-2xl', 'sm': 'text-3xl', 'md': 'text-4xl', 'lg': 'text-5xl', 'xl': 'text-6xl', '2xl': 'text-8xl' }[e.size]], description: ['text-center font-medium leading-relaxed', { 'xs': 'text-xs', 'sm': 'text-sm', 'md': 'text-sm', 'lg': 'text-base', 'xl': 'text-lg', '2xl': 'text-xl' }[e.size]], footer: [{ 'xs': 'mt-1', 'sm': 'mt-2', 'md': 'mt-3', 'lg': 'mt-4', 'xl': 'mt-5', '2xl': 'mt-6' }[e.size]] })); return (o, a) => (openBlock(), createElementBlock('div', { class: normalizeClass(n.value.container) }, [e.showImage ? (openBlock(), createElementBlock('div', { key: 0, class: normalizeClass(n.value.imageWrapper) }, [e.image ? (openBlock(), createElementBlock('img', { key: 0, src: e.image, class: normalizeClass(n.value.customImage) }, null, 10, Gs)) : (openBlock(), createBlock(unref(ho), { key: 1, icon: t.value, class: normalizeClass(n.value.defaultIcon) }, null, 8, ['icon', 'class']))], 2)) : createCommentVNode('', true), createElementVNode('div', { class: normalizeClass(n.value.description) }, toDisplayString(e.description), 3), o.$slots.default ? (openBlock(), createElementBlock('div', { key: 1, class: normalizeClass(n.value.footer) }, [renderSlot(o.$slots, 'default')], 2)) : createCommentVNode('', true)], 2)) } }); const _r = defineComponent({ __name: 'index', props: { type: { default: 'error' }, retryable: { type: Boolean, default: false }, message: { default: undefined }, retryText: { default: '重试' }, noPadding: { type: Boolean, default: false }, size: { default: 'medium' }, icon: { default: qs }, fold: { type: Boolean } }, emits: ['retry'], setup(r) {
        const e = r; const t = computed(() => e.icon); const n = computed(() => ({ container: ['flex flex-col items-center justify-center text-base-content/70', e.size === 'mini' ? 'gap-1' : 'gap-2', !e.noPadding && e.size !== 'mini' && 'p-2', 'animate-in fade-in duration-300'], icon: [`text-${e.type}`, { mini: 'text-2xl', small: 'text-3xl', medium: 'text-5xl', large: 'text-6xl' }[e.size]], text: ['text-center m-0 select-text font-medium', { mini: 'text-xs', small: 'text-sm', medium: 'text-base', large: 'text-lg' }[e.size]], detailButton: ['btn btn-error btn-xs'], retryButton: ['btn btn-error btn-sm transition-all duration-200', 'hover:btn-error hover:scale-105 active:scale-95'] })); function o(i) {
          return i instanceof Error
            ? `[Error name]: ${i.name}
[Error message]: ${i.message}
[Error stack]: ${i.stack}`
            : i
        } function a() { const i = o(e.message); const { copy: s } = Ni(); s(i), alert(i), alert('已将错误信息复制到剪贴板') } return (i, s) => (openBlock(), createElementBlock('div', { class: normalizeClass(n.value.container) }, [createVNode(unref(ho), { icon: t.value, class: normalizeClass(n.value.icon) }, null, 8, ['icon', 'class']), createElementVNode('p', { class: normalizeClass(n.value.text) }, [renderSlot(i.$slots, 'default', {}, () => [createTextVNode(toDisplayString(i.message || unref(Bn).UNKNOWN_ERROR), 1)])], 2), e.message instanceof Error ? (openBlock(), createElementBlock('button', { key: 0, class: normalizeClass(n.value.detailButton), onClick: a }, ' 查看错误 ', 2)) : createCommentVNode('', true), e.retryable ? (openBlock(), createElementBlock('button', { key: 1, class: normalizeClass(n.value.retryButton), onClick: s[0] || (s[0] = l => i.$emit('retry')) }, toDisplayString(e.retryText), 3)) : createCommentVNode('', true)], 2))
      } }); const Ys = ['src', 'origin-src', 'refferer']; const Ks = defineComponent({ __name: 'index', props: { referer: {}, src: {}, alt: {}, skeletonMode: {}, cache: { type: Boolean } }, setup(r) {
        const e = r; const t = { container: 'flex justify-center items-center w-full h-full', image: 'w-full h-full object-cover rounded', skeleton: 'skeleton w-full h-full rounded' }; const n = ref(); const o = ref(false); const a = ref(false); const i = new Et(); async function s(c) {
          if (e.cache) {
            const h = await bt.get(c); if (h)
              return await Or(h.value)
          } const u = await i.get(c, { headers: { ...e.referer ? { Referer: e.referer } : {} }, responseType: 'blob' }); const d = new Blob([await u.blob()], { type: 'image/jpeg' }); const p = await Vn(d, { maxWidth: 720, maxHeight: 720, quality: 0.8, type: 'image/webp' }); return e.cache && bt.set(e.src, p), await Or(p)
        } async function l(c) {
          try {
            if (o.value = !0, e.referer) { const u = await s(c); n.value = u }
            else {
              n.value = c
            }
          }
          catch { n.value = '', a.value = true }
          finally { o.value = false }
        } return watch(() => e.src, async (c) => { c ? l(c) : n.value = '' }, { immediate: true }), (c, u) => (openBlock(), createElementBlock('div', { class: normalizeClass(t.container) }, [o.value ? (openBlock(), createElementBlock('div', { key: 0, class: normalizeClass(t.skeleton) }, null, 2)) : a.value ? (openBlock(), createBlock(_r, { key: 1 })) : (openBlock(), createElementBlock('img', mergeProps({ 'key': 2, 'src': n.value, 'origin-src': e.src, 'refferer': e.referer, 'class': t.image }, c.$attrs), null, 16, Ys))], 2))
      } }); exports({ h: ho, V: Vd, G: Gd, Q: Qd, Y: Yd, K: Kd, a: Qs, _: _r }); const dt = { exports: {} }; const Ws = dt.exports; let Yr; function Js() {
        return Yr || (Yr = 1, (function (r, e) {
          (function (t, n) { r.exports = n() })(Ws, () => {
            let t; let n; const o = 1e3; const a = 6e4; const i = 36e5; const s = 864e5; const l = /\[([^\]]+)\]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g; const c = 31536e6; const u = 2628e6; const d = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/; const p = { years: c, months: u, days: s, hours: i, minutes: a, seconds: o, milliseconds: 1, weeks: 6048e5 }; const h = function (y) { return y instanceof E }; const b = function (y, m, x) { return new E(y, x, m.$l) }; const w = function (y) { return `${n.p(y)}s` }; const f = function (y) { return y < 0 }; const g = function (y) { return f(y) ? Math.ceil(y) : Math.floor(y) }; const v = function (y) { return Math.abs(y) }; const _ = function (y, m) { return y ? f(y) ? { negative: true, format: `${v(y)}${m}` } : { negative: false, format: `${y}${m}` } : { negative: false, format: '' } }; var E = (function () {
              function y(x, I, T) {
                const S = this; if (this.$d = {}, this.$l = T, x === undefined && (this.$ms = 0, this.parseFromMilliseconds()), I)
                  return b(x * p[w(I)], this); if (typeof x == 'number')
                  return this.$ms = x, this.parseFromMilliseconds(), this; if (typeof x == 'object')
                  return Object.keys(x).forEach(($) => { S.$d[w($)] = x[$] }), this.calMilliseconds(), this; if (typeof x == 'string') { const M = x.match(d); if (M) { const L = M.slice(2).map(($) => { return $ != null ? Number($) : 0 }); return this.$d.years = L[0], this.$d.months = L[1], this.$d.weeks = L[2], this.$d.days = L[3], this.$d.hours = L[4], this.$d.minutes = L[5], this.$d.seconds = L[6], this.calMilliseconds(), this } } return this
              } const m = y.prototype; return m.calMilliseconds = function () { const x = this; this.$ms = Object.keys(this.$d).reduce((I, T) => { return I + (x.$d[T] || 0) * p[T] }, 0) }, m.parseFromMilliseconds = function () { let x = this.$ms; this.$d.years = g(x / c), x %= c, this.$d.months = g(x / u), x %= u, this.$d.days = g(x / s), x %= s, this.$d.hours = g(x / i), x %= i, this.$d.minutes = g(x / a), x %= a, this.$d.seconds = g(x / o), x %= o, this.$d.milliseconds = x }, m.toISOString = function () { const x = _(this.$d.years, 'Y'); const I = _(this.$d.months, 'M'); let T = +this.$d.days || 0; this.$d.weeks && (T += 7 * this.$d.weeks); const S = _(T, 'D'); const M = _(this.$d.hours, 'H'); const L = _(this.$d.minutes, 'M'); let $ = this.$d.seconds || 0; this.$d.milliseconds && ($ += this.$d.milliseconds / 1e3, $ = Math.round(1e3 * $) / 1e3); const q = _($, 'S'); const ee = x.negative || I.negative || S.negative || M.negative || L.negative || q.negative; const G = M.format || L.format || q.format ? 'T' : ''; const Q = `${ee ? '-' : '' }P${x.format}${I.format}${S.format}${G}${M.format}${L.format}${q.format}`; return Q === 'P' || Q === '-P' ? 'P0D' : Q }, m.toJSON = function () { return this.toISOString() }, m.format = function (x) { const I = x || 'YYYY-MM-DDTHH:mm:ss'; const T = { Y: this.$d.years, YY: n.s(this.$d.years, 2, '0'), YYYY: n.s(this.$d.years, 4, '0'), M: this.$d.months, MM: n.s(this.$d.months, 2, '0'), D: this.$d.days, DD: n.s(this.$d.days, 2, '0'), H: this.$d.hours, HH: n.s(this.$d.hours, 2, '0'), m: this.$d.minutes, mm: n.s(this.$d.minutes, 2, '0'), s: this.$d.seconds, ss: n.s(this.$d.seconds, 2, '0'), SSS: n.s(this.$d.milliseconds, 3, '0') }; return I.replace(l, (S, M) => { return M || String(T[S]) }) }, m.as = function (x) { return this.$ms / p[w(x)] }, m.get = function (x) { let I = this.$ms; const T = w(x); return T === 'milliseconds' ? I %= 1e3 : I = T === 'weeks' ? g(I / p[T]) : this.$d[T], I || 0 }, m.add = function (x, I, T) { let S; return S = I ? x * p[w(I)] : h(x) ? x.$ms : b(x, this).$ms, b(this.$ms + S * (T ? -1 : 1), this) }, m.subtract = function (x, I) { return this.add(x, I, true) }, m.locale = function (x) { const I = this.clone(); return I.$l = x, I }, m.clone = function () { return b(this.$ms, this) }, m.humanize = function (x) { return t().add(this.$ms, 'ms').locale(this.$l).fromNow(!x) }, m.valueOf = function () { return this.asMilliseconds() }, m.milliseconds = function () { return this.get('milliseconds') }, m.asMilliseconds = function () { return this.as('milliseconds') }, m.seconds = function () { return this.get('seconds') }, m.asSeconds = function () { return this.as('seconds') }, m.minutes = function () { return this.get('minutes') }, m.asMinutes = function () { return this.as('minutes') }, m.hours = function () { return this.get('hours') }, m.asHours = function () { return this.as('hours') }, m.days = function () { return this.get('days') }, m.asDays = function () { return this.as('days') }, m.weeks = function () { return this.get('weeks') }, m.asWeeks = function () { return this.as('weeks') }, m.months = function () { return this.get('months') }, m.asMonths = function () { return this.as('months') }, m.years = function () { return this.get('years') }, m.asYears = function () { return this.as('years') }, y
            }()); const U = function (y, m, x) { return y.add(m.years() * x, 'y').add(m.months() * x, 'M').add(m.days() * x, 'd').add(m.hours() * x, 'h').add(m.minutes() * x, 'm').add(m.seconds() * x, 's').add(m.milliseconds() * x, 'ms') }; return function (y, m, x) { t = x, n = x().$utils(), x.duration = function (S, M) { const L = x.locale(); return b(S, { $l: L }, M) }, x.isDuration = h; const I = m.prototype.add; const T = m.prototype.subtract; m.prototype.add = function (S, M) { return h(S) ? U(this, S, 1) : I.bind(this)(S, M) }, m.prototype.subtract = function (S, M) { return h(S) ? U(this, S, -1) : T.bind(this)(S, M) } }
          })
        }(dt))), dt.exports
      } const Xs = Js(); const Zs = Mn(Xs); Ke.extend(Zs); function el(r) { return r ? Ke(r).format('YYYY-MM-DD') : '' } function tl(r) {
        if (!r)
          return ''; const e = Math.floor(r / 60); const t = r % 60; const n = []; return e > 0 && n.push(`${e}小时`), t > 0 && n.push(`${t}分钟`), n.join(' ')
      } function Wd(r) {
        if (!r)
          return '未知'; const e = ['B', 'KB', 'MB', 'GB', 'TB']; let t = r; let n = 0; for (;t >= 1024 && n < e.length - 1;)t /= 1024, n++; return `${t.toFixed(2)} ${e[n]}`
      } const rl = 'jav_cache'; class nl extends ve {constructor() { super({ storeName: rl }) }} const ol = new nl(); let Ge; (function (r) { r.JAVBUS = 'JavBus', r.JAVDB = 'JavDB', r.MISSAV = 'MissAV' })(Ge || (Ge = {})); class al extends Error {constructor() { super('未找到番号') }} class il extends Error {constructor() { super('请求页面错误') }} class W {
        constructor() { Object.defineProperty(this, 'request', { enumerable: true, configurable: true, writable: true, value: new Et() }), Object.defineProperty(this, 'cache', { enumerable: true, configurable: true, writable: true, value: ol }) } async getInfo(e) {
          const t = await this.getInfoByCache(e); if (t)
            return t; const n = await this.getInfoByAvNumber(e); return n && this.cache.set(`${this.source}:${e}`, n), n ?? undefined
        }

        async getInfoByCache(e) {
          const t = await this.cache.get(`${this.source}:${e}`); if (t)
            return t.value
        }

        async parseInfo(e) {
          let a, i, s, l, c; let t = new DOMParser().parseFromString(e, 'text/html'); try { t = await this.parseInfoBefore(t) }
          catch { return } const n = { source: this.source, baseUrl: this.baseUrl, detailUrl: this.detailUrl, searchUrl: this.searchUrl, avNumber: this.parseAvNumber(t), title: this.parseTitle(t), date: this.parseDate(t), duration: this.parseDuration(t), director: this.parseDirector(t), actors: this.parseActor(t), studio: this.parseStudio(t), publisher: this.parsePublisher(t), cover: this.parseCover(t), coverSingle: this.parseCoverSingle(t), preview: this.parsePreview(t), series: this.parseSeries(t), category: this.parseCategory(t), score: (a = this.parseScore) == null ? undefined : a.call(this, t), scoreCount: (i = this.parseScoreCount) == null ? undefined : i.call(this, t), viewCount: (s = this.parseViewCount) == null ? undefined : s.call(this, t), downloadCount: (l = this.parseDownloadCount) == null ? undefined : l.call(this, t), comments: (c = this.parseComments) == null ? undefined : c.call(this, t) }; return await this.parseInfoAfter(n)
        }

        async parseInfoBefore(e) { return e } async parseInfoAfter(e) { return Promise.resolve(e) }
      }Object.defineProperty(W, 'NotFound', { enumerable: true, configurable: true, writable: true, value: al }); Object.defineProperty(W, 'PageError', { enumerable: true, configurable: true, writable: true, value: il }); class sl extends W {
        constructor() { super(...arguments), Object.defineProperty(this, 'source', { enumerable: true, configurable: true, writable: true, value: Ge.JAVBUS }), Object.defineProperty(this, 'baseUrl', { enumerable: true, configurable: true, writable: true, value: 'https://www.javbus.com' }), Object.defineProperty(this, 'detailUrl', { enumerable: true, configurable: true, writable: true, value: '' }), Object.defineProperty(this, 'searchUrl', { enumerable: true, configurable: true, writable: true, value: '' }), Object.defineProperty(this, 'labels', { enumerable: true, configurable: true, writable: true, value: {} }) } async getInfoByAvNumber(e) {
          const t = new URL(e, this.baseUrl).href; const n = new URL(`/search/${e}`, this.baseUrl).href; this.detailUrl = t, this.searchUrl = n; const o = await this.request.get(t); if (o.status === 404)
            throw new W.NotFound(); if (o.status !== 200 && o.status !== 302)
            throw new W.PageError(); return await this.parseInfo(await o.text())
        }

        async parseInfoBefore(e) {
          if (e.querySelector('.error-page'))
            throw new W.NotFound(); const n = this.getLabels(e); return this.labels = n, e
        }

        async parseInfoAfter(e) { let t; return { ...e, title: (t = e.title) == null ? undefined : t.replace(new RegExp(`^${e.avNumber}`, 'i'), '').trim() } }getLabels(e) { const t = e.querySelectorAll('.container .movie .info p > span.header, .container .movie .info p.header'); return Object.fromEntries(Array.from(t).map((n) => { let o; return [(o = n.textContent) == null ? undefined : o.replace(':', '').trim(), n] })) }parseAvNumber() { let e, t, n; return ((n = (t = (e = this.labels.識別碼) == null ? undefined : e.nextElementSibling) == null ? undefined : t.textContent) == null ? undefined : n.trim()) ?? '' }parseTitle(e) { let n, o; return (o = (n = e.querySelector('.container h3')) == null ? undefined : n.textContent) == null ? undefined : o.trim() }parseDate() { let t, n; const e = (n = (t = this.labels.發行日期) == null ? undefined : t.parentElement) == null ? undefined : n.textContent; return e ? Ke(e.trim().replace(/[^\d-]/g, '')).valueOf() : undefined }parseDuration() { let t, n; const e = (n = (t = this.labels.長度) == null ? undefined : t.parentElement) == null ? undefined : n.textContent; return e ? Number(e.trim().replace(/\D/g, '')) : undefined }parseDirector() { let t, n; const e = (n = (t = this.labels.導演) == null ? undefined : t.parentElement) == null ? undefined : n.querySelectorAll('a'); return e != null && e.length ? Array.from(e).map(o => ({ name: o.textContent, url: o.getAttribute('href') ?? undefined })) : undefined }parseActor() { let t, n, o; const e = (o = (n = (t = this.labels.演員) == null ? undefined : t.parentElement) == null ? undefined : n.nextElementSibling) == null ? undefined : o.querySelectorAll('li'); return e != null && e.length ? Array.from(e).map((a) => { const i = a.querySelector('a'); const s = a.querySelector('img'); return { name: (s == null ? undefined : s.getAttribute('title')) ?? '', url: (i == null ? undefined : i.getAttribute('href')) ?? undefined, sex: undefined, face: '' } }) : undefined }parseStudio() { let t, n; const e = (n = (t = this.labels.製作商) == null ? undefined : t.parentElement) == null ? undefined : n.querySelectorAll('a'); return e != null && e.length ? Array.from(e).map(o => ({ name: o.textContent, url: o.getAttribute('href') ?? undefined })) : undefined }parsePublisher() { let t, n; const e = (n = (t = this.labels.發行商) == null ? undefined : t.parentElement) == null ? undefined : n.querySelectorAll('a'); return e != null && e.length ? Array.from(e).map(o => ({ name: o.textContent, url: o.getAttribute('href') ?? undefined })) : undefined }parseCover(e) {
          let n; const t = (n = e.querySelector('.container .bigImage img')) == null ? undefined : n.getAttribute('src'); if (t)
            return t.includes('https://') ? { url: t } : { url: new URL(t, this.baseUrl).href, referer: this.detailUrl }
        }

        parseCoverSingle(e) { let n; const t = (n = e.querySelector('.container .bigImage img')) == null ? undefined : n.getAttribute('src'); return t ? { url: new URL(t.replace('_b', '').replace('cover', 'thumb'), this.baseUrl).href, referer: this.searchUrl } : undefined }parsePreview(e) { const t = e.querySelectorAll('#sample-waterfall a'); return t.length ? Array.from(t).map((n) => { let o; return { raw: n.getAttribute('href') ?? undefined, thumbnail: ((o = n.querySelector('img')) == null ? undefined : o.getAttribute('src')) ?? undefined } }).filter(n => !!n.raw || !!n.thumbnail).map(n => ({ raw: n.raw, thumbnail: n.thumbnail ? new URL(n.thumbnail, this.baseUrl).href : undefined })) : undefined }parseSeries() { let t, n; const e = (n = (t = this.labels.系列) == null ? undefined : t.parentElement) == null ? undefined : n.querySelectorAll('a'); return e != null && e.length ? Array.from(e).map(o => ({ name: o.textContent, url: o.getAttribute('href') ?? undefined })) : undefined }parseCategory() { let t, n; const e = (n = (t = this.labels.類別) == null ? undefined : t.nextElementSibling) == null ? undefined : n.querySelectorAll('a'); return e != null && e.length ? Array.from(e).map(o => ({ name: o.textContent, url: o.getAttribute('href') ?? undefined })) : undefined }parseComments() { return [] }
      } exports('s', sl); class ll extends W {
        constructor() { super(...arguments), Object.defineProperty(this, 'source', { enumerable: true, configurable: true, writable: true, value: Ge.JAVDB }), Object.defineProperty(this, 'baseUrl', { enumerable: true, configurable: true, writable: true, value: 'https://javdb.com' }), Object.defineProperty(this, 'detailUrl', { enumerable: true, configurable: true, writable: true, value: '' }), Object.defineProperty(this, 'searchUrl', { enumerable: true, configurable: true, writable: true, value: '' }), Object.defineProperty(this, 'labels', { enumerable: true, configurable: true, writable: true, value: {} }) } async getInfoByAvNumber(e) {
          const t = new URLSearchParams({ q: e }); const n = new URL(`/search?${t.toString()}`, this.baseUrl).href; this.searchUrl = n; const o = await this.request.get(n); if (o.status === 404)
            throw new W.NotFound(); if (o.status !== 200 && o.status !== 302)
            throw new W.PageError(); const a = this.getDetailUrl(await o.text()); if (!a)
            throw new W.PageError(); this.detailUrl = a; const i = await this.request.get(a); if (i.status === 404)
            throw new W.NotFound(); if (i.status !== 200 && i.status !== 302)
            throw new W.PageError(); return await this.parseInfo(await i.text())
        }

        getDetailUrl(e) { let o; const n = (o = new DOMParser().parseFromString(e, 'text/html').querySelector('.movie-list .item a')) == null ? undefined : o.getAttribute('href'); return n ? new URL(n, this.baseUrl).href : undefined } async parseInfoBefore(e) { const t = this.getLabels(e); return this.labels = t, e }getLabels(e) { const t = e.querySelectorAll('.container .panel-block strong'); return Object.fromEntries(Array.from(t).map((n) => { let o; return [(o = n.textContent) == null ? undefined : o.replace(':', '').trim(), n] })) }parseAvNumber() { let t, n, o, a; return ((a = (o = (n = (t = this.labels.番號) == null ? undefined : t.parentElement) == null ? undefined : n.querySelector('.value')) == null ? undefined : o.textContent) == null ? undefined : a.trim()) ?? undefined }parseTitle(e) { let n, o; return ((o = (n = e.querySelector('.current-title')) == null ? undefined : n.textContent) == null ? undefined : o.trim()) ?? undefined }parseDate() { let t, n, o, a; const e = (a = (o = (n = (t = this.labels.日期) == null ? undefined : t.parentElement) == null ? undefined : n.querySelector('.value')) == null ? undefined : o.textContent) == null ? undefined : a.trim(); return e ? Ke(e.replace(/[^\d-]/g, '')).valueOf() : 0 }parseDuration() { let t, n, o, a; const e = (a = (o = (n = (t = this.labels.時長) == null ? undefined : t.parentElement) == null ? undefined : n.querySelector('.value')) == null ? undefined : o.textContent) == null ? undefined : a.trim(); return e ? Number(e.replace(/\D/g, '')) : 0 }parseDirector() { let t, n; const e = (n = (t = this.labels.導演) == null ? undefined : t.parentElement) == null ? undefined : n.querySelectorAll('.value a'); return e != null && e.length ? Array.from(e).map(o => ({ name: o.textContent, url: o.getAttribute('href') ?? undefined })).map(o => ({ ...o, url: o.url ? new URL(o.url, this.baseUrl).href : undefined })) : undefined }parseActor() { let t, n; const e = (n = (t = this.labels.演員) == null ? undefined : t.parentElement) == null ? undefined : n.querySelectorAll('.value a'); return e != null && e.length ? Array.from(e).map((o) => { let u, d; const a = o.getAttribute('href') ?? undefined; const i = a ? new URL(a, this.baseUrl).href : undefined; const s = a == null ? undefined : a.split('/').pop(); const c = `https://c0.jdbstatic.com/avatars/${s == null ? undefined : s.slice(0, 2).toLowerCase()}/${s}.jpg`; return { name: o.textContent, url: i, face: c, sex: (u = o.nextElementSibling) != null && u.classList.contains('female') ? 1 : (d = o.nextElementSibling) != null && d.classList.contains('male') ? 0 : undefined } }) : undefined }parseStudio() { let t, n; const e = (n = (t = this.labels.片商) == null ? undefined : t.parentElement) == null ? undefined : n.querySelectorAll('.value a'); return e != null && e.length ? Array.from(e).map(o => ({ name: o.textContent, url: o.getAttribute('href') ?? undefined })).map(o => ({ ...o, url: o.url ? new URL(o.url, this.baseUrl).href : undefined })) : undefined }parsePublisher() {}parseCover(e) { let n; const t = (n = e.querySelector('img.video-cover')) == null ? undefined : n.getAttribute('src'); return t ? { url: new URL(t, this.baseUrl).href, referer: this.detailUrl } : undefined }parseCoverSingle() { return { url: '', referer: this.detailUrl } }parsePreview(e) { const t = e.querySelectorAll('.preview-images .tile-item'); return t.length ? Array.from(t).map((n) => { let o; return { raw: (n == null ? undefined : n.getAttribute('href')) ?? undefined, thumbnail: ((o = n.querySelector('img')) == null ? undefined : o.getAttribute('src')) ?? undefined } }).filter(n => !!n.raw || !!n.thumbnail) : undefined }parseSeries() { let t, n; const e = (n = (t = this.labels.系列) == null ? undefined : t.parentElement) == null ? undefined : n.querySelectorAll('.value a'); return e != null && e.length ? Array.from(e).map(o => ({ name: o.textContent, url: o.getAttribute('href') ?? undefined })).map(o => ({ ...o, url: o.url ? new URL(o.url, this.baseUrl).href : undefined })) : undefined }parseCategory() { let t, n; const e = (n = (t = this.labels.類別) == null ? undefined : t.parentElement) == null ? undefined : n.querySelectorAll('.value a'); return e != null && e.length ? Array.from(e).map(o => ({ name: o.textContent, url: o.getAttribute('href') ?? undefined })).map(o => ({ ...o, url: o.url ? new URL(o.url, this.baseUrl).href : undefined })) : undefined }parseComments() { return [] }
      } exports('l', ll); class cl extends W {
        constructor() { super(...arguments), Object.defineProperty(this, 'source', { enumerable: true, configurable: true, writable: true, value: Ge.MISSAV }), Object.defineProperty(this, 'baseUrl', { enumerable: true, configurable: true, writable: true, value: 'https://missav.ws/cn/' }), Object.defineProperty(this, 'detailUrl', { enumerable: true, configurable: true, writable: true, value: '' }), Object.defineProperty(this, 'searchUrl', { enumerable: true, configurable: true, writable: true, value: '' }), Object.defineProperty(this, 'labels', { enumerable: true, configurable: true, writable: true, value: {} }) } async getInfoByAvNumber(e) {
          const t = new URL(e, this.baseUrl).href; if (!t)
            throw new W.NotFound(); this.detailUrl = t; let n = await this.request.get(t); if (n.status === 301) {
            const o = n.headers.get('location'); if (!o)
              throw new W.PageError(); this.detailUrl = o, n = await this.request.get(o)
          } if (n.status === 404)
            throw new W.NotFound(); if (n.status !== 200 && n.status !== 302)
            throw new W.PageError(); return await this.parseInfo(await n.text())
        }

        async parseInfoBefore(e) { const t = this.getLabels(e); return this.labels = t, e }getLabels(e) { const t = e.querySelectorAll('.space-y-2 > div > span:first-of-type'); return Object.fromEntries(Array.from(t).map((n) => { let o; return [(o = n.textContent) == null ? undefined : o.replace(':', '').trim(), n] })) }parseAvNumber() { let t, n, o; return ((o = (n = (t = this.labels.番号) == null ? undefined : t.nextElementSibling) == null ? undefined : n.textContent) == null ? undefined : o.trim()) ?? undefined }parseTitle() { let t, n, o; return ((o = (n = (t = this.labels.标题) == null ? undefined : t.nextElementSibling) == null ? undefined : n.textContent) == null ? undefined : o.trim()) ?? undefined }parseDate() { let t, n, o; const e = (o = (n = (t = this.labels.日期) == null ? undefined : t.nextElementSibling) == null ? undefined : n.textContent) == null ? undefined : o.trim(); return e ? Ke(e.replace(/[^\d-]/g, '')).valueOf() : 0 }parseDuration() {}parseDirector() { let t, n; const e = (n = (t = this.labels.导演) == null ? undefined : t.parentElement) == null ? undefined : n.querySelectorAll('a'); return e != null && e.length ? Array.from(e).map(o => ({ name: o.textContent, url: o.getAttribute('href') ?? undefined })) : undefined }parseActor() { let n, o, a, i; const e = (o = (n = this.labels.女优) == null ? undefined : n.parentElement) == null ? undefined : o.querySelectorAll('a'); const t = (i = (a = this.labels.男优) == null ? undefined : a.parentElement) == null ? undefined : i.querySelectorAll('a'); return [...e != null && e.length ? Array.from(e).map(s => ({ name: s.textContent, url: s.getAttribute('href') ?? undefined, sex: 0 })) : [], ...t != null && t.length ? Array.from(t).map(s => ({ name: s.textContent, url: s.getAttribute('href') ?? undefined, sex: 1 })) : []] }parseStudio() {}parsePublisher() { let t, n; const e = (n = (t = this.labels.发行商) == null ? undefined : t.parentElement) == null ? undefined : n.querySelectorAll('a'); return e != null && e.length ? Array.from(e).map(o => ({ name: o.textContent, url: o.getAttribute('href') ?? undefined })) : undefined }parseCover(e) { let n; const t = (n = e.querySelector('meta[property=\'og:image\']')) == null ? undefined : n.getAttribute('content'); return t ? { url: t } : undefined }parseCoverSingle() {}parsePreview() {}parseSeries() { let t, n; const e = (n = (t = this.labels.标籤) == null ? undefined : t.parentElement) == null ? undefined : n.querySelectorAll('a'); return e != null && e.length ? Array.from(e).map(o => ({ name: o.textContent, url: o.getAttribute('href') ?? undefined })).map(o => ({ ...o, url: o.url ? new URL(o.url, this.baseUrl).href : undefined })) : undefined }parseCategory() { let t, n; const e = (n = (t = this.labels.类型) == null ? undefined : t.parentElement) == null ? undefined : n.querySelectorAll('a'); return e != null && e.length ? Array.from(e).map(o => ({ name: o.textContent, url: o.getAttribute('href') ?? undefined })) : undefined }parseComments() {}
      } const ul = { key: 1, class: 'skeleton w-full h-full' }; const dl = ['alt']; const pl = ['href', 'title', 'alt']; const hl = ['href', 'alt']; const fl = ['href', 'alt']; const ml = ['href', 'alt']; const bl = ['href', 'alt']; const gl = defineComponent({ __name: 'index', props: { avNumber: {} }, setup(r) {
        const e = r; const t = new sl(); const n = new ll(); const o = new cl(); const a = { container: { main: 'w-full px-20 h-24', content: 'relative flex items-center gap-1 group h-full' }, states: { error: 'flex items-center justify-center flex-1', empty: 'flex items-center justify-center flex-1' }, cover: { container: 'flex items-center justify-center w-36 h-24', link: 'block w-full h-full' }, main: { container: 'flex-1 flex flex-col gap-2' }, title: { container: 'text-md text-neutral-500 ml-2', link: 'hover:underline line-clamp-1 hover:text-primary transition-colors' }, content: { container: 'flex flex-1 items-start gap-5 ml-2', group: 'flex flex-col gap-0.5 min-w-32' }, item: { container: 'flex items-start gap-2 text-xs', label: 'w-8 h-5 text-neutral-500 shrink-0', value: 'flex flex-1 gap-2 flex-wrap text-neutral-500 line-clamp-1', link: 'hover:text-primary transition-colors hover:underline', badge: 'bg-neutral-100 hover:bg-neutral-100 rounded px-1 py-[1px] text-xs' }, secondary: 'opacity-40', meta: { avNumber: 'absolute right-4 bottom-2 text-xs text-neutral-300' } }; const i = ref(); const s = eo(i, { once: true }); const l = Li(async () => {
          const c = [t, n, o]; for (const u of c) {
            const d = await u.getInfoByCache(e.avNumber); if (d)
              return d
          } for (const [u, d] of Object.entries(c)) {
            try { return await d.getInfo(e.avNumber) }
            catch (p) {
              if (Number(u) === c.length - 1) {
                if (p instanceof W.NotFound)
                  return null; throw p
              }
            }
          }
        }, null, { immediate: false }); return watch(s, (c) => { c && l.execute(0) }), onMounted(async () => {}), (c, u) => { let d, p, h, b, w, f, g, v, _, E, U, y, m, x, I, T, S, M, L, $, q, ee, G, Q, ue, de; return openBlock(), createElementBlock('div', { ref_key: 'extInfoRef', ref: i, class: normalizeClass(a.container.main) }, [createElementVNode('div', { class: normalizeClass(a.container.content) }, [unref(l).error.value ? (openBlock(), createElementBlock('div', { key: 0, class: normalizeClass(a.states.error) }, [createVNode(_r, { message: unref(l).error.value, size: 'mini' }, null, 8, ['message'])], 2)) : unref(l).isLoading.value || !unref(l).isLoading.value && !unref(l).isReady.value ? (openBlock(), createElementBlock('div', ul)) : unref(l).state.value ? unref(l).state.value ? (openBlock(), createElementBlock(Fragment, { key: 3 }, [createElementVNode('div', { class: normalizeClass(a.cover.container) }, [createElementVNode('a', { href: 'javascript:void(0)', alt: (d = unref(l).state.value) == null ? undefined : d.title, class: normalizeClass(a.cover.link) }, [createVNode(Ks, { 'skeleton-mode': 'light', 'src': ((h = (p = unref(l).state.value) == null ? undefined : p.cover) == null ? undefined : h.url) ?? '', 'alt': ((b = unref(l).state.value) == null ? undefined : b.title) ?? '', 'referer': (f = (w = unref(l).state.value) == null ? undefined : w.cover) == null ? undefined : f.referer, 'cache': '' }, null, 8, ['src', 'alt', 'referer'])], 10, dl)], 2), createElementVNode('div', { class: normalizeClass(a.main.container) }, [createElementVNode('div', { class: normalizeClass(a.title.container) }, [createElementVNode('a', { href: (g = unref(l).state.value) == null ? undefined : g.detailUrl, target: '_blank', title: (v = unref(l).state.value) == null ? undefined : v.title, alt: (_ = unref(l).state.value) == null ? undefined : _.title, class: normalizeClass(a.title.link) }, `${toDisplayString((E = unref(l).state.value) == null ? undefined : E.source)} ${toDisplayString((U = unref(l).state.value) == null ? undefined : U.title)}`, 11, pl)], 2), createElementVNode('div', { class: normalizeClass(a.content.container) }, [createElementVNode('div', { class: normalizeClass(a.content.group) }, [createElementVNode('div', { class: normalizeClass(a.item.container) }, [createElementVNode('span', { class: normalizeClass(a.item.label) }, '番号', 2), (y = unref(l).state.value) != null && y.avNumber ? (openBlock(), createElementBlock('span', { key: 0, class: normalizeClass(a.item.value) }, [createElementVNode('a', { href: (m = unref(l).state.value) == null ? undefined : m.detailUrl, target: '_blank', alt: (x = unref(l).state.value) == null ? undefined : x.title, class: normalizeClass(a.item.link) }, toDisplayString((I = unref(l).state.value) == null ? undefined : I.avNumber), 11, hl)], 2)) : (openBlock(), createElementBlock('span', { key: 1, class: normalizeClass(a.item.value) }, '-', 2))], 2), createElementVNode('div', { class: normalizeClass([a.item.container, a.secondary]) }, [createElementVNode('span', { class: normalizeClass(a.item.label) }, '日期', 2), (T = unref(l).state.value) != null && T.date ? (openBlock(), createElementBlock('span', { key: 0, class: normalizeClass(a.item.value) }, toDisplayString(unref(el)((S = unref(l).state.value) == null ? undefined : S.date)), 3)) : (openBlock(), createElementBlock('span', { key: 1, class: normalizeClass(a.item.value) }, '-', 2))], 2), createElementVNode('div', { class: normalizeClass([a.item.container, a.secondary]) }, [createElementVNode('span', { class: normalizeClass(a.item.label) }, '时长', 2), (M = unref(l).state.value) != null && M.duration ? (openBlock(), createElementBlock('span', { key: 0, class: normalizeClass(a.item.value) }, toDisplayString(unref(tl)((L = unref(l).state.value) == null ? undefined : L.duration)), 3)) : (openBlock(), createElementBlock('span', { key: 1, class: normalizeClass(a.item.value) }, '-', 2))], 2)], 2), createElementVNode('div', { class: normalizeClass(a.content.group) }, [createElementVNode('div', { class: normalizeClass(a.item.container) }, [createElementVNode('span', { class: normalizeClass(a.item.label) }, '演员', 2), ($ = unref(l).state.value) != null && $.actors ? (openBlock(), createElementBlock('span', { key: 0, class: normalizeClass(a.item.value) }, [(openBlock(true), createElementBlock(Fragment, null, renderList((q = unref(l).state.value) == null ? undefined : q.actors, Y => (openBlock(), createElementBlock('a', { key: Y.url, href: Y.url, target: '_blank', alt: Y.name, class: normalizeClass(a.item.link) }, toDisplayString(Y.name), 11, fl))), 128))], 2)) : (openBlock(), createElementBlock('span', { key: 1, class: normalizeClass(a.item.value) }, '-', 2))], 2), createElementVNode('div', { class: normalizeClass([a.item.container, a.secondary]) }, [createElementVNode('span', { class: normalizeClass(a.item.label) }, '导演', 2), (ee = unref(l).state.value) != null && ee.director ? (openBlock(), createElementBlock('span', { key: 0, class: normalizeClass(a.item.value) }, [(openBlock(true), createElementBlock(Fragment, null, renderList((G = unref(l).state.value) == null ? undefined : G.director, Y => (openBlock(), createElementBlock('a', { key: Y.url, href: Y.url, target: '_blank', alt: Y.name, class: normalizeClass(a.item.link) }, toDisplayString(Y.name), 11, ml))), 128))], 2)) : (openBlock(), createElementBlock('span', { key: 1, class: normalizeClass(a.item.value) }, '-', 2))], 2), (Q = unref(l).state.value) != null && Q.category ? (openBlock(), createElementBlock('div', { key: 0, class: normalizeClass([a.item.container, a.secondary]) }, [createElementVNode('span', { class: normalizeClass(a.item.label) }, '分类', 2), (ue = unref(l).state.value) != null && ue.category ? (openBlock(), createElementBlock('span', { key: 0, class: normalizeClass(a.item.value) }, [(openBlock(true), createElementBlock(Fragment, null, renderList((de = unref(l).state.value) == null ? undefined : de.category, Y => (openBlock(), createElementBlock('a', { key: Y.url, href: Y.url, target: '_blank', alt: Y.name, class: normalizeClass(a.item.badge) }, toDisplayString(Y.name), 11, bl))), 128))], 2)) : (openBlock(), createElementBlock('span', { key: 1, class: normalizeClass(a.item.value) }, '-', 2))], 2)) : createCommentVNode('', true)], 2)], 2)], 2), createElementVNode('div', { class: normalizeClass(a.meta.avNumber) }, toDisplayString(e.avNumber), 3)], 64)) : createCommentVNode('', true) : (openBlock(), createElementBlock('div', { key: 2, class: normalizeClass(a.states.empty) }, [createVNode(Qs, { description: `未找到番号 [${e.avNumber}] 信息`, size: 'sm' }, null, 8, ['description'])], 2))], 2)], 2) }
      } }); class wl extends Te {
        constructor() { super(...arguments), Object.defineProperty(this, 'IS_PLUS', { enumerable: true, configurable: true, writable: true, value: true }), Object.defineProperty(this, 'ENABLE_KEY_IN_USER_SETTING', { enumerable: true, configurable: true, writable: true, value: 'enableFilelistPreview' }), Object.defineProperty(this, 'vueApp', { enumerable: true, configurable: true, writable: true, value: null }) }onLoad() {
          if (this.itemInfo.fileListType === ge.grid || this.itemInfo.attributes.iv !== fe.Yes && this.itemInfo.attributes.file_type !== Ht.folder || !this.itemInfo.avNumber)
            return; this.itemNode.classList.add('with-ext-info'); const e = document.createElement('div'); e.style.width = '100%', this.itemNode.append(e); const t = e.attachShadow({ mode: 'open' }); const n = document.createElement('style'); n.textContent = gr, t.appendChild(n); const o = document.createElement('div'); o.className = 'ext-info-root', o.setAttribute('data-theme', 'light'), t.appendChild(o); const a = createApp(gl, { avNumber: this.itemInfo.avNumber }); a.mount(o), this.vueApp = a
        }

        onDestroy() { defer(() => { let e; (e = this.vueApp) == null || e.unmount() }) }
      } const vl = exports('v', 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAC+lBMVEUAAAAhISIeHh4tLS4iIiMeHh8tLS5VVlckJSUrLCxXV1goKCpERUYxMjIjIyNKS0tOT08DAwMhISJCQkM2Njc+P0ASEhI2NjdBQUErLCweHx8ICQkAAABPT1A5OTolJSZHSEgcHB1KSkogICA7OzseHh87OzweHx8dHh8fICAhISEjIyMhIiIkJCVHR0hJSUpCQ0RERUY8PD06Ojs4ODk/QEE2Njc+Pj8jJCcmJycfHyA0NTVBQUIdHR4yMzMkJSowMDElJy4pKSoApP4/QUgbGxsAlf0tLi8Aq/4Akf1CREgrKywAnP4Amf0Asv4nKjwkJzInLEEAtv4AqP4Auv48QEwlKTcAxP40NjwAr/45PlY3Oj8An/4wMjkAyf4nLUYpL0woKTQAv/46P1A6PEIA0v4Ajfw7PkYtLDdIUP8tLUAoKS8Azf4tLEcAifkAhfQwL1Y1OFEAfOUAcdpZWls4P1s3O0siJSx2Ov02OEZLSP8fIiYAof4AkvhEWP8A2/4zMV4pMFMyM0MaHSMAf+4A1v4A4PwAhu0qMlguLVAAjPM4OYM3NWc3PWQBeNo4OnwAXbQBcNA4OV8uN1IdAwBLQP9FOOMAV6w5PG8aEQRbNOEAlLIDZrJENaExQpwzNHAzM01tOvkFnrkAiLIsM10zOFsDts0Ccr8AY74AfLUAZ8cAcrIyMWgvMWIA5P1mOPEA1O4Af+kAduQFwdgfPW5SU1RBVPg+W/cA2vUAv/AAfcsAp8A7M3IlQW4AsfQBuOYAi99sNNwAhcEApPMAmeoFmt5BMwo0BAAqAgABquk4VecAyuIAk9AIk8EzOHsAyfQAjOoEiNIAnMsAm/QByuo6T+YAs9sAqMouaZkOQ3YjV2IbJDJCRPM2WOYApt8JqNUhj6c/NJIZdYgcOWYXMFE7Niw5HgEeGAFXMMEJhpoFW5cISI8gXXw8MhsvHRY8PsUler0Bd6MzPpYTQmE3TF0gRUw9P9wCZ6ALToUZOEMzUtpnM9MwSLU1LinSLbX4AAAAK3RSTlMA/ggG+5D7jPuP/vv7+4CA/RyM+5D8NPuNTj8qDtz7cGpcrennxr24ouXd8KKL5wAADXtJREFUeNrslEuOozAURS1brZasSgOqaggh0AhFDPkYjAdhBb0etpb91XMl6IniY6cy5SCG+B7d9zDZ2dnZ2THBplAjbMpr4fq4F/210o8/JYR60SlM09TR/LbBQdI0PEUenPITBwbfeKGTxQPnAzwPhhX4yO2Be6d04/wYeoQ9qwDO/jHm3C16JdTfkfcHb6u8j9w/kLIqyjL+OLGnFBglUcZ5IZJEKCn7vgJqTfGgXKC4U2sqTd9LqZRKRFUWmU/sDSilDucyaIRSkH83MCkUi/lfBkIkong7nim1zfeyoYZ4MRWopwJGAxQAElXkEaNW+SyKeRIIYN4A5j8pIJqkvvg2BpRG8e3QAMsC5h3AEfQoAOcllY0Box7mL4zAegmnAo0m6C8RZcYCMg75LzUALDXQtkGVnw0GlPwbgrZtbQXczRHISQOtNvjD6PYAIl5dUUBsC7hfr2sQECjQNspnbPMPyG6HFpguAZRpaMBWIJD51m3AmH9ruk0BNEAH0wqgANCcNiqg5AgFdChgWAIcwKKAnAt0gfq1sQXUi/tr960CiRXYXsXVTGDMh8Mv3qoAI6EL+U/NwLX7CVEgaELCVifguActoJkJLBnYF4AC4oPQ9UuoBgGsAAWwABAYWc7HAoBZPjSQn9cEmBeLKwos3ET/x3yUgAepDQUA1+7isZV89slonbU2EUUBHAeFgIgLIir6oH4B12iRkRDawamN9sEaOk06FezUaI1LlAYr1orYuiUGG5RQ3DH1SatENIILIibRoigohKKYCAkVbC1SfXABz7l3JjeTOJM5oIhC/z/PPSldMBP+HYe9gCIggDoYFNRpCDp9HQAI5s6ZrCeYv9TGcf8FwFfkIW8soC9k3Oc4zgpXqPch0ABQIMtyFXuCAgHeQjskbvQADLDaulgXsGjpNBBCnwGqAIACnucBUD7L6WmyfMUFzLUuNAFAgdtNVwBfilem0F1WtyqBswL+SIfk9fsMMA0Ak3QBFgZwI0CG8azyeIoAmOT5xER6fHw8PZFILKuDIHZZnvXLFoCA6bqAGUsIgArcMDIBwPAlk0u/2dBcU9Pw7G06l+B5eCMYktftmwfgCkQA4GC/AHDWKXnn6HhXV9fG5kM1DbW1z9OJUX4VvRSaJ32dB+Bs06yz9QHLLZwNAaJVVPoM4HTCL6WfPnWqa+MGANQ0NDQ1Pf+az/H4eWXD/v8wmr5t2uop+oBlFhsCQCCK6gJQ4FQHBR6PfOa4AsAV1NbXv5rIr/DQ7xqkXt7Hwb4xYJ4KEBkA85rxOHNf7xAAuYKG2qam+k2PM9a8LGOziuXL+sYA/HFkLQWIKqCzE/p+qLbiOFsJoHX0wnEArCusoKm+ftPmF+n8qGfFSlrW7ZsDSCjAPIwfBvN0EOD3527cKQNs2rz109dkzkOitE77mgcwBbBJkoij9knZ1eqCgT9Av7PzrApoLgJsbtz6aiK5UrbSMsuzA6QAzgCwCjcgcaV9F44i8PvdYRWAK6BHgICtjS0PMn/zsptmoc76DGCvCJDIBo7Svs/vo+kOV0cHCgAgBs8wgLoCBIDA++RzckzGn2tZXts3BlQxAO37SFydEsDGMkBjo9f7aTj5171aMxzrmwQcPQoAyPuK8sEgEmAl0qMz+xBQegQIaGlpafNe8ydFN8exPs2rAJsBYIXFTjeAANLvIxOEOtwh/AZ/yQClR4AAr7et510mn3SLXNGo+QqA2QCwAwD7V674fNEojWM/8v3SaReuIKwA1pe8AQO09XTH4BTcmFXzDGAxAYAXIP0+tR/p+P7z/ftff4KuqBGACtpQ0D0wnLSLJMvylQErGYD0A4EImWD257179+5//OOLhsPtKgDfQHMEDNDT3Ru/JiVFyc7yJgHbQYALgP1Dv6+PAr592HH48OH7v16DgAH0jgAB3b23bmdSSdFeMkJFwHZlAdgPZLOhSAgEPw8SwMfvGoD+ESCg99at2HDKZhM0fcFiNwBYEUAWsDd6JBB4ONLfP5KNhEKh8wrgUgGwmwHK34ACgBDPpMYkQWB5U4B2BBw5EoiODA4O9o+EKGAHAVxRAHt2r2dHwN6g6AqxDxP7kZIcAhtTG9hF+oHA76tXrw72Z4sB4esA2L/vGAGwI6j93xEgIN4b+zEmOMwCVlsEsgEKePiUAC6GTp8uApzYxQDlH8QSQG/89u0BaY3gKBAcFvusCoD2drqByw+fHjigBbxEgLKBbQqg2egIADA0lEkBAAbzDmMAN7UACGgB5w4ywF0K0D8CEAAACHFYwFBsYHjMUe1QxyJUAIBg10m2AQbYoQC2aAAGH8RupT/wOSVUV5sHtBPATTMAo+/GPZh/NxQDwJfUzmqYyoB/lNlNSJNxAMdxegNDCOpWHaLzeu7bYNkGo0OHucs67unYG0kdFq2gscBlURutZKmM0mo5d+iFoBcqKqEoX9JKplJkwlIDsQiTLv1+//+z/X3Sx2f7KTKC+H72/z/ZYet31u/ebQBO91gBggoAwbIPAQXIy/7jxwC4KKgGcFBcgQIcXwx48B/A4rcxBYcGBj58eIvzR//xxGuviwISfPUrA/bsk4CmMuDa1Y5+ATghAHpXTAEs72AAQ/+e6F+/Pvrahfnk6vesANhVf1ACzgLQsywgYQVQd7B3YODhw4fPnn26eXME+etTaadDg6A6wMF9AIinsALI9l8UgP1mAB+CJf8lQ4C4yH9Cnv22hZIZsM4WYNzB+SWAjwQEFMD0EFAAAuvMfxnh229ra/uddq5yaBTUAuAdNH0XD+G5bH9/BRAWgLsKoO6AgqeYOT/1Ox1176gJYNxBU6HryV/+K+zJZgG4bABiesgCAAHyb968+fz5y8jQEPLYRJR9AcBsAbslICAFpxPnOzrOFbIYAScA+BmsAChQv415CZX80NBQXx/zU6Npf9RjADgCfDYACASAgkIsVujBbswagH6cQOO3JYCTELzEmO+V+c7Ots4fHrx9j9u9Qz4DcjYAX+UIdCEQ60l8HecdjM/qMT1MwJ0j6g6E4CX3qre39927d319ndzEQtoT9aCPA6gaUOfziiOQAhCaurjCpY4r4+PjswVdD4e9BFQeAghAGB4efvUKfeZfvGB+7lc6gzz76gBsAXvqXF5eQigQDB7GNYCQEOvSs3gcdD0WDocjZUBFsCj/wsiPZnj67PMCqgVsAKB8BIKg4xRiWAJfBwJBnH84GHR+S/EhMACnMOafP3/+/j3yt7G5H2M8ffaNC6gB0NCgBGEQuJhAJGK4gGAFAAGGfMvg4KDIP0Kem15I+1Ve9hWgzgbgavAKQQgCEDi9PB5AIOCc7D52l78LuZaWlnL+kczPi8u36BPgsgNQsI8CDAQgOOZFPwRASjwFXHMz+6g/unXrdj6fnytm0vG4n3n2xf3XBNAEwNvIMwiFSOCkAS/QD0XCudQxCs40NzffuXP0wgWRv5XH/oyl/chjzJf7CoBXKwJ8dZqzAQISGoVAGYJGvzEyluym4Chnyk9PMr+kz6HNepUAKQCBxxDgZD0AEv7Y39rdnQLhApdKpZhvz+fnf2UycQ/y6vjZV6sOoDmdvAUxIeBoMPpYaSaXA0GuG/l2bL7ox+Wrt6/6tQOMQ+DYo0GOfdxA6X4ySQKXy+XaOV4+87Z9e4AGgCLAwOEk6GA/EomOtSZJ4GQel59B3uLt1w5gn4soAhH84UU/UiomSTDWPi0u36pfO4ACSTCfA/PoO6PRaGkm2SoGR2vRn8HlY8zb9QnYtDJAnYFURCJlgxd9CfD4/xiA6aK8fPPbl/3aAdsUwHQKEYlgv8EJgDvuyUwWZ2ZmipP+DPI19Amw/sxom2utZsxMiNCAH3gpAO54vJThTHm7vj1gOwCyruFLCdScWHTVDrfbE5fzm98++2YAXzvEC37hu07bZv3RrUtzcIibtjjPEyAAQ1nmzX3OiC+3tdp2K8CaLeW/omn/CfhtzMETEAJTXvVtpjk2WwK21muLCAphmmMVABTI1d5fa/nx/eqN/9o3oxUHYSCKbjRCnwR9ELYVioioncwH7P//2M7dqWSLmybawr54DGmZktzxmkoeJrcH25bV+DsVJiSADFbycX2ddK7yYAnH+GX/GuJBftAHXj1dH0tgaLNgEUstCUTA/WsGHqf6iQkUIhQs42GmGEblduqTJf0TBBcBJVkAvLrqp2XAfZU9KeUqUp6BcSsS1fEEpjx7VsyWoC9trU9pDhhyKGYLkuWTWHCfygCVRMNoFVp5cJfXRstXH7nHBMsjyvmeWXBS5TDIZcnBuIdgbCSy8waE9gR80vmC1yIHHoLSIteJ61hdbdaObKMOeOlNDvy8hPJoWe+NbcwB59YOuKgDlvpLTB/rsOnZOsFIM+jR9ANR7RYx/XUJ6QhE/ABdKNJbOp3xABIygAduH2QCQbLcJ+kjg2pk8cu9E2t4uOTJ5fVtadnAhfcgd8OmRnl/IpJpMzkmY60xL2rLHCLvxvPGIxayP5tmw0SS/gvg3cOmn84Z9DcfcumKYbaOFpjRgO89uullBNEpzs5D0VW5yu845tNWzWd3Lcu6LjZS12V57T6bqtW7+beDTpjj5aNe2U4w9uPg4ODgIMI32++Q0g6QJOYAAAAASUVORK5CYII='); function Jd(r) { const e = { bin: '/opt/homebrew/bin/mpv', url: r.url.url, userAgent: navigator.userAgent }; return `shortcuts://run-shortcut?name=115MasterWebLink&input=text&text=${encodeURIComponent(JSON.stringify(e))}` } function yl(r) { let e, t; return `iina://weblink?url=${encodeURIComponent(r.url.url)}&mpv_http-header-fields=${encodeURIComponent(`User-Agent: ${navigator.userAgent.replace(',', '\\,')},Cookie: ${(e = r.url.auth_cookie) == null ? undefined : e.name}=${(t = r.url.auth_cookie) == null ? undefined : t.value}`)}` } class xl extends Te {
        get buttonConfig() {
          return [{ class: '115-player', title: '使用【115官方播放器】', text: '5️⃣ 官方播放', visible: this.itemInfo.attributes.iv === fe.Yes, click: () => { At(new URL(`/?pickcode=${this.itemInfo.attributes.pick_code}&share_id=0`, dr).href, { active: true }) } }, ...ri
            ? [{ class: 'iina-player', title: '使用【iina】', text: 'IINA', icon: vl, visible: this.itemInfo.attributes.iv === fe.Yes, click: async () => {
                try { const e = await br.getFileDownloadUrl(this.itemInfo.attributes.pick_code); open(yl(e)) }
                catch { alert('打开iina失败') }
              } }]
            : [], { class: 'master-player', title: '使用【Master播放器】', text: '▶️ Master 播放', visible: this.itemInfo.attributes.iv === fe.Yes, click: () => { jn({ pickCode: this.itemInfo.attributes.pick_code, cid: this.itemInfo.attributes.cid }, true) } }]
        }

        get fileOprNode() { return this.itemNode.querySelector('.file-opr') ?? this.itemNode.querySelector('.file-opt') }onLoad() { this.itemInfo.fileListType !== ge.grid && this.createButtons() }onDestroy() {}createButtons() {
          this.buttonConfig.forEach((e) => {
            let n; if (!e.visible)
              return; const t = this.createNormalItemButtonElement(e); (n = this.fileOprNode) == null || n.prepend(t), t.addEventListener('mousedown', async (o) => { o.preventDefault(), o.stopPropagation(), o.stopImmediatePropagation(), e.click() })
          })
        }

        createNormalItemButtonElement(e) {
          const t = document.createElement('a'); if (t.href = 'javascript:void(0)', t.className = e.class, t.title = e.title, t.style.cssText = `
      pointer-events: all;
      position: relative;
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 4px;
    `, e.icon) { const o = document.createElement('img'); o.src = e.icon, o.style.cssText = 'width: 16px; height: 16px;', t.prepend(o) } const n = document.createElement('span'); return n.textContent = e.text, n.style.pointerEvents = 'none', t.appendChild(n), t
        }
      } const kl = (function () { const e = typeof document < 'u' && document.createElement('link').relList; return e && e.supports && e.supports('modulepreload') ? 'modulepreload' : 'preload' }()); const _l = function (r) { return `/${r}` }; const Kr = {}; const fo = exports('f', (e, t, n) => {
        let o = Promise.resolve(); if (t && t.length > 0) {
          document.getElementsByTagName('link'); const i = document.querySelector('meta[property=csp-nonce]'); const s = (i == null ? undefined : i.nonce) || (i == null ? undefined : i.getAttribute('nonce')); o = Promise.allSettled(t.map((l) => {
            if (l = _l(l), l in Kr)
              return; Kr[l] = true; const c = l.endsWith('.css'); const u = c ? '[rel="stylesheet"]' : ''; if (document.querySelector(`link[href="${l}"]${u}`))
              return; const d = document.createElement('link'); if (d.rel = c ? 'stylesheet' : kl, c || (d.as = 'script'), d.crossOrigin = '', d.href = l, s && d.setAttribute('nonce', s), document.head.appendChild(d), c)
              return new Promise((p, h) => { d.addEventListener('load', p), d.addEventListener('error', () => h(new Error(`Unable to preload CSS for ${l}`))) })
          }))
        } function a(i) {
          const s = new Event('vite:preloadError', { cancelable: true }); if (s.payload = i, window.dispatchEvent(s), !s.defaultPrevented)
            throw i
        } return o.then((i) => { for (const s of i || [])s.status === 'rejected' && a(s.reason); return e().catch(a) })
      }); function Wr(r) { return new Promise(e => setTimeout(e, r)) } let Ie; (function (r) { r.ERROR = 'ERROR', r.INFO = 'INFO', r.DATA = 'DATA', r.DEMUX_DATA = 'DEMUX_DATA', r.DONE = 'DONE' })(Ie || (Ie = {})); const Ee = Object.create || Bl; const Al = Object.keys || zl; const El = Function.prototype.bind || $l; let Ut = 10; const xt = class xt {
        constructor() { A(this, '_maxListeners'); A(this, '_eventsCount'); A(this, '_events'); (!this._events || !Object.prototype.hasOwnProperty.call(this, '_events')) && (this._events = Ee(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || undefined } static listenerCount(e, t) { return typeof e.listenerCount == 'function' ? e.listenerCount(t) : Rl.call(e, t) }emit(e, ...t) {
          let n; let o; let a; let i; let s; let l; let c = e === 'error'; if (l = this._events, l)
            c = c && l.error == null; else if (!c)
            return false; if (c) {
            if (arguments.length > 1 && (n = arguments[1]), n instanceof Error)
              throw n; const u = new Error(`Unhandled "error" event. (${n})`); throw u.context = n, u
          } if (o = l[e], !o)
            return false; const d = typeof o == 'function'; switch (a = arguments.length, a) { case 1:Sl(o, d, this); break; case 2:Il(o, d, this, arguments[1]); break; case 3:Pl(o, d, this, arguments[1], arguments[2]); break; case 4:Tl(o, d, this, arguments[1], arguments[2], arguments[3]); break; default:for (i = Array.from({ length: a - 1 }), s = 1; s < a; s++)i[s - 1] = arguments[s]; Ol(o, d, this, i) } return true
        }

        on(e, t) { return Ll(this, e, t) }once(e, t) {
          if (typeof t != 'function')
            throw new TypeError('"listener" argument must be a function'); return this.on(e, Dl(this, e, t)), this
        }

        off(e, t) { return Nl.call(this, e, t) }removeAllListeners(e) {
          let t, n, o; if (n = this._events, !n)
            return this; if (!n.off)
            return arguments.length === 0 ? (this._events = Ee(null), this._eventsCount = 0) : n[e] && (--this._eventsCount === 0 ? this._events = Ee(null) : delete n[e]), this; if (arguments.length === 0) { const a = Al(n); let i; for (o = 0; o < a.length; ++o)i = a[o], i !== 'off' && this.removeAllListeners(i); return this.removeAllListeners('off'), this._events = Ee(null), this._eventsCount = 0, this } if (t = n[e], typeof t == 'function') {
            this.off(e, t)
          }
          else if (t) {
            for (o = t.length - 1; o >= 0; o--) this.off(e, t[o])
          } return this
        }

        listeners(e) { return Xr(this, e, true) }rawListeners(e) { return Xr(this, e, false) }listenerCount() { return xt.listenerCount.apply(this, arguments) }
      }; A(xt, 'defaultMaxListeners'); const ce = xt; let Jt; try { const Jr = {}; Object.defineProperty && Object.defineProperty(Jr, 'x', { value: 0 }), Jt = Jr.x === 0 }
      catch { Jt = false }Jt
        ? Object.defineProperty(ce, 'defaultMaxListeners', { enumerable: true, get() { return Ut }, set(r) {
            if (typeof r != 'number' || r < 0 || r !== r)
              throw new TypeError('"defaultMaxListeners" must be a positive number'); Ut = r
          } })
        : ce.defaultMaxListeners = Ut; function Cl(r) { return r._maxListeners === undefined ? ce.defaultMaxListeners : r._maxListeners } function Sl(r, e, t) {
        if (e) {
          r.call(t)
        }
        else {
          for (let n = r.length, o = Oe(r, n), a = 0; a < n; ++a) {
            try { o[a].call(t) }
            catch (i) { console.error(i) }
          }
        }
      } function Il(r, e, t, n) {
        if (e) {
          r.call(t, n)
        }
        else {
          for (let o = r.length, a = Oe(r, o), i = 0; i < o; ++i) {
            try { a[i].call(t, n) }
            catch (s) { console.error(s) }
          }
        }
      } function Pl(r, e, t, n, o) {
        if (e) {
          r.call(t, n, o)
        }
        else {
          for (let a = r.length, i = Oe(r, a), s = 0; s < a; ++s) {
            try { i[s].call(t, n, o) }
            catch (l) { console.error(l) }
          }
        }
      } function Tl(r, e, t, n, o, a) {
        if (e) {
          r.call(t, n, o, a)
        }
        else {
          for (let i = r.length, s = Oe(r, i), l = 0; l < i; ++l) {
            try { s[l].call(t, n, o, a) }
            catch (c) { console.error(c) }
          }
        }
      } function Ol(r, e, t, n) {
        if (e) {
          r.apply(t, n)
        }
        else {
          for (let o = r.length, a = Oe(r, o), i = 0; i < o; ++i) {
            try { a[i].apply(t, n) }
            catch (s) { console.error(s) }
          }
        }
      } function Ll(r, e, t) {
        let n, o, a; if (typeof t != 'function')
          throw new TypeError('"listener" argument must be a function'); if (o = r._events, o ? (o.newListener && (r.emit('newListener', e, t.listener ? t.listener : t), o = r._events), a = o[e]) : (o = r._events = Ee(null), r._eventsCount = 0), !a) {
          a = o[e] = t, ++r._eventsCount
        }
        else if (typeof a == 'function' ? a = o[e] = [a, t] : a.push(t), !a.warned && (n = Cl(r), n && n > 0 && a.length > n)) { a.warned = true; class i extends Error {constructor() { super(...arguments); A(this, 'emitter'); A(this, 'type'); A(this, 'count') }} const s = new i(`Possible Dispatcher memory leak detected. ${a.length} "${String(e)}" listeners added. Use emitter.setMaxListeners() to increase limit.`); s.name = 'MaxListenersExceededWarning', s.emitter = r, s.type = e, s.count = a.length, typeof console == 'object' && console.warn && console.warn('%s: %s', s.name, s.message) } return r
      } function Nl(r, e) {
        let t, n, o, a, i; if (typeof e != 'function')
          throw new TypeError('"listener" argument must be a function'); if (n = this._events, !n)
          return this; if (t = n[r], !t)
          return this; if (t === e || t.listener === e) {
          --this._eventsCount === 0 ? this._events = Ee(null) : (delete n[r], n.off && this.emit('off', r, t.listener || e))
        }
        else if (typeof t != 'function') {
          for (o = -1, a = t.length - 1; a >= 0; a--) {
            if (t[a] === e || t[a].listener === e) { i = t[a].listener, o = a; break }
          } if (o < 0)
            return this; o === 0 ? t.shift() : Ul(t, o), t.length === 1 && (n[r] = t[0]), n.off && this.emit('off', r, i || e)
        } return this
      } function Ml() {
        if (!this.fired)
          switch (this.target.off(this.type, this.wrapFn), this.fired = true, arguments.length) { case 0:return this.listener.call(this.target); case 1:return this.listener.call(this.target, arguments[0]); case 2:return this.listener.call(this.target, arguments[0], arguments[1]); case 3:return this.listener.call(this.target, arguments[0], arguments[1], arguments[2]); default:for (var r = Array.from({ length: arguments.length }), e = 0; e < r.length; ++e)r[e] = arguments[e]; this.listener.apply(this.target, r) }
      } function Dl(r, e, t) { const n = { fired: false, wrapFn: undefined, target: r, type: e, listener: t }; const o = El.call(Ml, n); return o.listener = t, n.wrapFn = o, o } function Xr(r, e, t) {
        const n = r._events; if (!n)
          return []; const o = n[e]; return o ? typeof o == 'function' ? t ? [o.listener || o] : [o] : t ? jl(o) : Oe(o, o.length) : []
      } function Rl(r) {
        const e = this._events; if (e) {
          const t = e[r]; if (typeof t == 'function')
            return 1; if (t)
            return t.length
        } return 0
      } function Ul(r, e) { for (let t = e, n = t + 1, o = r.length; n < o; t += 1, n += 1)r[t] = r[n]; r.pop() } function Oe(r, e) { for (var t = new Array(e), n = 0; n < e; ++n)t[n] = r[n]; return t } function jl(r) { for (var e = Array.from({ length: r.length }), t = 0; t < e.length; ++t)e[t] = r[t].listener || r[t]; return e } function Bl(r) { const e = function () {}; return e.prototype = r, new e() } function zl(r) { for (var e in r)Object.prototype.hasOwnProperty.call(r, e); return e } function $l(r) { const e = this; return function () { return e.apply(r, arguments) } } class Fl extends ce {} const mo = Object.prototype.toString; function bo(r) { return !!r && typeof r == 'object' } function Xt(r) { return typeof r == 'number' && !isNaN(r) } function Zr(r) { return bo(r) && mo.call(r).toLowerCase() === '[object arraybuffer]' } function Hl(r) { return bo(r) && mo.call(r).toLowerCase() === '[object uint8array]' } class Je {
        constructor() { A(this, 'byteLength_'); A(this, 'list_', []) } get byteLength() { if (!Xt(this.byteLength_)) { let e = 0; for (let t = 0, n; t < this.list_.length; t++)n = this.list_[t], e += n.byteLength; this.byteLength_ = e } return this.byteLength_ } get bytes() { const { bufferList: e } = this; let t = null; return e.length > 0 && (e.length === 0 ? t = e[0] : t = this.toNewBytes()), t } get empty() { return this.list_.length === 0 } get bufferList() { return this.list_ }clear() { const e = this.list_.length; e > 0 && this.list_.splice(0, e), this.byteLength_ = null }toNewBytes() {
          let e = null; let t = 0; const n = 50; for (;e === null;) {
            try { t++, e = new Uint8Array(this.byteLength) }
            catch (o) {
              if (t > n)
                throw o
            }
          } for (let o = 0, a = 0; o < this.list_.length; o++) { const i = this.list_[o]; e.set(i, a), a += i.byteLength } return e
        }

        append(e) { e instanceof Je ? this.list_ = this.list_.concat(e.bufferList) : this.list_.push(e), this.byteLength_ = null }cut(e, t = true) {
          let n = null; if (e > 0 && !this.empty) {
            const o = this.list_; let a = 0; let i = 0; for (;o.length > 0;) {
              let s = o.shift(); if (i === 0) {
                if (s.byteLength >= e) { t && (n = s.subarray(0, e)), s.byteLength > e && (s = s.subarray(e), o.unshift(s)); break }
                else {
                  if (t) {
                    try { n = new Uint8Array(e) }
                    catch (l) { throw `alloc_memory_error@ cache buffer: ${e} ${l.message}` }n.set(s, 0)
                  }a += s.byteLength
                }
              }
              else {
                const l = e - a; if (s.byteLength >= l) { t && n.set(s.subarray(0, l), a), s = s.subarray(l), s.byteLength > 0 && o.unshift(s); break }
                else { t && n.set(s, a), a += s.byteLength; break }
              }i++
            } this.byteLength_ = null
          } return n
        }
      } class ql {
        constructor() { A(this, 'map_'); this.map_ = {} }push(e, t) { Object.prototype.hasOwnProperty.call(this.map_, e) ? this.map_[e].push(t) : this.map_[e] = [t] }get(e) { const t = this.map_[e]; return t ? t.slice() : null }getAll() { const e = []; for (const t in this.map_)e.push.apply(e, this.map_[t]); return e }remove(e, t) {
          const n = this.map_[e]; if (n) {
            for (let o = 0; o < n.length; ++o)n[o] == t && (n.splice(o, 1), --o)
          }
        }

        clear() { this.map_ = {} }forEach(e) { for (const t in this.map_)e(t, this.map_[t]) }
      } class Vl {constructor(e, t, n) { A(this, 'target'); A(this, 'type'); A(this, 'listener'); this.target = e, this.type = t, this.listener = n, this.target.addEventListener ? this.target.addEventListener(t, n, false) : this.target.on && this.target.on(t, n, false) }off() { this.target.removeEventListener ? this.target.removeEventListener(this.type, this.listener, false) : this.target.off && this.target.off(this.type, this.listener, false), this.target = null, this.listener = null }} class Gl {
        constructor() { A(this, 'bindingMap_'); this.bindingMap_ = new ql() }destroy() { this.removeAll(), this.bindingMap_ = null }on(e, t, n) {
          if (!this.bindingMap_)
            return; const o = new Vl(e, t, n); return this.bindingMap_.push(t, o), this
        }

        once(e, t, n) { this.on(e, t, (o) => { this.off(e, t), n(o) }) }off(e, t) {
          if (!this.bindingMap_)
            return; const n = this.bindingMap_.get(t) || []; for (let o = 0; o < n.length; ++o) { const a = n[o]; a.target == e && (a.off(), this.bindingMap_.remove(t, a)) }
        }

        removeAll() {
          if (!this.bindingMap_)
            return; const e = this.bindingMap_.getAll(); for (let t = 0; t < e.length; ++t)e[t].off(); this.bindingMap_.clear()
        }
      } let Zt; typeof window > 'u' ? Zt = self : Zt = window; const Ql = Zt; const oe = Ql.console; const at = typeof WorkerGlobalScope < 'u' && self instanceof WorkerGlobalScope && typeof importScripts < 'u'; const De = '>>>'; class Yl extends ce {constructor() { super(); A(this, 'MSG_NAME'); A(this, '_enable'); this._enable = false } get enable() { return this._enable } set enable(t) { this._enable = t, this.MSG_NAME = '__log__' }log(...t) { at ? te.emit(this.MSG_NAME, 'log', [...t].join('')) : this._enable && oe.log.call(oe, De, ...t) }debug(...t) { at ? te.emit(this.MSG_NAME, 'debug', [...t].join('')) : this._enable && oe.debug && oe.debug.call(oe, De, ...t) }assert(...t) { if (this._enable && oe.assert) { const n = t[0]; const o = Array.prototype.slice.call(t, 1); o.unshift(De), oe.assert.call(oe, n, ...o) } }warn(...t) { at ? te.emit(this.MSG_NAME, 'warn', [...t].join('')) : this._enable && oe.warn.call(oe, De, ...t) }error(...t) { at ? te.emit(this.MSG_NAME, 'error', [...t].join('')) : this._enable && oe.error.call(oe, De, ...t) }} let te = new Yl(); class Le extends ce {constructor() { super() }pipe(e) { return this.on('reset', () => { e.reset() }), this.on('data', (t) => { e.push(t) }), this.on('done', (t) => { e.flush(t) }), e }unpipe() { return this.removeAllListeners('reset'), this.removeAllListeners('data'), this.removeAllListeners('done'), this }push(e, t) { this.emit('data', e) }flush(e) { this.emit('done', e) }reset() { this.emit('reset') }} class Kl extends Le {constructor(t = {}) { super(); A(this, 'eventManager_'); A(this, 'ctx_'); A(this, 'options_'); A(this, 'cache_buffer_'); t.debug && (te.enable = true), this.ctx_ = new Fl(), this.options_ = t, this.cache_buffer_ = new Je() }listenEndStream_() { this.eventManager_ = new Gl(), this.eventManager_.on(this.endStream, 'data', (t) => { this.emit(Ie.DEMUX_DATA, t) }).on(this.endStream, 'done', (t) => { this.emit(Ie.DONE, t) }).on(this.ctx_, 'error', (t) => { this.emit(Ie.ERROR, t) }) }constraintPushData_(t) { let n = null; return !Zr(t) && !Hl(t) ? (te.error(`Data pushed is not an ArrayBuffer or Uint8Array: ${t}`), n) : (Zr(t) ? n = new Uint8Array(t) : n = t, n) }reset() {}destroy() { this.unpipe(), this.endStream.unpipe(), this.eventManager_.removeAll() }} let er; (function (r) { r[r.WORKER_EXCEPTION = 0] = 'WORKER_EXCEPTION', r[r.WORKER_MSG_EXCEPTION = 1] = 'WORKER_MSG_EXCEPTION', r[r.TS_SYNC_BYTE = 2] = 'TS_SYNC_BYTE', r[r.FLV_HEAD_SIGNATURE = 3] = 'FLV_HEAD_SIGNATURE', r[r.FLV_NOT_EXPECTED_ADJACENT_DATA = 4] = 'FLV_NOT_EXPECTED_ADJACENT_DATA' })(er || (er = {})); const Wl = er; class Jl {
        constructor(e) {
          A(this, 'pmtTable'); const t = (e[1] & 15) << 8 | e[2]; let n = 0; let o; const a = t - 4 - 5; for (this.pmtTable = []; n < a; n += 4) {
            if (o = e[n + 8] << 8 | e[n + 9], o == 0) { const i = (e[10 + n] & 31) << 8 | e[11 + n]; te.log('packet->network_PID %0x /n/n', i) }
            else {
              this.pmtTable.push({ programNum: o, program_map_PID: (e[10 + n] & 31) << 8 | e[11 + n] })
            }
          }
        }
      } class Xl {
        constructor(e) {
          A(this, 'pes_table'); const t = (e[1] & 15) << 8 | e[2]; const n = (e[10] & 15) << 8 | e[11]; if (n < 0)
            return; if (n > 2) { let l = 0; for (;l < n;) { const c = e[13 + l]; l += c } } const o = 12 + n; const a = t - n - 9 - 4; const i = o + a; if (o >= i) { te.warn(`es_section_pos < es_section_end ${o}, ${i}`); return } this.pes_table = []; let s = 0; for (;s < a;) { const l = o + s; const c = e[l]; const u = (e[l + 1] << 8 | e[l + 2]) & 8191; const d = (e[l + 3] << 8 | e[l + 4]) & 4095; this.pes_table.push({ streamType: c, PID: u }), s += d + 5 }
        }
      } const Zl = 0; const ec = 1; const tc = 2; const rc = 17; class nc {
        constructor() { A(this, 'pat_table'); A(this, 'pes_streams'); this.pat_table = [], this.pes_streams = [] } get currentProgramPID() { const e = []; for (let t = 0; t < this.pat_table.length; t++)e.push(this.pat_table[t].pid); return e.length > 0 ? e[0] : -1 } get tracks() { return this.pes_streams }reset() { this.pat_table.splice(0, this.pat_table.length), this.pes_streams.splice(0, this.pes_streams.length) }parse(e) { const t = this; Zl === e.PID ? this._parsePat(e) : ec === e.PID || tc === e.PID || e.PID >= 3 && e.PID <= 15 || rc === e.PID || e.PID === t.currentProgramPID && this._parsePmt(e) }findTrack(e) {
          let t = null; const n = this.pes_streams; for (let o = 0; o < n.length; o++) {
            if (n[o].id === e) { t = n[o]; break }
          } return t
        }

        _parsePat(e) {
          let t; if (e.payload_unit_start_indicator) { const a = e.payload[0]; t = e.payload.subarray(a + 1) }
          else {
            t = e.payload
          } const n = new Jl(t); for (let o = 0; o < n.pmtTable.length; o++) this._add_pid_to_pmt(n.pmtTable[o].programNum, n.pmtTable[o].program_map_PID); return n
        }

        _add_pid_to_pmt(e, t) {
          const n = this.pat_table; function o(i) {
            for (let s = 0, l; s < n.length; s++) {
              if (l = n[s], l.id === i)
                return { idx: s, item: l }
            } return null
          }o(e) || n.push({ id: e, pid: t })
        }

        _parsePmt(e) {
          let t; if (e.payload_unit_start_indicator) { const a = e.payload[0]; t = e.payload.subarray(a + 1) }
          else {
            t = e.payload
          } const n = new Xl(t); for (let o = 0; o < n.pes_table.length; o++) this._add_pes_stream(n.pes_table[o]); return n
        }

        _add_pes_stream(e) {
          const t = this.pes_streams; function n(a) {
            for (let i = 0, s; i < t.length; i++) {
              if (s = t[i], s.id === a)
                return { idx: i, item: s }
            } return null
          }n(e.PID) || t.push({ id: e.PID, stream_type: e.streamType, duration: 0, sps: [], pps: [], pixelRatio: [1, 1], timescale: 9e4, width: 0, height: 0 })
        }
      } class oc extends Le {constructor(e, t) { super(), this.context = e, this.PSI = t, this.videoTrack = null, this.audioTrack = null, this.captionTrack = null }push(e) { const t = e; for (let n = 0, o; n < t.length; n++) switch (o = t[n], o.type) { case 'video':this._complexVideo(o); break; case 'audio':this._complexAudio(o); break; case 'caption':this._complexCaption(o); break } }flush() { this.emit('done'), this._clearStream() }reset() { this._clearStream() }_clearStream() { this.videoTrack = null, this.audioTrack = null, this.captionTrack = null }_complexVideo(e) { const t = this.PSI.findTrack(e.trackId); t && (t.type = 'video', t.gops = e, t.firstDTS = e[0][0].dts, t.firstPTS = e[0][0].pts, t.duration = Number.POSITIVE_INFINITY, this.videoTrack = t, this.emit('data', { videoTrack: this.videoTrack })) }_complexAudio(e) { const t = this.PSI.findTrack(e.trackId); t && (t.type = 'audio', t.frames = e, t.firstPTS = t.firstDTS = e[0].dts, t.duration = Number.POSITIVE_INFINITY, this.audioTrack = t, this.emit('data', { audioTrack: this.audioTrack })) }_complexCaption() {}} const Pt = { mac: false, iphone: false, android: false }; const ie = { version: false, CHROME: false, SAFARI: false, FIREFOX: false, IE11: false, IE: false, EDGE: false, WECHAT: false }; const ac = navigator; const z = ac.userAgent.toLowerCase(); const ye = /(edge)\/([\w.]+)/.exec(z) || /(opr)\/([\w.]+)/.exec(z) || /(chrome)[ /]([\w.]+)/.exec(z) || /(firefox)[ /]([\w.]+)/.exec(z) || /(iemobile)\/([\w.]+)/.exec(z) || /(version)(applewebkit)[ /]([\w.]+).*(safari)[ /]([\w.]+)/.exec(z) || /(webkit)[ /]([\w.]+).*(version)[ /]([\w.]+).*(safari)[ /]([\w.]+)/.exec(z) || /(webkit)[ /]([\w.]+)/.exec(z) || /(opera)(?:.*version)?[ /]([\w.]+)/.exec(z) || /(msie) ([\w.]+)/.exec(z) || z.includes('trident') && /(rv)(?::| )([\w.]+)/.exec(z) || !z.includes('compatible') && /(mozilla)(?:.*? rv:([\w.]+))?/.exec(z) || []; const ic = /(ipad)/.exec(z) || /(ipod)/.exec(z) || /(windows phone)/.exec(z) || /(iphone)/.exec(z) || /(kindle)/.exec(z) || /(silk)/.exec(z) || /(android)/.exec(z) || /(win)/.exec(z) || /(mac)/.exec(z) || /(linux)/.exec(z) || /(cros)/.exec(z) || /(playbook)/.exec(z) || /(bb)/.exec(z) || /(blackberry)/.exec(z) || []; const le = { version: undefined }; const he = { browser: ye[5] || ye[3] || ye[1] || '', version: ye[2] || ye[4] || '0', versionNumber: ye[4] || ye[2] || '0', platform: ic[0] || '' }; if (he.browser) { le[he.browser] = true; const r = he.versionNumber.split('.'); le.version = { major: parseInt(he.versionNumber, 10), string: he.version }, r.length > 1 && (le.version.minor = parseInt(r[1], 10)), r.length > 2 && (le.version.build = parseInt(r[2], 10)) }ie.version = le.version; ie.CHROME = !!le.chrome; ie.SAFARI = !!le.safari && !ie.CHROME; ie.FIREFOX = !!le.firefox; ie.IE11 = /rv:11/.test(z); ie.IE = !!le.msie || ie.IE11; ie.EDGE = !!le.edge; ie.WECHAT = /(wechat)|(micromessenger)/.test(z); Pt.mac = !!he.platform.mac; Pt.iphone = !!he.platform.iphone; Pt.android = !!he.platform.android; const en = { browser: ie, os: Pt }; const tn = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350]; const sc = (r, e, t) => { let n; const o = r; let a; if (e > tn.length - 1) { te.error(`invalid sampling index:${e}`); return } return en.browser.FIREFOX ? e >= 6 ? (r = 5, a = Array.from({ length: 4 }), n = e - 3) : (r = 2, a = Array.from({ length: 2 }), n = e) : en.os.android ? (r = 2, a = Array.from({ length: 2 }), n = e) : (r = 5, a = Array.from({ length: 4 }), e >= 6 ? n = e - 3 : (t === 1 && (r = 2, a = Array.from({ length: 2 })), n = e)), a[0] = r << 3, a[0] |= (e & 14) >> 1, a[1] |= (e & 1) << 7, a[1] |= t << 3, r === 5 && (a[1] |= (n & 14) >> 1, a[2] = (n & 1) << 7, a[2] |= 8, a[3] = 0), { config: a, sampleRate: tn[e], channelCount: t, codec: `mp4a.40.${r}`, realCodec: `mp4a.40.${o}` } }; const rn = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350]; class lc extends ce {
        constructor() { super() }push(e) {
          const { pts: t, dts: n, payload: o } = e; let a = o; let i = 0; let s = 0; let l; let c; let u; let d; let p; for (;i + 5 < a.length;) {
            if (a[i] !== 255 || (a[i + 1] & 246) !== 240) { i++; continue } if (c = (~a[i + 1] & 1) * 2, l = (a[i + 3] & 3) << 11 | a[i + 4] << 3 | (a[i + 5] & 224) >> 5, d = ((a[i + 6] & 3) + 1) * 1024, p = d * 9e4 / rn[(a[i + 2] & 60) >>> 2], u = i + l, a.byteLength < u)
              return; const h = { pts: t + s * p, dts: n + s * p, sampleCount: d, audioObjectType: (a[i + 2] >>> 6 & 3) + 1, channelCount: (a[i + 2] & 1) << 2 | (a[i + 3] & 192) >>> 6, sampleRate: rn[(a[i + 2] & 60) >>> 2], samplingFrequencyIndex: (a[i + 2] & 60) >>> 2, sampleSize: 16, data: a.subarray(i + 7 + c, u) }; if (this.emit('frame', h), a.byteLength === u) { a = undefined, this.emit('done'); return }s++, a = a.subarray(u)
          }
        }
      } class cc extends Le {constructor(t) { super(); A(this, 'PSI'); A(this, 'trackId'); A(this, 'codec'); A(this, 'frames'); this.PSI = t, this.trackId = null, this.codec = new lc(), this.codec.on('frame', (n) => { this.frames.push(n), this.frames.byteLength += n.data.byteLength, this.frames.trackId = this.trackId }), this._newFrames() }push(t) { t.stream_type === 15 && (this.trackId = t.pid, this.codec.push({ dts: t.pes.DTS, pts: t.pes.PTS, payload: t.pes.data_byte })) }flush() { if (this.frames.length > 0) { const t = this.frames.length; const n = this.frames[0]; const o = this.frames[t - 1]; const a = o.sampleRate * o.sampleCount / 9e4; this.frames.firstDTS = n.dts, this.frames.firstPTS = n.pts, t === 1 ? this.frames.duration = a : this.frames.duration = a + (o.pts - n.pts), this._updateTrackMeta(n), this.emit('data', this.frames), this.reset(), this.emit('done') } }reset() { this.trackId = null, this._newFrames() }_newFrames() { this.frames = [], this.frames.type = 'audio', this.frames.byteLength = 0, this.frames.duration = 0, this.frames.firstDTS = 0, this.frames.firstPTS = 0 }_updateTrackMeta(t) { const n = this.PSI.findTrack(this.trackId); const o = sc(t.audioObjectType, t.samplingFrequencyIndex, t.channelCount); n.config = o.config, n.sampleRate = o.sampleRate, n.inputTimeScale = n.inputTimeScale || n.timescale, n.timescale = o.sampleRate, n.channelCount = o.channelCount, n.codec = o.codec, n.realCodec = o.realCodec, n.isAAC = true }} function jt(r) { let e = 0; return ArrayBuffer.isView(r) && (e = r.byteOffset, r = r.buffer), new DataView(r, e) } class uc {constructor() {}readUint8(e, t) { return jt(e).getUint8(t) }readUint16(e, t, n = false) { return jt(e).getUint16(t, n) }readUint32(e, t, n = false) { return jt(e).getUint32(t, n) }} function dc(r) {
        const e = r.byteLength; const t = []; let n = 1; let o; let a = new Uint8Array(0); for (;n < e - 2;)r[n] === 0 && r[n + 1] === 0 && r[n + 2] === 3 ? (t.push(n + 2), n += 2) : n++; if (t.length === 0)
          return r; o = e - t.length; try { a = new Uint8Array(o) }
        catch { throw `epsb alloc mem error ${o}` } let i = 0; for (n = 0; n < o; i++, n++)i === t[0] && (i++, t.shift()), a[n] = r[i]; return a
      } function go(r, e = 0, t = 1) { let n = 0; let o = 0; let a = 0; let i = ''; let s = 0; for (let l = e; l < e + t; l++)n = Math.floor(l / 8), o = 7 - l % 8, s = r[n] >> o & 1, i += s; return a = parseInt(i, 2), a } function pc(r, e = 0) { return go(r, e, 8) } function wo(r, e = 0) {
        const t = []; const n = r.byteLength * 8; let o = false; let a = 0; let i = 0; let s = 0; let l = ''; for (let u = e; u < n; u++) {
          if (a = Math.floor(u / 8), i = 7 - u % 8, s = r[a] >> i & 1, !o) {
            if (s === 0) {
              t.push(0)
            }
            else { o = true, e = u; break }
          }
        } const c = t.length + 1; for (let u = e; u < e + c; u++)a = Math.floor(u / 8), i = 7 - u % 8, s = r[a] >> i & 1, l += s; return { bitLength: t.length + c, value: parseInt(l, 2) - 1 }
      } function hc(r, e = 0) { const t = wo(r, e); const n = t.value; const o = (-1) ** (n + 1) * Math.ceil(n / 2); return { bitLength: t.bitLength, value: o } } const P = { readUEV: wo, readSEV: hc, readBit: go, readByte: pc }; let k = 0; function nn(r, e) { let t = 8; let n = 8; let o; for (let a = 0; a < e; a++)n != 0 && (o = P.readUEV(r, k), k += o.bitLength, n = (t + o.value + 256) % 256), t = r[a] } function fc(r) {
        k = 0; const e = r[0]; const t = r[1]; const n = r[2]; const o = r.subarray(3); let a = 0; let i; let s; let l; let c; let u = [1, 1]; let d = 1; let p; let h = 0; let b; let w; let f = true; const g = P.readUEV(o, k); if (k += g.bitLength, e == 100 || e == 110 || e == 122 || e == 244 || e == 44 || e == 83 || e == 86 || e == 118 || e == 128) {
          const q = P.readUEV(o, k); k += q.bitLength, q.value == 3 && (k += 1); const ee = P.readUEV(o, k); k += ee.bitLength; const G = P.readUEV(o, k); if (k += G.bitLength, k += 1, a = P.readBit(o, k), k += 1, a) {
            for (let Q = 0; Q < (q.value != 3 ? 8 : 12); Q++) { const ue = P.readBit(o, k); k += 1, ue && (Q < 6 ? nn(o, 16) : nn(o, 64)) }
          }
        } const v = P.readUEV(o, k); k += v.bitLength; const _ = P.readUEV(o, k); const E = _.value; if (k += _.bitLength, E === 0) {
          i = P.readUEV(o, k), k += i.bitLength
        }
        else if (E === 1) { k += 1, s = P.readSEV(o, k), k += s.bitLength, l = P.readSEV(o, k), k += l.bitLength, c = P.readUEV(o, k), k += c.bitLength; for (let q = 0, ee; q < c.value; q++)ee = P.readSEV(o, k), k += ee.bitLength } const U = P.readUEV(o, k); k += U.bitLength, k += 1; const y = P.readUEV(o, k); k += y.bitLength; const m = P.readUEV(o, k); k += m.bitLength; const x = P.readBit(o, k); k += 1, x || (k += 1), k += 1; const I = P.readBit(o, k); k += 1; let T = 0; let S = 0; let M = 0; let L = 0; if (I) { const q = P.readUEV(o, k); k += q.bitLength, T = q.value; const ee = P.readUEV(o, k); k += ee.bitLength, S = ee.value; const G = P.readUEV(o, k); k += G.bitLength, M = G.value; const Q = P.readUEV(o, k); k += Q.bitLength, L = Q.value } const $ = P.readBit(o, k); if (k += 1, $) { const q = P.readBit(o, k); if (k += 1, q) { const de = P.readByte(o, k); switch (k += 8, de) { case 1:u = [1, 1]; break; case 2:u = [12, 11]; break; case 3:u = [10, 11]; break; case 4:u = [16, 11]; break; case 5:u = [40, 33]; break; case 6:u = [24, 11]; break; case 7:u = [20, 11]; break; case 8:u = [32, 11]; break; case 9:u = [80, 33]; break; case 10:u = [18, 11]; break; case 11:u = [15, 11]; break; case 12:u = [64, 33]; break; case 13:u = [160, 99]; break; case 14:u = [4, 3]; break; case 15:u = [3, 2]; break; case 16:u = [2, 1]; break; case 255:{ const Y = P.readByte(o, k); k += 8; const $o = P.readByte(o, k); k += 8; const Fo = P.readByte(o, k); k += 8; const Ho = P.readByte(o, k); k += 8, u = [Y << 8 | $o, Fo << 8 | Ho]; break } }u && (d = u[0] / u[1]), de === 255 && (k += 16, k += 16) } const ee = P.readBit(o, k); k += 1, ee && (k += 1); const G = P.readBit(o, k); if (k += 1, G) { p = P.readBit(o, k, 3), k += 3, k += 1; const de = P.readBit(o, k); k += 1, de && (k += 24) } const Q = P.readBit(o, k); if (k += 1, Q) { const de = P.readUEV(o, k); k += de.bitLength; const Y = P.readUEV(o, k); k += Y.bitLength } const ue = P.readBit(o, k); k += 1, ue && (b = P.readBit(o, k, 32), k += 32, w = P.readBit(o, k, 32), k += 32, f = !!P.readBit(o, k), k += 1, h = w / (b * 2)) } return { payload: o, profile_idc: e, profile_compatibility: t, level_idc: n, sps_id: g.value, log2_max_frame_num_minus4: _.value, pic_order_cnt_type: E, log2_max_pic_order_cnt_lsb_minus4: i ? i.value : 0, width: Math.ceil(((y.value + 1) * 16 - T * 2 - S * 2) * d), height: (2 - x) * (m.value + 1) * 16 - M * 2 - L * 2, pixelRatio: u, video_format: p, fps: h, fixedFPS: f }
      } function mc(r) { let e = 0; const t = r; const n = []; let o; let a; let i = 0; const s = P.readUEV(t, e); e += s.bitLength; const l = P.readUEV(t, e); e += l.bitLength, e += 1, e += 1; const c = P.readUEV(t, e); if (e += c.bitLength, c.value > 0) { const w = P.readUEV(t, e); e += w.bitLength; let f = 0; let g; switch (w.value) { case 0:for (f = 0; f <= w.value; f++)g = P.readUEV(t, e), e += g.bitLength; break; case 2:for (f = 0; f <= w.value; f++)g = P.readUEV(t, e), e += g.bitLength, g = P.readUEV(t, e), e += g.bitLength; break; case 3:case 4:case 5:e += 1, o = P.readUEV(t, e), e += o.bitLength; break; case 6:{ a = P.readUEV(t, e), e += a.bitLength; const v = Math.ceil(Math.log2(c.value + 1)); for (i = 0; i <= a.value; i++)n.push(P.readBit(t, e, v)), e += v } break } } const u = P.readUEV(t, e); e += u.bitLength; const d = P.readUEV(t, e); e += d.bitLength, e += 1, e += 1; const p = P.readSEV(t, e); e += p.bitLength; const h = P.readSEV(t, e); e += h.bitLength; const b = P.readSEV(t, e); return e += b.bitLength, e += 1, e += 1, e += 1, { sliceGroupNum: c.value + 1 } } function bc(r) { return {} } function gc(r) { return r[0] >> 5 } class wc extends uc {constructor(t) { super(); A(this, 'forbidden_zero_bit'); A(this, 'ref_idc'); A(this, 'unit_type'); A(this, 'data'); A(this, 'rawData'); A(this, 'sps'); A(this, 'pps'); A(this, 'sei'); A(this, 'primary_pic_type'); A(this, 'pts'); A(this, 'dts'); switch (this.forbidden_zero_bit = t[0] >> 7, this.ref_idc = t[0] >> 5 & 3, this.unit_type = t[0] & 31, this.data = dc(t.subarray(1)), this.rawData = t, this.unit_type) { case 1:break; case 2:case 3:case 4:break; case 5:break; case 7:this.sps = fc(this.data); break; case 8:this.pps = mc(this.data); break; case 6:this.sei = bc(this.data); break; case 9:this.primary_pic_type = gc(this.data); break } }} class vo extends ce {
        constructor() { super(...arguments); A(this, 'lastState', null); A(this, 'lastNALu', null); A(this, 'lastNALuState', null) }spitNalu_(t, n, o) { const a = new wc(t); a.pts = n, a.dts = o, this.lastNALu = a, this.emit('nalu', a) }push(t) {
          const { lastState: n, lastNALuState: o } = this; let a = 0; let i = -1; let { pts: s, dts: l, payload: c, naluSizeLength: u } = t; if (u) { let d = 0; let p = 0; let h = 0; const b = c.length; do { p = 0; for (let w = 0; w < u; w++)p = p | c[d + w] << (u - w - 1) * 8; d += u, h = d + p, h > b && (h = b), this.spitNalu_(c.subarray(d, h), s, l), d = h } while (d < b) }
          else {
            let d = c.byteLength - 1; let p = 0; do {
              if (c[d] === 0)
                p++; else break; d--
            } while (d > 0); p >= 3 && (c = c.subarray(0, d + 1)); const h = c.length; let b = 0; do {
              const w = c[a++]; if (b === 0) { b = w ? 0 : 1; continue }
              else if (b === 1) { b = w ? 0 : 2; continue } if (!w) {
                b = 3
              }
              else if (w === 1) {
                if (i >= 0) {
                  this.lastNALuState = b, this.spitNalu_(c.subarray(i, a - 1 - b), s, l)
                }
                else { const f = this.lastNALu; if (f) { n && a <= 4 - n && o && (f.rawData = f.rawData.subarray(0, f.rawData.byteLength - n)); const g = a - b - 1; if (g > 0) { te.log(`overflow NALU found: ${g}/${s}/${l}`); const v = new Je(); v.append(f.rawData), v.append(c.subarray(0, g)); const _ = v.toNewBytes(); v.clear(), f.rawData = _ } } }a < h && (i = a, b = 0)
              }
              else {
                b = 0
              }
            } while (a < h); i >= 0 && b >= 0 && (this.lastNALuState = b, this.spitNalu_(c.subarray(i, h), s, l)), this.lastState = b
          } this.emit('done')
        }

        reset() { this.lastState = null, this.lastNALu = null, this.lastNALuState = null }
      } function yo(r) { const e = r.profile_idc; const t = r.profile_compatibility; const n = r.level_idc; let o = 'avc1.'; const a = [e, t, n]; for (let i = 0; i < a.length; i++) { let s = a[i].toString(16); s.length < 2 && (s = `0${s}`), o += s } return { codec: o } } class vc extends Le {
        constructor(t) {
          super(); A(this, 'PSI'); A(this, 'trackId'); A(this, 'currentFrame'); A(this, 'prevFrame'); A(this, 'codec'); A(this, 'gop'); A(this, 'gops'); this.PSI = t, this.trackId = null, this.currentFrame = [], this.codec = new vo(), this._newGop(), this._newGops(), this.codec.on('nalu', (n) => {
            if (n.unit_type === 7) { const o = this.PSI.findTrack(this.trackId); const a = yo(n.sps); o.codec = a.codec, o.width = n.sps.width, o.height = n.sps.height, o.profileIdc = n.sps.profile_idc, o.profileCompatibility = n.sps.profile_compatibility, o.levelIdc = n.sps.level_idc, o.pixelRatio = n.sps.pixelRatio, o.sps = [n.rawData] }
            else if (n.unit_type === 8) { const o = this.PSI.findTrack(this.trackId); o.pps = [n.rawData] } this.emit('nalu', n), this._grouping(n)
          })
        }

        push(t) { const { stream_type: n, pes: o, pid: a } = t; if (n === 27 || n === 36) { this.trackId = a; const i = { pts: o.PTS, dts: o.DTS, payload: o.data_byte }; this.codec.push(i) } }flush() { this.currentFrame.length > 0 && (this.prevFrame && (!this.currentFrame.duration || this.currentFrame.duration <= 0) && (this.currentFrame.duration = this.prevFrame.duration || 0), this._pushFrameIntoGop(), this.currentFrame = []), this.gop.length > 0 && this._pushGopIntoGroup() }reset() { this.codec.reset(), this.currentFrame = [], this._newGop(), this._newGops() }_grouping(t) { t.unit_type === 9 ? (this.currentFrame.length > 0 && (this.currentFrame.duration = t.dts - this.currentFrame.dts, this.gop.length > 0 && this.currentFrame.keyframe && (this.gop.trackId = this.trackId, this._pushGopIntoGroup()), this.currentFrame.keyframe || this.gop.length > 0 ? this._pushFrameIntoGop() : te.warn('h264 codec drop frame')), this.emit('frame', this.currentFrame), this.prevFrame = this.currentFrame, this.currentFrame = [], this.currentFrame.keyframe = false, this.currentFrame.byteLength = 0, this.currentFrame.naluCount = 0, this.currentFrame.pts = t.pts / 9e4, this.currentFrame.dts = t.dts / 9e4) : (t.unit_type === 5 && (this.currentFrame.keyframe = true), this.currentFrame.byteLength += t.rawData.byteLength, this.currentFrame.naluCount++, this.currentFrame.push(t)), this.currentFrame.duration = t.dts - this.currentFrame.dts }_newGop() { this.gop = [], this.gop.duration = 0, this.gop.naluCount = 0, this.gop.byteLength = 0 }_pushFrameIntoGop() { this.gop.push(this.currentFrame), this.gop.duration += this.currentFrame.duration, this.gop.byteLength += this.currentFrame.byteLength, this.gop.naluCount += this.currentFrame.naluCount }_newGops() { this.gops = [], this.gops.type = 'video', this.gops.duration = 0, this.gops.naluCount = 0, this.gops.byteLength = 0, this.gops.frameLength = 0, this.gops.firstDTS = 0 }_pushGopIntoGroup() { const t = this.gop[0]; this.gops.trackId = this.trackId, this.gops.duration += this.gop.duration, this.gops.byteLength += this.gop.byteLength, this.gops.naluCount += this.gop.naluCount, this.gops.frameLength += this.gop.length, this.gops.firstDTS = t.dts, this.gops.firstPTS = t.pts, this.gops.push(this.gop), this.emit('data', this.gops), this._newGop(), this._newGops(), this.emit('done') }
      } class yc extends Le {
        constructor(t, n, o = {}) { super(); A(this, 'context'); A(this, 'PSI'); A(this, 'options'); A(this, 'tracks'); A(this, 'adtsStream'); A(this, 'avcStream'); A(this, 'streams'); this.context = t, this.PSI = n, this.options = o, this.tracks = [], this.adtsStream = new cc(n), this.avcStream = new vc(n), this.streams = [this.adtsStream, this.avcStream], o.decodeCodec && (this.avcStream.on('data', (a) => { const i = o.config.stubTime; if (Xt(i)) { const s = (a.firstPTS + a.duration) / 9e4; if (s < i) { te.warn(`drop avc gop, start/end/stubTime(${a.firstPTS}/${s}/${i})`); return } } this.tracks.push(a), this.emit('data', this.tracks), this.tracks = [], this.adtsStream.flush() }), this.adtsStream.on('data', (a) => { const i = o.config.stubTime; if (Xt(i)) { const s = (a.firstPTS + a.duration) / 9e4; if (s < i) { te.warn(`drop adts, start/end/stubTime(${a.firstPTS}/${s}/${i})`); return } } this.tracks.push(a), this.emit('data', this.tracks), this.tracks = [] })) }push(t) {
          const { options: n, adtsStream: o, avcStream: a } = this; const { stream_type: i } = t; if (n.decodeCodec)
            switch (i) { case 27:case 36:a.push(t); break; case 15:o.push(t); break; default:te.warn(`ts elementary encounter unknown stream type ${i}`) } else this.emit('data', t)
        }

        flush() { const { streams: t, tracks: n } = this; for (let o = 0; o < this.streams.length; o++)t[o].flush(); n.length > 0 && this.emit('data', n), this.emit('done'), n.splice(0, n.length) }reset() { this.tracks = []; for (let t = 0; t < this.streams.length; t++) this.streams[t].reset(); this.emit('reset') }
      } class xc {constructor(e) { A(this, 'PTS'); A(this, 'DTS'); A(this, 'data_byte'); const t = e[7] >> 6; const n = e[8]; this.PTS = 0, (t & 2) == 2 && (this.PTS = this.calcTimestamp_(e, 9)), this.DTS = this.PTS, (t & 1) == 1 && (this.DTS = this.calcTimestamp_(e, 14)), this.data_byte = e.subarray(9 + n) }calcTimestamp_(e, t) { return (e[t] & 14) * 536870912 + (e[t + 1] << 22) + (e[t + 2] >> 1 << 15) + (e[t + 3] << 7) + (e[t + 4] >> 1) }} class kc extends Le {
        constructor(t, n) { super(); A(this, 'context'); A(this, 'PSI'); A(this, 'PID'); A(this, 'cache_buffer'); this.context = t, this.PSI = n, this.PID = null, this.cache_buffer = new Je() }push(t) { const n = this; t.PID > 31 && t.PID < 8191 && (this.PSI.currentProgramPID == -1 ? n._pushPacket(t) : this.PSI.currentProgramPID !== t.PID && (t.payload_unit_start_indicator === 1 && n._assembleOnePES(), n._pushPacket(t))) }flush() { const t = this; t._assembleOnePES(), t.emit('done') }reset() { this._clearCached(), this.emit('reset') }_clearCached() { this.PID = null, this.cache_buffer.clear() }_pushPacket(t) { const n = this.cache_buffer.empty; n && t.payload_unit_start_indicator === 0 || (n && (this.PID = t.PID), this.cache_buffer.append(t.payload)) }_assembleOnePES() {
          const t = this; if (!this.cache_buffer.empty) {
            let n; try { n = this.cache_buffer.toNewBytes() }
            catch { throw `pes alloc mem err ${this.cache_buffer.byteLength}` } const o = new xc(n); const a = this.PSI.findTrack(this.PID); if (a) { const i = { pid: a.id, stream_type: a.stream_type, pes: o }; t.emit('data', i) }t._clearCached()
          }
        }
      } const _c = 71; class Ac {
        constructor(e) {
          A(this, 'sync_byte'); A(this, 'payload_unit_start_indicator'); A(this, 'PID'); A(this, 'afc'); A(this, 'has_payload'); A(this, 'has_adaptation'); A(this, 'payload'); if (this.sync_byte = e[0], this.payload_unit_start_indicator = e[1] >> 6 & 1, this.PID = (e[1] << 8 | e[2]) & 8191, this.afc = e[3] >> 4 & 3, this.has_payload = this.afc & 1, this.has_adaptation = this.afc & 2, this.has_payload) {
            if (this.has_adaptation) { const t = e[4]; this.payload = e.subarray(5 + t) }
            else {
              this.payload = e.subarray(4)
            }
          }
        }

        valid() { return this.sync_byte === _c && this.has_payload === 1 }
      } const on = 188; class Ec extends Kl {
        constructor(t = {}) { super(t); A(this, 'psi_'); A(this, 'pesStream_'); A(this, 'elementaryStream_'); A(this, 'complexStream_'); this.psi_ = new nc(), this.pesStream_ = new kc(this.ctx_, this.psi_), this.elementaryStream_ = new yc(this.ctx_, this.psi_, t), this.complexStream_ = new oc(this.ctx_, this.psi_), this.pipe(this.pesStream_), this.pesStream_.pipe(this.elementaryStream_), this.elementaryStream_.pipe(this.complexStream_), super.listenEndStream_() } get endStream() { let t = this.elementaryStream_; return this.options_.decodeCodec && (t = this.complexStream_), t }push(t, n = {}) {
          const { done: o } = n; const { options_: a, ctx_: i, cache_buffer_: s, psi_: l } = this; const c = super.constraintPushData_(t); const u = s.byteLength; let d = null; for (a.config = n, te.log(`hls demux received ${c.byteLength} bytes, cache ${u} bytes. ${o ? 'chunk done' : ''}`), s.append(c); s.byteLength >= on;) {
            const p = s.cut(on); if (p) {
              const h = new Ac(p); if (h.valid()) {
                l.parse(h), this.emit('data', h)
              }
              else { const b = `Encounter invalid ts packet, packet_length(${p.length}), cache_length(${this.cache_buffer_.byteLength}), has_payload(${h.has_payload}), data(${p})`; te.error(b), this.reset(), i.emit('error', Wl.TS_SYNC_BYTE, b, { startByte: d, endByte: d + p.byteLength }); break }d += p.byteLength
            }
          }s.empty && o && this.emit('done')
        }

        reset() { this.cache_buffer_.clear(), this.emit('reset') }
      } let an; (function (r) { r[r.HEAD = 0] = 'HEAD', r[r.BODY = 1] = 'BODY' })(an || (an = {})); let sn; (function (r) { r[r.SCRIPT_DATA = 18] = 'SCRIPT_DATA', r[r.VIDEO = 9] = 'VIDEO', r[r.AUDIO = 8] = 'AUDIO' })(sn || (sn = {})); let ln; (function (r) { r[r.G711A = 7] = 'G711A', r[r.G711U = 8] = 'G711U', r[r.AAC = 10] = 'AAC', r[r.OPUS = 13] = 'OPUS' })(ln || (ln = {})); let cn; (function (r) { r[r.MONO = 0] = 'MONO', r[r.STEREO = 1] = 'STEREO' })(cn || (cn = {})); let un; (function (r) { r[r.SEQUENCE_HEAD = 0] = 'SEQUENCE_HEAD', r[r.AAC_RAW = 1] = 'AAC_RAW' })(un || (un = {})); let dn; (function (r) { r[r.SEQUENCE_HEAD = 0] = 'SEQUENCE_HEAD', r[r.RAW = 1] = 'RAW' })(dn || (dn = {})); let pn; (function (r) { r[r.SEQUENCE_HEAD = 0] = 'SEQUENCE_HEAD', r[r.NALU = 1] = 'NALU', r[r.SEQUENCE_END = 2] = 'SEQUENCE_END' })(pn || (pn = {})); const Cc = new vo(); Cc.on('nalu', (r) => {}); let hn; (function (r) { r[r.AVC = 7] = 'AVC' })(hn || (hn = {})); class Sc {
        constructor(e) { Object.defineProperty(this, 'demux', { enumerable: true, configurable: true, writable: true, value: undefined }), Object.defineProperty(this, 'firstOnDataTime', { enumerable: true, configurable: true, writable: true, value: 0 }), Object.defineProperty(this, '_onDecodeChunk', { enumerable: true, configurable: true, writable: true, value: undefined }), Object.defineProperty(this, '_onConfig', { enumerable: true, configurable: true, writable: true, value: undefined }), this.demux = new Ec({ debug: false, decodeCodec: true }), this.demux.on(Ie.DONE, this._onDeMuxDataDone.bind(this)), this.demux.elementaryStream_.avcStream.on('frame', this._onDemuxFrame.bind(this)), this._onDecodeChunk = e.onDecodeChunk, this._onConfig = e.onConfig }push(e, t) {
          if (!this.demux)
            throw new Error('解复用器未初始化'); this.demux.push(new Uint8Array(e), { ...t || {} })
        }

        destroy() { let e; (e = this.demux) == null || e.destroy(), this.demux = undefined }_onDemuxFrame(e) { const t = this._createFrameData(e); t && this._sendVideoFrame(e, t) }_createFrameData(e) {
          try {
            const t = []; const n = new Uint8Array([0, 0, 0, 1]); for (let s = 0, l = e.length; s < l; s++) {
              const c = e[s]; if (!c || !c.rawData || c.rawData.byteLength === 0)
                continue; if (c.unit_type === 7) { const d = yo(c.sps); this._onConfig({ codec: d.codec, width: c.sps.width, height: c.sps.height }) } const u = new Uint8Array(n.length + c.rawData.byteLength); u.set(n, 0), u.set(new Uint8Array(c.rawData), n.length), t.push(u)
            } if (t.length === 0)
              return null; const o = t.reduce((s, l) => s + l.byteLength, 0); const a = new Uint8Array(o); let i = 0; for (const s of t)a.set(s, i), i += s.byteLength; return a
          }
          catch (t) { return console.error('创建关键帧数据时出错:', t), null }
        }

        _sendVideoFrame(e, t) {
          try { if (!t || t.byteLength === 0) { console.warn('尝试发送无效帧数据'); return } this._onDecodeChunk({ avcFrame: e, rawData: t }) }
          catch (n) { console.error('发送视频帧时出错:', n) }
        }

        _onDeMuxDataDone() { const t = performance.now() - this.firstOnDataTime; console.log(`解复用完成，耗时: ${t} 毫秒`) }
      } class Ic {
        async fetchBufferRange(e, t, n) { return fetch(e, { method: 'GET', headers: { Range: `bytes=${t}-${n}` }, priority: 'low' }) } async streamChunks(e, t, n = {}) {
          const o = n.stepChunkSize || 385024; let a = 0; let i = true; try { for (;i;) { const s = await this.fetchBufferRange(e, a, a + o - 1); if (s.status !== 206) { i = !1; break }i = await t(await s.arrayBuffer(), a), a += o } }
          catch (s) { throw console.error('流式读取数据出错:', s), s }
        }
      } class Pc {
        constructor() { Object.defineProperty(this, 'info', { enumerable: true, configurable: true, writable: true, value: undefined }), Object.defineProperty(this, 'segmentIndex', { enumerable: true, configurable: true, writable: true, value: 0 }), Object.defineProperty(this, 'segments', { enumerable: true, configurable: true, writable: true, value: [] }), Object.defineProperty(this, 'duration', { enumerable: true, configurable: true, writable: true, value: 0 }) } get segment() { return this.segments[this.segmentIndex] } get segmentUrl() {
          if (!this.info)
            throw new Error('info is undefined'); return new URL(this.segment.uri, this.info.url).href
        }

        async open(e) { this.info = e, await this.fetchMasterPlaylist() } async read(e) { let n; return await (await fetch(this.segments[this.segmentIndex].uri, { headers: { Range: `bytes=${e.start}-${e.end}` }, ...((n = this.info) == null ? undefined : n.fetchOptions) ?? {} })).arrayBuffer() } async seek(e) {
          if (this.segmentIndex = this.segments.findIndex(t => t.timestamp <= e && e <= t.timestamp + t.duration), this.segmentIndex === -1)
            throw new Error('时间超出范围'); return this.segment
        }

        destroy() { this.segments = [], this.segmentIndex = 0, this.duration = 0, this.info = undefined } async fetchMasterPlaylist() {
          if (!this.info)
            throw new Error('info is undefined'); const t = await (await fetch(this.info.url, { headers: this.info.headers })).text(); const n = new Parser({ url: this.info.url }); n.push(t), n.end(); let o = 0; this.segments = n.manifest.segments.map((a) => { let s; const i = o; return o += a.duration, { ...a, duration: a.duration, timestamp: i, url: new URL(a.uri, (s = this.info) == null ? undefined : s.url).href } }), this.duration = o
        }
      } const Tc = { num: 1, den: 1e6 }; const Oc = { num: 1, den: 1 }; function Lc(r, e, t) { return r * e.num / e.den * t.den / t.num } const Nc = 5e3; class Mc {
        constructor(e) { Object.defineProperty(this, 'options', { enumerable: true, configurable: true, writable: true, value: e }), Object.defineProperty(this, 'hlsIo', { enumerable: true, configurable: true, writable: true, value: undefined }), this.hlsIo = new Pc() }destroy() { this.hlsIo.destroy() } async open() { await this.hlsIo.open(this.options) } async seek(e, t = false) {
          const n = Date.now(); let o; let a = true; const i = await this.hlsIo.seek(e); const s = new Ic(); const l = []; const c = new VideoDecoder({ output: (p) => { const h = this._getFrameRealTime(p.timestamp); if (t && !o) { o = p; return } if (h >= e && !o) { o = p; return }p.close() }, error: (p) => { console.error(p.message), console.error('解码器错误', this.hlsIo.segmentUrl), d() } }); const u = new Sc({ onConfig: (p) => { c.configure({ codec: p.codec }) }, onDecodeChunk: (p) => { const h = new EncodedVideoChunk({ type: p.avcFrame.keyframe ? 'key' : 'delta', timestamp: p.avcFrame.pts * 1e6, duration: p.avcFrame.duration * 1e6, data: p.rawData }); l.push(h) }, onDone: () => { c.flush() } }); const d = () => { a = false, u.destroy(), c.state !== 'closed' && c.close() }; if (t) {
            s.streamChunks(i.url, async (p) => {
              if (u.demux)
                u.push(new Uint8Array(p)); else return false; return await Wr(100), o ? false : (console.count('继续读取'), true)
            })
          }
          else { const h = await (await s.fetchBufferRange(i.url, 0, -1)).arrayBuffer(); u.push(h, { done: true }) } for (;a;) {
            if (o)
              return a = false, d(), { videoFrame: o, frameTime: this._getFrameRealTime(o.timestamp), seekTime: e, consumedTime: Date.now() - n }; if (Date.now() - n > Nc) { console.error(`m3u8Clipper seek timeout, time: ${e}`), a = false, d(); return } if (l.length > 0) { const p = l.shift(); p && (c.decode(p), await c.flush()) }
            else {
              await Wr(0)
            }
          }
        }

        _getFrameRealTime(e) { return Lc(e, Tc, Oc) }
      } exports('R', Mc); let F; (function (r) { r.Pending = 'pending', r.Running = 'running', r.Paused = 'paused', r.Cancelled = 'cancelled', r.Completed = 'completed', r.Failed = 'failed' })(F || (F = {})); class ae {} exports('Z', ae); Object.defineProperty(ae, 'TaskExist', { enumerable: true, configurable: true, writable: true, value: class extends Error {constructor() { super('Task Exist') }} }); Object.defineProperty(ae, 'TaskCancelled', { enumerable: true, configurable: true, writable: true, value: class extends Error {constructor() { super('Task Cancelled') }} }); Object.defineProperty(ae, 'QueueCleared', { enumerable: true, configurable: true, writable: true, value: class extends Error {constructor() { super('Queue Cleared') }} }); Object.defineProperty(ae, 'QueueFull', { enumerable: true, configurable: true, writable: true, value: class extends Error {constructor() { super('Queue Full') }} }); Object.defineProperty(ae, 'TaskTimeout', { enumerable: true, configurable: true, writable: true, value: class extends Error {constructor() { super('Task Timeout') }} }); class Dc {
        constructor(e = {}) { Object.defineProperty(this, 'queue', { enumerable: true, configurable: true, writable: true, value: [] }), Object.defineProperty(this, 'options', { enumerable: true, configurable: true, writable: true, value: { maxConcurrent: 3, maxQueueLength: 1 / 0, defaultRetryDelay: 1e3, laneConfig: {} } }), Object.defineProperty(this, 'running', { enumerable: true, configurable: true, writable: true, value: new Map() }), Object.defineProperty(this, 'laneRunningCount', { enumerable: true, configurable: true, writable: true, value: new Map() }), this.options = { ...this.options, ...e }, Object.keys(this.options.laneConfig).forEach((t) => { this.laneRunningCount.set(t, 0) }) } get length() { return this.queue.length } get runningCount() { return this.running.size } async add(e, t = {}) {
          if (this.queue.length >= this.options.maxQueueLength)
            throw new ae.QueueFull(); if (t.id && this.get(t.id))
            throw new ae.TaskExist(); let n, o; const a = new Promise((s, l) => { n = s, o = l }); const i = { execute: e, promise: a, priority: t.priority || 0, resolve: n, reject: o, timeout: t.timeout, retries: t.retries || 0, id: t.id || Math.random().toString(36).substr(2, 9), lane: t.lane, status: F.Pending, immediate: t.immediate, action: t.action }; return i.lane && this.isPaused(i.lane) && (i.status = F.Paused), i.action === 'push' ? this.queue.push(i) : this.queue.unshift(i), this.sort(), i.immediate && this.processQueue(), i.promise
        }

        pause(e) { this.running.forEach((t) => { (!e || t.id === e || t.lane === e) && (t.status = F.Paused) }), this.queue.forEach((t) => { (!e || t.id === e || t.lane === e) && (t.status = F.Paused) }) }resume(e) { this.queue.forEach((t) => { (!e || t.id === e || t.lane === e) && t.status === F.Paused && (t.status = F.Pending) }), this.sort(), this.processQueue() }cancel(e) { this.queue = this.queue.filter(t => t.id === e || t.lane === e ? (t.status = F.Cancelled, t.reject(new ae.TaskCancelled()), false) : true), this.running.forEach((t, n) => { (t.id === e || t.lane === e) && (t.status = F.Cancelled, t.reject(new ae.TaskCancelled()), this.running.delete(n), t.lane && this.decrementLaneRunningCount(t.lane)) }) }remove(e) { this.cancel(e), this.queue = this.queue.filter(t => t.id !== e && t.lane !== e) }retry(e, t) { const n = []; this.queue.forEach((o) => { (o.id === e || o.lane === e) && o.status === F.Failed && (o.retries = t ?? o.retries, o.status = F.Pending, n.push(o)) }), n.forEach((o) => { this.queue.push(o) }), this.processQueue() }isPaused(e) { return !!this.queue.some(t => t.lane === e && t.status === F.Paused) }isPending(e) { return !!this.queue.some(t => t.lane === e && t.status === F.Pending) }getStatus() { const e = {}; return this.laneRunningCount.forEach((t, n) => { let o; e[n] = { running: t, maxConcurrent: ((o = this.options.laneConfig[n]) == null ? undefined : o.maxConcurrent) || 0 } }), { queueLength: this.queue.length, runningCount: this.running.size, maxConcurrent: this.options.maxConcurrent, lanes: e, tasks: { pending: this.queue.filter(t => t.status === 'pending').length, running: this.running.size, paused: this.queue.filter(t => t.status === 'paused').length, failed: this.queue.filter(t => t.status === 'failed').length, completed: this.queue.filter(t => t.status === 'completed').length, cancelled: this.queue.filter(t => t.status === 'cancelled').length } } }get(e) { return this.queue.find(t => t.id === e || t.lane === e) ?? this.running.get(e) }hasRunning() { return this.running.size > 0 }getLaneStatus(e) { const t = this.options.laneConfig[e]; const n = this.getLaneRunningCount(e); return { name: e, running: n, maxConcurrent: (t == null ? undefined : t.maxConcurrent) || 0, priority: (t == null ? undefined : t.priority) || 0, hasConfig: !!t } }tryOvertaking(e, t, n) { const o = this.get(e); return o && (o.status === F.Pending || o.status === F.Running || o.status === F.Paused) ? (o.lane = t, o.priority = n ?? o.priority, this.sort(), this.processQueue(), true) : false }tryResume(e) { const t = this.get(e); return t && t.status === F.Paused ? (this.resume(e), true) : false }setLaneConfig(e, t) { const n = this.options.laneConfig[e] || { name: e, priority: 0, maxConcurrent: this.options.maxConcurrent }; this.options.laneConfig[e] = { ...n, ...t }, this.laneRunningCount.has(e) || this.laneRunningCount.set(e, 0), this.sort(), this.processQueue() } async waitIdle(e = 100) { this.hasRunning() && (await new Promise(t => setTimeout(t, e)), await this.waitIdle()) } async waitLaneIdle(e, t = 100) { this.getLaneRunningCount(e) !== 0 && (await new Promise(n => setTimeout(n, t)), await this.waitLaneIdle(e, t)) }clear() { this.queue.forEach((e) => { e.status = F.Cancelled, e.reject(new ae.QueueCleared()) }), this.queue = [], this.running.clear(), this.laneRunningCount.clear(), Object.keys(this.options.laneConfig).forEach((e) => { this.laneRunningCount.set(e, 0) }) }incrementLaneRunningCount(e) { const t = this.laneRunningCount.get(e) || 0; this.laneRunningCount.set(e, t + 1) }decrementLaneRunningCount(e) { const t = this.laneRunningCount.get(e) || 0; t > 0 && this.laneRunningCount.set(e, t - 1) }getLaneRunningCount(e) { return this.laneRunningCount.get(e) || 0 }canLaneRunMoreTasks(e) { const t = this.options.laneConfig[e]; return t ? this.getLaneRunningCount(e) < t.maxConcurrent : true } async processQueue() {
          if (this.running.size >= this.options.maxConcurrent)
            return; const e = this.queue.find(t => !(t.status !== F.Pending || this.isPaused(t.id) || t.lane && !this.canLaneRunMoreTasks(t.lane))); if (e) {
            this.running.set(e.id, e), e.status = F.Running, e.lane && this.incrementLaneRunningCount(e.lane); try { let t; const n = async () => { if (e.timeout) { const a = new Promise((i, s) => { t = window.setTimeout(() => { console.warn('Task timeout', e.id), s(new ae.TaskTimeout()) }, e.timeout) }); return Promise.race([e.execute(), a]) } return e.execute() }; const o = await this.executeWithRetry(n, e.retries || 0, e); t && clearTimeout(t), e.status = F.Completed, e.resolve(o) }
            catch (t) { e.status = F.Failed, e.reject(t) }
            finally { this.running.delete(e.id), e.lane && this.decrementLaneRunningCount(e.lane), this.processQueue() }
          }
        }

        async executeWithRetry(e, t, n) {
          try { return await e() }
          catch (o) {
            if (t > 0 && n.status !== 'cancelled')
              return console.warn('Task retry', n.id), await new Promise(a => setTimeout(a, this.options.defaultRetryDelay)), this.executeWithRetry(e, t - 1, n); throw o
          }
        }

        sort() { this.queue.sort((e, t) => { let a, i; const n = e.lane && ((a = this.options.laneConfig[e.lane]) == null ? undefined : a.priority) || 0; const o = t.lane && ((i = this.options.laneConfig[t.lane]) == null ? undefined : i.priority) || 0; return n !== o ? n - o : e.priority - t.priority }) }
      } exports('D', Dc); const Rc = 720; const Uc = 720; const Re = new Dc({ maxConcurrent: 3 }); function jc(r) { return `cover_${r.sha1}_${r.pickCode}_${r.coverNum}_${r.duration}` } const xo = (r, e) => `${r}_${e}`; function Bc(r, e) { const t = r / 5; const n = t; const a = r - t - n; return Array.from({ length: e }, (i, s) => Math.floor(n + a / e * s)) } function ko(r) { return { img: URL.createObjectURL(r.blob), ...r } } async function zc(r, e) {
        const t = await r.seek(e, true); if (!t)
          throw new Error('no clipper result'); const n = qn(t.videoFrame.displayWidth, t.videoFrame.displayHeight, Rc, Uc); const o = new OffscreenCanvas(n.width, n.height); const a = o.getContext('2d'); if (!a)
          throw new Error('no canvas context'); a.drawImage(await createImageBitmap(t.videoFrame, { resizeQuality: 'pixelated', resizeWidth: n.width, resizeHeight: n.height }), 0, 0, n.width, n.height); const i = await o.convertToBlob({ type: 'image/webp', quality: 0.85 }); return t.videoFrame.close(), { blob: i, width: n.width, height: n.height, frameTime: t.frameTime, seekTime: e }
      } async function $c(r, e) {
        const t = []; for (const n of e) {
          const o = xo(r, n); const a = await Hn.get(o); if (!a)
            return []; const i = a.value; t.push(ko(i))
        } return t
      } async function Fc(r, e, t) {
        const o = (await br.getM3u8(e)).sort((s, l) => s.quality - l.quality)[0]; if (!o)
          throw new Error('source is null'); const a = new Mc({ url: o.url }); await a.open(); const i = t.map(async (s) => { const l = xo(r, s); const c = await zc(a, s); return Hn.set(l, c), ko(c) }); return Promise.all(i)
      } function Hc(r) { r.forEach((e) => { e.startsWith('blob:') && URL.revokeObjectURL(e) }) } function qc(r, e) {
        const t = reactive({ isReady: false, isLoading: false, error: undefined, state: [] }); const n = jc(r.value); const o = Bc(r.value.duration, r.value.coverNum); const a = eo(e.elementRef, { threshold: e.threshold ?? 0, rootMargin: e.rootMargin ?? '0%', scrollTarget: e.scrollTarget }); const i = (d, p, h, b) => Re.add(() => Fc(p, h, b), { id: d, immediate: true }); const s = () => { const d = Re.get(n); d && d.status === F.Pending && Re.cancel(n) }; const l = async (d, p) => {
          if (!(t.isReady || t.error || Re.get(d))) {
            t.isLoading = true; try { const b = await i(d, p.sha1, p.pickCode, o); t.state = b, t.isReady = !0 }
            catch (b) {
              if (b instanceof ae.TaskCancelled)
                return; if (b instanceof mr.NotFoundM3u8File) { t.error = Bn.CANNOT_VIDEO_COVER_WITHOUT_TRANSCODING; return }t.error = b
            }
            finally { t.isLoading = false }
          }
        }; const c = async (d) => {
          if (!(t.isReady || t.error)) {
            t.isLoading = true; try { const p = await $c(d.sha1, o); p.length > 0 && (t.state = p, t.isLoading = !1, t.isReady = !0) }
            catch (p) { t.error = p }
            finally { t.isLoading = false }
          }
        }; const { isScrolling: u } = $i(e.scrollTarget, { throttle: 16.666666666666668, idle: 100, onStop: async () => { a.value && (await c(r.value), l(n, r.value)) } }); return watch(a, async (d) => { d ? u.value ? c(r.value) : (await c(r.value), l(n, r.value)) : s() }), onUnmounted(() => { Re.remove(n), Hc(t.state.map(d => d == null ? undefined : d.img).filter(d => d !== undefined)) }), { videoCover: t }
      } const Vc = ['id']; const Gc = ['onClick']; const Qc = ['src', 'alt']; const Yc = 5; const Kc = defineComponent({ __name: 'index', props: { pickCode: {}, sha1: {}, duration: {}, listScrollBoxNode: {} }, setup(r) { const e = r; const t = { container: { main: 'w-full max-w-214 px-20 h-24 [content-visibility:auto]', content: 'relative h-full flex items-center bg-base-300 rounded overflow-hidden' }, states: { error: 'flex items-center justify-center flex-1' }, skeleton: 'skeleton w-full h-full rounded', cover: { container: ['w-full h-full flex overflow-hidden select-none overflow-hidden'], thumbItem: ['h-full aspect-video', 'overflow-hidden', 'cursor-zoom-in no-underline', 'hover:opacity-90 transition-opacity'], thumbImage: ['h-full w-full object-contain object-center align-top'] } }; const n = ref(); const o = ref(null); const a = computed(() => e.listScrollBoxNode); const i = computed(() => ({ sha1: e.sha1, pickCode: e.pickCode, coverNum: Yc, duration: Number(e.duration) })); const s = { elementRef: n, scrollTarget: a }; const { videoCover: l } = qc(i, s); function c() { o.value && (o.value.destroy(), o.value = null), o.value = new oa({ dataSource: l.state.map(d => ({ src: d.img, width: d.width, height: d.height, alt: '视频封面' })), showHideAnimationType: 'fade', pswpModule: () => fo(() => module.import('photoswipe'), void 0), mouseMovePan: true, initialZoomLevel: 'fit', secondaryZoomLevel: 2, maxZoomLevel: 4, wheelToZoom: true, bgOpacity: 0.9 }), o.value.init() } function u(d) { !o.value || !l.isReady || o.value.loadAndOpen(d) } return watch(() => l.isReady, async (d) => { d && (await nextTick(), c()) }), onBeforeUnmount(() => { o.value && (o.value.destroy(), o.value = null) }), (d, p) => (openBlock(), createElementBlock('div', { ref_key: 'rootRef', ref: n, class: normalizeClass(t.container.main) }, [createElementVNode('div', { class: normalizeClass(t.container.content) }, [unref(l).error ? (openBlock(), createElementBlock('div', { key: 0, class: normalizeClass(t.states.error) }, [createVNode(_r, { size: 'mini', message: unref(l).error }, null, 8, ['message'])], 2)) : unref(l).isLoading ? (openBlock(), createElementBlock('div', { key: 1, class: normalizeClass(t.skeleton) }, null, 2)) : unref(l).isReady ? (openBlock(), createElementBlock('div', { key: 2, id: `gallery-${e.pickCode}`, class: normalizeClass(['pswp-gallery', t.cover.container]) }, [(openBlock(true), createElementBlock(Fragment, null, renderList(unref(l).state, (h, b) => (openBlock(), createElementBlock('a', { key: b, class: normalizeClass([t.cover.thumbItem]), onClick: withModifiers(w => u(b), ['prevent', 'stop']) }, [createElementVNode('img', { src: h.img, alt: `视频封面 ${b + 1}`, class: normalizeClass(t.cover.thumbImage) }, null, 10, Qc)], 10, Gc))), 128))], 10, Vc)) : createCommentVNode('', true)], 2)], 2)) } }); class Wc extends Te {
        constructor() { super(...arguments), Object.defineProperty(this, 'ENABLE_KEY_IN_USER_SETTING', { enumerable: true, configurable: true, writable: true, value: 'enableFilelistPreview' }), Object.defineProperty(this, 'vueApp', { enumerable: true, configurable: true, writable: true, value: null }) }onLoad() {
          if (this.itemInfo.fileListType === ge.grid || (this.itemInfo.avNumber, this.itemInfo.attributes.iv !== fe.Yes))
            return; this.itemNode.classList.add('with-ext-video-cover'); const e = document.createElement('div'); e.style.width = '100%', this.itemNode.append(e); const t = e.attachShadow({ mode: 'open' }); const n = document.createElement('style'); n.textContent = gr, t.appendChild(n); const o = document.createElement('div'); o.className = 'ext-video-cover-root', o.setAttribute('data-theme', 'light'), t.appendChild(o); const a = createApp(Kc, { pickCode: this.itemInfo.attributes.pick_code, sha1: this.itemInfo.attributes.sha1, duration: String(this.itemInfo.duration), listScrollBoxNode: this.itemInfo.listScrollBoxNode }); a.mount(o), this.vueApp = a
        }

        onDestroy() { let e; (e = this.vueApp) == null || e.unmount() }
      } class Jc {constructor() { Object.defineProperty(this, 'scrollBox', { enumerable: true, configurable: true, writable: true, value: null }), Object.defineProperty(this, 'storage', { enumerable: true, configurable: true, writable: true, value: new Xc() }), Object.defineProperty(this, 'handleScroll', { enumerable: true, configurable: true, writable: true, value: throttle(() => { let t; const e = ((t = this.scrollBox) == null ? undefined : t.scrollTop) ?? 0; this.save(mt.FileMainReInstanceSetting, e) }, 16.666666666666668, { leading: true, trailing: true }) }) }clearAll() { this.storage.clear() }destroy() { let e; this.clearAll(), (e = this.scrollBox) == null || e.removeEventListener('scroll', this.handleScroll) }setScrollBox(e) { this.scrollBox && this.scrollBox.removeEventListener('scroll', this.handleScroll), this.scrollBox = e, this.restore(mt.FileMainReInstanceSetting, e), this.scrollBox.addEventListener('scroll', this.handleScroll) }save(e, t) { this.storage.set(e.cid.toString(), Number(e.offset), Number(e.limit), t) }restore(e, t) { const n = this.storage.get(e.cid.toString(), Number(e.offset), Number(e.limit)); return n && n > 0 ? (t.scrollTo({ top: n, behavior: 'instant' }), true) : false }} class Xc {constructor() { Object.defineProperty(this, 'STORAGE_KEY', { enumerable: true, configurable: true, writable: true, value: '115_master_file_list_scroll_history' }), Object.defineProperty(this, 'store', { enumerable: true, configurable: true, writable: true, value: window.sessionStorage }) } get storeData() { return JSON.parse(this.store.getItem(this.STORAGE_KEY) ?? '{}') } set storeData(e) { this.store.setItem(this.STORAGE_KEY, JSON.stringify(e)) }get(e, t, n) { return this.storeData[this.getDataKey(e, t, n)] ?? 0 }set(e, t, n, o) { const a = this.storeData; a[this.getDataKey(e, t, n)] = o, this.storeData = a }clear() { this.storeData = {} }getDataKey(e, t, n) { return `${e}-${t}-${n}` }} const Zc = [wl, Za, Wc, xl, ei, hi]; class eu extends hr {
        constructor() { super(), Object.defineProperty(this, 'itemModLoaderMaps', { enumerable: true, configurable: true, writable: true, value: new Map() }), Object.defineProperty(this, 'observerContent', { enumerable: true, configurable: true, writable: true, value: null }), Object.defineProperty(this, 'scrollHistory', { enumerable: true, configurable: true, writable: true, value: null }), this.init() } get dataListBoxNode() { return document.querySelector(mt.Main.CONFIG.DataListBox) } get listCellNode() { return document.querySelector('.list-cell') ?? null } get listContentsNode() { let e; return (e = this.listCellNode) == null ? undefined : e.querySelector('.list-contents') } get listThumbNode() { let e; return (e = this.listCellNode) == null ? undefined : e.querySelector('.list-thumb') } get listScrollBoxNode() { return this.listContentsNode ?? this.listThumbNode } get listType() { return this.listContentsNode ? ge.list : ge.grid } get itemNodes() { let e; return (e = this.listCellNode) == null ? undefined : e.querySelectorAll('li') }destroy() { let e, t; (e = this.observerContent) == null || e.disconnect(), this.destroyAllItemModLoader(), (t = this.scrollHistory) == null || t.destroy() } async init() { let e; this.updateItems(), this.scrollHistory = new Jc(), Pa() && this.scrollHistory.clearAll(), this.listScrollBoxNode && ((e = this.scrollHistory) == null || e.setScrollBox(this.listScrollBoxNode)), this.watchItemsChange() }watchItemsChange() {
          let e = null; if (e = new MutationObserver((t) => {
            let n; for (const o of t) {
              if (o.target.isSameNode(this.dataListBoxNode) && o.addedNodes.length > 0) { this.updateItems(), this.listScrollBoxNode && ((n = this.scrollHistory) == null || n.setScrollBox(this.listScrollBoxNode)); break }
            }
          }), !this.dataListBoxNode) { console.error('文件列表容器节点不存在, 无法监听文件列表变化'); return }e.observe(this.dataListBoxNode, { childList: true }), this.observerContent = e
        }

        updateItems() {
          const e = this.itemNodes; const t = new Set(e); if (t) {
            for (const n of t) {
              if (this.itemModLoaderMaps.has(n))
                continue; const o = new Ma(n, this.listType, this.listScrollBoxNode, Zc); o.load(), this.itemModLoaderMaps.set(n, o)
            } for (const [n, o] of this.itemModLoaderMaps.entries())t.has(n) || (o.destroy(), this.itemModLoaderMaps.delete(n))
          }
        }

        destroyAllItemModLoader() { this.itemModLoaderMaps.forEach((e) => { e.destroy() }), this.itemModLoaderMaps.clear() }
      }/**
        * (c) Iconify
        *
        * For the full copyright and license information, please view the license.txt
        * files at https://github.com/iconify/iconify
        *
        * Licensed under MIT.
        *
        * @license MIT
        * @version 3.0.0
        */const _o = Object.freeze({ left: 0, top: 0, width: 16, height: 16 }); const wt = Object.freeze({ rotate: 0, vFlip: false, hFlip: false }); const Xe = Object.freeze({ ..._o, ...wt }); const tr = Object.freeze({ ...Xe, body: '', hidden: false }); const tu = Object.freeze({ width: null, height: null }); const Ao = Object.freeze({ ...tu, ...wt }); function ru(r, e = 0) {
        const t = r.replace(/^-?[0-9.]*/, ''); function n(o) { for (;o < 0;)o += 4; return o % 4 } if (t === '') { const o = parseInt(r); return isNaN(o) ? 0 : n(o) }
        else if (t !== r) { let o = 0; switch (t) { case '%':o = 25; break; case 'deg':o = 90 } if (o) { let a = parseFloat(r.slice(0, r.length - t.length)); return isNaN(a) ? 0 : (a = a / o, a % 1 === 0 ? n(a) : 0) } } return e
      } const nu = /[\s,]+/; function ou(r, e) { e.split(nu).forEach((t) => { switch (t.trim()) { case 'horizontal':r.hFlip = true; break; case 'vertical':r.vFlip = true; break } }) } const Eo = { ...Ao, preserveAspectRatio: '' }; function fn(r) { const e = { ...Eo }; const t = (n, o) => r.getAttribute(n) || o; return e.width = t('width', null), e.height = t('height', null), e.rotate = ru(t('rotate', '')), ou(e, t('flip', '')), e.preserveAspectRatio = t('preserveAspectRatio', t('preserveaspectratio', '')), e } function au(r, e) {
        for (const t in Eo) {
          if (r[t] !== e[t])
            return true
        } return false
      } const Co = /^[a-z0-9]+(-[a-z0-9]+)*$/; const Ze = (r, e, t, n = '') => {
        const o = r.split(':'); if (r.slice(0, 1) === '@') {
          if (o.length < 2 || o.length > 3)
            return null; n = o.shift().slice(1)
        } if (o.length > 3 || !o.length)
          return null; if (o.length > 1) { const s = o.pop(); const l = o.pop(); const c = { provider: o.length > 0 ? o[0] : n, prefix: l, name: s }; return e && !pt(c) ? null : c } const a = o[0]; const i = a.split('-'); if (i.length > 1) { const s = { provider: n, prefix: i.shift(), name: i.join('-') }; return e && !pt(s) ? null : s } if (t && n === '') { const s = { provider: n, prefix: '', name: a }; return e && !pt(s, t) ? null : s } return null
      }; const pt = (r, e) => r ? !!((e && r.prefix === '' || r.prefix) && r.name) : false; function iu(r, e) { const t = {}; !r.hFlip != !e.hFlip && (t.hFlip = true), !r.vFlip != !e.vFlip && (t.vFlip = true); const n = ((r.rotate || 0) + (e.rotate || 0)) % 4; return n && (t.rotate = n), t } function mn(r, e) { const t = iu(r, e); for (const n in tr)n in wt ? n in r && !(n in t) && (t[n] = wt[n]) : n in e ? t[n] = e[n] : n in r && (t[n] = r[n]); return t } function su(r, e) {
        const t = r.icons; const n = r.aliases || Object.create(null); const o = Object.create(null); function a(i) {
          if (t[i])
            return o[i] = []; if (!(i in o)) { o[i] = null; const s = n[i] && n[i].parent; const l = s && a(s); l && (o[i] = [s].concat(l)) } return o[i]
        } return Object.keys(t).concat(Object.keys(n)).forEach(a), o
      } function lu(r, e, t) { const n = r.icons; const o = r.aliases || Object.create(null); let a = {}; function i(s) { a = mn(n[s] || o[s], a) } return i(e), t.forEach(i), mn(r, a) } function So(r, e) {
        const t = []; if (typeof r != 'object' || typeof r.icons != 'object')
          return t; Array.isArray(r.not_found) && r.not_found.forEach((o) => { e(o, null), t.push(o) }); const n = su(r); for (const o in n) { const a = n[o]; a && (e(o, lu(r, o, a)), t.push(o)) } return t
      } const cu = { provider: '', aliases: {}, not_found: {}, ..._o }; function Bt(r, e) {
        for (const t in e) {
          if (t in r && typeof r[t] != typeof e[t])
            return false
        } return true
      } function Io(r) {
        if (typeof r != 'object' || r === null)
          return null; const e = r; if (typeof e.prefix != 'string' || !r.icons || typeof r.icons != 'object' || !Bt(r, cu))
          return null; const t = e.icons; for (const o in t) {
          const a = t[o]; if (!o || typeof a.body != 'string' || !Bt(a, tr))
            return null
        } const n = e.aliases || Object.create(null); for (const o in n) {
          const a = n[o]; const i = a.parent; if (!o || typeof i != 'string' || !t[i] && !n[i] || !Bt(a, tr))
            return null
        } return e
      } const vt = Object.create(null); function uu(r, e) { return { provider: r, prefix: e, icons: Object.create(null), missing: new Set() } } function pe(r, e) { const t = vt[r] || (vt[r] = Object.create(null)); return t[e] || (t[e] = uu(r, e)) } function Po(r, e) { return Io(e) ? So(e, (t, n) => { n ? r.icons[t] = n : r.missing.add(t) }) : [] } function du(r, e, t) {
        try {
          if (typeof t.body == 'string')
            return r.icons[e] = { ...t }, !0
        }
        catch {} return false
      } function pu(r, e) { let t = []; return (typeof r == 'string' ? [r] : Object.keys(vt)).forEach((o) => { (typeof o == 'string' && typeof e == 'string' ? [e] : Object.keys(vt[o] || {})).forEach((i) => { const s = pe(o, i); t = t.concat(Object.keys(s.icons).map(l => `${(o !== '' ? `@${o}:` : '') + i}:${l}`)) }) }), t } let Qe = false; function To(r) { return typeof r == 'boolean' && (Qe = r), Qe } function Ye(r) { const e = typeof r == 'string' ? Ze(r, true, Qe) : r; if (e) { const t = pe(e.provider, e.prefix); const n = e.name; return t.icons[n] || (t.missing.has(n) ? null : undefined) } } function Oo(r, e) {
        const t = Ze(r, true, Qe); if (!t)
          return false; const n = pe(t.provider, t.prefix); return e ? du(n, t.name, e) : (n.missing.add(t.name), true)
      } function bn(r, e) {
        if (typeof r != 'object')
          return false; if (typeof e != 'string' && (e = r.provider || ''), Qe && !e && !r.prefix) { let o = false; return Io(r) && (r.prefix = '', So(r, (a, i) => { Oo(a, i) && (o = true) })), o } const t = r.prefix; if (!pt({ prefix: t, name: 'a' }))
          return false; const n = pe(e, t); return !!Po(n, r)
      } function hu(r) { return !!Ye(r) } function fu(r) { const e = Ye(r); return e && { ...Xe, ...e } } function mu(r) {
        const e = { loaded: [], missing: [], pending: [] }; const t = Object.create(null); r.sort((o, a) => o.provider !== a.provider ? o.provider.localeCompare(a.provider) : o.prefix !== a.prefix ? o.prefix.localeCompare(a.prefix) : o.name.localeCompare(a.name)); let n = { provider: '', prefix: '', name: '' }; return r.forEach((o) => {
          if (n.name === o.name && n.prefix === o.prefix && n.provider === o.provider)
            return; n = o; const a = o.provider; const i = o.prefix; const s = o.name; const l = t[a] || (t[a] = Object.create(null)); const c = l[i] || (l[i] = pe(a, i)); let u; s in c.icons ? u = e.loaded : i === '' || c.missing.has(s) ? u = e.missing : u = e.pending; const d = { provider: a, prefix: i, name: s }; u.push(d)
        }), e
      } function Lo(r, e) { r.forEach((t) => { const n = t.loaderCallbacks; n && (t.loaderCallbacks = n.filter(o => o.id !== e)) }) } function bu(r) {
        r.pendingCallbacksFlag || (r.pendingCallbacksFlag = true, setTimeout(() => {
          r.pendingCallbacksFlag = false; const e = r.loaderCallbacks ? r.loaderCallbacks.slice(0) : []; if (!e.length)
            return; let t = false; const n = r.provider; const o = r.prefix; e.forEach((a) => {
            const i = a.icons; const s = i.pending.length; i.pending = i.pending.filter((l) => {
              if (l.prefix !== o)
                return true; const c = l.name; if (r.icons[c])
                i.loaded.push({ provider: n, prefix: o, name: c }); else if (r.missing.has(c))
                i.missing.push({ provider: n, prefix: o, name: c }); else return t = true, true; return false
            }), i.pending.length !== s && (t || Lo([r], a.id), a.callback(i.loaded.slice(0), i.missing.slice(0), i.pending.slice(0), a.abort))
          })
        }))
      } let gu = 0; function wu(r, e, t) {
        const n = gu++; const o = Lo.bind(null, t, n); if (!e.pending.length)
          return o; const a = { id: n, icons: e, callback: r, abort: o }; return t.forEach((i) => { (i.loaderCallbacks || (i.loaderCallbacks = [])).push(a) }), o
      } const rr = Object.create(null); function gn(r, e) { rr[r] = e } function nr(r) { return rr[r] || rr[''] } function vu(r, e = true, t = false) { const n = []; return r.forEach((o) => { const a = typeof o == 'string' ? Ze(o, e, t) : o; a && n.push(a) }), n } const yu = { resources: [], index: 0, timeout: 2e3, rotate: 750, random: false, dataAfterTimeout: false }; function xu(r, e, t, n) {
        const o = r.resources.length; const a = r.random ? Math.floor(Math.random() * o) : r.index; let i; if (r.random) { let y = r.resources.slice(0); for (i = []; y.length > 1;) { const m = Math.floor(Math.random() * y.length); i.push(y[m]), y = y.slice(0, m).concat(y.slice(m + 1)) }i = i.concat(y) }
        else {
          i = r.resources.slice(a).concat(r.resources.slice(0, a))
        } const s = Date.now(); let l = 'pending'; let c = 0; let u; let d = null; let p = []; let h = []; typeof n == 'function' && h.push(n); function b() { d && (clearTimeout(d), d = null) } function w() { l === 'pending' && (l = 'aborted'), b(), p.forEach((y) => { y.status === 'pending' && (y.status = 'aborted') }), p = [] } function f(y, m) { m && (h = []), typeof y == 'function' && h.push(y) } function g() { return { startTime: s, payload: e, status: l, queriesSent: c, queriesPending: p.length, subscribe: f, abort: w } } function v() { l = 'failed', h.forEach((y) => { y(undefined, u) }) } function _() { p.forEach((y) => { y.status === 'pending' && (y.status = 'aborted') }), p = [] } function E(y, m, x) {
          const I = m !== 'success'; switch (p = p.filter(T => T !== y), l) {
            case 'pending':break; case 'failed':if (I || !r.dataAfterTimeout)
              return; break; default:return
          } if (m === 'abort') { u = x, v(); return } if (I) { u = x, p.length || (i.length ? U() : v()); return } if (b(), _(), !r.random) { const T = r.resources.indexOf(y.resource); T !== -1 && T !== r.index && (r.index = T) }l = 'completed', h.forEach((T) => { T(x) })
        } function U() {
          if (l !== 'pending')
            return; b(); const y = i.shift(); if (y === undefined) { if (p.length) { d = setTimeout(() => { b(), l === 'pending' && (_(), v()) }, r.timeout); return }v(); return } const m = { status: 'pending', resource: y, callback: (x, I) => { E(m, x, I) } }; p.push(m), c++, d = setTimeout(U, r.rotate), t(y, e, m.callback)
        } return setTimeout(U), g
      } function No(r) { const e = { ...yu, ...r }; let t = []; function n() { t = t.filter(s => s().status === 'pending') } function o(s, l, c) { const u = xu(e, s, l, (d, p) => { n(), c && c(d, p) }); return t.push(u), u } function a(s) { return t.find(l => s(l)) || null } return { query: o, find: a, setIndex: (s) => { e.index = s }, getIndex: () => e.index, cleanup: n } } function Ar(r) {
        let e; if (typeof r.resources == 'string')
          e = [r.resources]; else if (e = r.resources, !(Array.isArray(e)) || !e.length)
          return null; return { resources: e, path: r.path || '/', maxURL: r.maxURL || 500, rotate: r.rotate || 750, timeout: r.timeout || 5e3, random: r.random === true, index: r.index || 0, dataAfterTimeout: r.dataAfterTimeout !== false }
      } const Tt = Object.create(null); const Ue = ['https://api.simplesvg.com', 'https://api.unisvg.com']; const ht = []; for (;Ue.length > 0;)Ue.length === 1 || Math.random() > 0.5 ? ht.push(Ue.shift()) : ht.push(Ue.pop()); Tt[''] = Ar({ resources: ['https://api.iconify.design'].concat(ht) }); function wn(r, e) { const t = Ar(e); return t === null ? false : (Tt[r] = t, true) } function Ot(r) { return Tt[r] } function ku() { return Object.keys(Tt) } function vn() {} const zt = Object.create(null); function _u(r) {
        if (!zt[r]) {
          const e = Ot(r); if (!e)
            return; const t = No(e); const n = { config: e, redundancy: t }; zt[r] = n
        } return zt[r]
      } function Mo(r, e, t) {
        let n, o; if (typeof r == 'string') {
          const a = nr(r); if (!a)
            return t(undefined, 424), vn; o = a.send; const i = _u(r); i && (n = i.redundancy)
        }
        else { const a = Ar(r); if (a) { n = No(a); const i = r.resources ? r.resources[0] : ''; const s = nr(i); s && (o = s.send) } } return !n || !o ? (t(undefined, 424), vn) : n.query(e, o, t)().abort
      } function yn() {} function Au(r) { r.iconsLoaderFlag || (r.iconsLoaderFlag = true, setTimeout(() => { r.iconsLoaderFlag = false, bu(r) })) } function Eu(r) { const e = []; const t = []; return r.forEach((n) => { (n.match(Co) ? e : t).push(n) }), { valid: e, invalid: t } } function je(r, e, t) {
        function n() { const o = r.pendingIcons; e.forEach((a) => { o && o.delete(a), r.icons[a] || r.missing.add(a) }) } if (t && typeof t == 'object') {
          try { if (!Po(r, t).length) { n(); return } }
          catch (o) { console.error(o) }
        }n(), Au(r)
      } function xn(r, e) { r instanceof Promise ? r.then((t) => { e(t) }).catch(() => { e(null) }) : e(r) } function Cu(r, e) {
        r.iconsToLoad ? r.iconsToLoad = r.iconsToLoad.concat(e).sort() : r.iconsToLoad = e, r.iconsQueueFlag || (r.iconsQueueFlag = true, setTimeout(() => {
          r.iconsQueueFlag = false; const { provider: t, prefix: n } = r; const o = r.iconsToLoad; if (delete r.iconsToLoad, !o || !o.length)
            return; const a = r.loadIcon; if (r.loadIcons && (o.length > 1 || !a)) { xn(r.loadIcons(o, n, t), (u) => { je(r, o, u) }); return } if (a) { o.forEach((u) => { const d = a(u, n, t); xn(d, (p) => { const h = p ? { prefix: n, icons: { [u]: p } } : null; je(r, [u], h) }) }); return } const { valid: i, invalid: s } = Eu(o); if (s.length && je(r, s, null), !i.length)
            return; const l = n.match(Co) ? nr(t) : null; if (!l) { je(r, i, null); return }l.prepare(t, n, i).forEach((u) => { Mo(t, u, (d) => { je(r, u.icons, d) }) })
        }))
      } const Er = (r, e) => {
        const t = vu(r, true, To()); const n = mu(t); if (!n.pending.length) { let l = true; return e && setTimeout(() => { l && e(n.loaded, n.missing, n.pending, yn) }), () => { l = false } } const o = Object.create(null); const a = []; let i, s; return n.pending.forEach((l) => {
          const { provider: c, prefix: u } = l; if (u === s && c === i)
            return; i = c, s = u, a.push(pe(c, u)); const d = o[c] || (o[c] = Object.create(null)); d[u] || (d[u] = [])
        }), n.pending.forEach((l) => { const { provider: c, prefix: u, name: d } = l; const p = pe(c, u); const h = p.pendingIcons || (p.pendingIcons = new Set()); h.has(d) || (h.add(d), o[c][u].push(d)) }), a.forEach((l) => { const c = o[l.provider][l.prefix]; c.length && Cu(l, c) }), e ? wu(e, n, a) : yn
      }; const Su = r => new Promise((e, t) => { const n = typeof r == 'string' ? Ze(r, true) : r; if (!n) { t(r); return }Er([n || r], (o) => { if (o.length && n) { const a = Ye(n); if (a) { e({ ...Xe, ...a }); return } }t(r) }) }); function kn(r) {
        try {
          const e = typeof r == 'string' ? JSON.parse(r) : r; if (typeof e.body == 'string')
            return { ...e }
        }
        catch {}
      } function Iu(r, e) {
        if (typeof r == 'object')
          return { data: kn(r), value: r }; if (typeof r != 'string')
          return { value: r }; if (r.includes('{')) {
          const a = kn(r); if (a)
            return { data: a, value: r }
        } const t = Ze(r, true, true); if (!t)
          return { value: r }; const n = Ye(t); if (n !== undefined || !t.prefix)
          return { value: r, name: t, data: n }; const o = Er([t], () => e(r, t, Ye(t))); return { value: r, name: t, loading: o }
      } let Do = false; try { Do = navigator.vendor.indexOf('Apple') === 0 }
      catch {} function Pu(r, e) { switch (e) { case 'svg':case 'bg':case 'mask':return e } return e !== 'style' && (Do || !r.includes('<a')) ? 'svg' : !r.includes('currentColor') ? 'bg' : 'mask' } const Tu = /(-?[0-9.]*\d[0-9.]*)/g; const Ou = /^-?\.*\d[\d.]*$/g; function or(r, e, t) {
        if (e === 1)
          return r; if (t = t || 100, typeof r == 'number')
          return Math.ceil(r * e * t) / t; if (typeof r != 'string')
          return r; const n = r.split(Tu); if (n === null || !n.length)
          return r; const o = []; let a = n.shift(); let i = Ou.test(a); for (;;) {
          if (i) { const s = parseFloat(a); isNaN(s) ? o.push(a) : o.push(Math.ceil(s * e * t) / t) }
          else {
            o.push(a)
          } if (a = n.shift(), a === undefined)
            return o.join(''); i = !i
        }
      } function Lu(r, e = 'defs') {
        let t = ''; const n = r.indexOf(`<${e}`); for (;n >= 0;) {
          const o = r.indexOf('>', n); const a = r.indexOf(`</${e}`); if (o === -1 || a === -1)
            break; const i = r.indexOf('>', a); if (i === -1)
            break; t += r.slice(o + 1, a).trim(), r = r.slice(0, n).trim() + r.slice(i + 1)
        } return { defs: t, content: r }
      } function Nu(r, e) { return r ? `<defs>${r}</defs>${e}` : e } function Mu(r, e, t) { const n = Lu(r); return Nu(n.defs, e + n.content + t) } const Du = r => r === 'unset' || r === 'undefined' || r === 'none'; function Ro(r, e) { const t = { ...Xe, ...r }; const n = { ...Ao, ...e }; const o = { left: t.left, top: t.top, width: t.width, height: t.height }; let a = t.body; [t, n].forEach((w) => { const f = []; const g = w.hFlip; const v = w.vFlip; let _ = w.rotate; g ? v ? _ += 2 : (f.push(`translate(${(o.width + o.left).toString()} ${(0 - o.top).toString()})`), f.push('scale(-1 1)'), o.top = o.left = 0) : v && (f.push(`translate(${(0 - o.left).toString()} ${(o.height + o.top).toString()})`), f.push('scale(1 -1)'), o.top = o.left = 0); let E; switch (_ < 0 && (_ -= Math.floor(_ / 4) * 4), _ = _ % 4, _) { case 1:E = o.height / 2 + o.top, f.unshift(`rotate(90 ${E.toString()} ${E.toString()})`); break; case 2:f.unshift(`rotate(180 ${(o.width / 2 + o.left).toString()} ${(o.height / 2 + o.top).toString()})`); break; case 3:E = o.width / 2 + o.left, f.unshift(`rotate(-90 ${E.toString()} ${E.toString()})`); break }_ % 2 === 1 && (o.left !== o.top && (E = o.left, o.left = o.top, o.top = E), o.width !== o.height && (E = o.width, o.width = o.height, o.height = E)), f.length && (a = Mu(a, `<g transform="${f.join(' ')}">`, '</g>')) }); const i = n.width; const s = n.height; const l = o.width; const c = o.height; let u, d; i === null ? (d = s === null ? '1em' : s === 'auto' ? c : s, u = or(d, l / c)) : (u = i === 'auto' ? l : i, d = s === null ? or(u, c / l) : s === 'auto' ? c : s); const p = {}; const h = (w, f) => { Du(f) || (p[w] = f.toString()) }; h('width', u), h('height', d); const b = [o.left, o.top, l, c]; return p.viewBox = b.join(' '), { attributes: p, viewBox: b, body: a } } function Cr(r, e) { let t = !r.includes('xlink:') ? '' : ' xmlns:xlink="http://www.w3.org/1999/xlink"'; for (const n in e)t += ` ${n}="${e[n]}"`; return `<svg xmlns="http://www.w3.org/2000/svg"${t}>${r}</svg>` } function Ru(r) { return r.replace(/"/g, '\'').replace(/%/g, '%25').replace(/#/g, '%23').replace(/</g, '%3C').replace(/>/g, '%3E').replace(/\s+/g, ' ') } function Uu(r) { return `data:image/svg+xml,${Ru(r)}` } function Uo(r) { return `url("${Uu(r)}")` } const ju = () => {
        let r; try {
          if (r = fetch, typeof r == 'function')
            return r
        }
        catch {}
      }; let yt = ju(); function Bu(r) { yt = r } function zu() { return yt } function $u(r, e) {
        const t = Ot(r); if (!t)
          return 0; let n; if (!t.maxURL) {
          n = 0
        }
        else { let o = 0; t.resources.forEach((i) => { o = Math.max(o, i.length) }); const a = `${e}.json?icons=`; n = t.maxURL - o - t.path.length - a.length } return n
      } function Fu(r) { return r === 404 } const Hu = (r, e, t) => { const n = []; const o = $u(r, e); const a = 'icons'; let i = { type: a, provider: r, prefix: e, icons: [] }; let s = 0; return t.forEach((l, c) => { s += l.length + 1, s >= o && c > 0 && (n.push(i), i = { type: a, provider: r, prefix: e, icons: [] }, s = l.length), i.icons.push(l) }), n.push(i), n }; function qu(r) {
        if (typeof r == 'string') {
          const e = Ot(r); if (e)
            return e.path
        } return '/'
      } const Vu = (r, e, t) => { if (!yt) { t('abort', 424); return } let n = qu(e.provider); switch (e.type) { case 'icons':{ const a = e.prefix; const s = e.icons.join(','); const l = new URLSearchParams({ icons: s }); n += `${a}.json?${l.toString()}`; break } case 'custom':{ const a = e.uri; n += a.slice(0, 1) === '/' ? a.slice(1) : a; break } default:t('abort', 400); return } let o = 503; yt(r + n).then((a) => { const i = a.status; if (i !== 200) { setTimeout(() => { t(Fu(i) ? 'abort' : 'next', i) }); return } return o = 501, a.json() }).then((a) => { if (typeof a != 'object' || a === null) { setTimeout(() => { a === 404 ? t('abort', a) : t('next', o) }); return }setTimeout(() => { t('success', a) }) }).catch(() => { t('next', o) }) }; const Gu = { prepare: Hu, send: Vu }; function Qu(r, e, t) { pe(t || '', e).loadIcons = r } function Yu(r, e, t) { pe(t || '', e).loadIcon = r } const $t = 'data-style'; let jo = ''; function Ku(r) { jo = r } function _n(r, e) { let t = Array.from(r.childNodes).find(n => n.hasAttribute && n.hasAttribute($t)); t || (t = document.createElement('style'), t.setAttribute($t, $t), r.appendChild(t)), t.textContent = `:host{display:inline-block;vertical-align:${e ? '-0.125em' : '0'}}span,svg{display:block;margin:auto}${jo}` } function Bo() {
        gn('', Gu), To(true); let r; try { r = window }
        catch {} if (r) {
          if (r.IconifyPreload !== undefined) {
            const t = r.IconifyPreload; const n = 'Invalid IconifyPreload syntax.'; typeof t == 'object' && t !== null && (Array.isArray(t) ? t : [t]).forEach((o) => {
              try { (typeof o != 'object' || o === null || Array.isArray(o) || typeof o.icons != 'object' || typeof o.prefix != 'string' || !bn(o)) && console.error(n) }
              catch { console.error(n) }
            })
          } if (r.IconifyProviders !== undefined) {
            const t = r.IconifyProviders; if (typeof t == 'object' && t !== null) {
              for (const n in t) {
                const o = `IconifyProviders[${n}] is invalid.`; try {
                  const a = t[n]; if (typeof a != 'object' || !a || a.resources === void 0)
                    continue; wn(n, a) || console.error(o)
                }
                catch { console.error(o) }
              }
            }
          }
        } return { iconLoaded: hu, getIcon: fu, listIcons: pu, addIcon: Oo, addCollection: bn, calculateSize: or, buildIcon: Ro, iconToHTML: Cr, svgToURL: Uo, loadIcons: Er, loadIcon: Su, addAPIProvider: wn, setCustomIconLoader: Yu, setCustomIconsLoader: Qu, appendCustomStyle: Ku, _api: { getAPIConfig: Ot, setAPIModule: gn, sendAPIQuery: Mo, setFetch: Bu, getFetch: zu, listAPIProviders: ku } }
      } const ar = { 'background-color': 'currentColor' }; const zo = { 'background-color': 'transparent' }; const An = { image: 'var(--svg)', repeat: 'no-repeat', size: '100% 100%' }; const En = { '-webkit-mask': ar, 'mask': ar, 'background': zo }; for (const r in En) { const e = En[r]; for (const t in An)e[`${r}-${t}`] = An[t] } function Cn(r) { return r ? r + (r.match(/^[-0-9.]+$/) ? 'px' : '') : 'inherit' } function Wu(r, e, t) { const n = document.createElement('span'); let o = r.body; o.includes('<a') && (o += `<!-- ${Date.now()} -->`); const a = r.attributes; const i = Cr(o, { ...a, width: `${e.width}`, height: `${e.height}` }); const s = Uo(i); const l = n.style; const c = { '--svg': s, 'width': Cn(a.width), 'height': Cn(a.height), ...t ? ar : zo }; for (const u in c)l.setProperty(u, c[u]); return n } let He; function Ju() {
        try { He = window.trustedTypes.createPolicy('iconify', { createHTML: r => r }) }
        catch { He = null }
      } function Xu(r) { return He === undefined && Ju(), He ? He.createHTML(r) : r } function Zu(r) { const e = document.createElement('span'); const t = r.attributes; let n = ''; t.width || (n = 'width: inherit;'), t.height || (n += 'height: inherit;'), n && (t.style = n); const o = Cr(r.body, t); return e.innerHTML = Xu(o), e.firstChild } function ir(r) { return Array.from(r.childNodes).find((e) => { const t = e.tagName && e.tagName.toUpperCase(); return t === 'SPAN' || t === 'SVG' }) } function Sn(r, e) { const t = e.icon.data; const n = e.customisations; const o = Ro(t, n); n.preserveAspectRatio && (o.attributes.preserveAspectRatio = n.preserveAspectRatio); const a = e.renderedMode; let i; switch (a) { case 'svg':i = Zu(o); break; default:i = Wu(o, { ...Xe, ...t }, a === 'mask') } const s = ir(r); s ? i.tagName === 'SPAN' && s.tagName === i.tagName ? s.setAttribute('style', i.getAttribute('style')) : r.replaceChild(i, s) : r.appendChild(i) } function In(r, e, t) { const n = t && (t.rendered ? t : t.lastRender); return { rendered: false, inline: e, icon: r, lastRender: n } } function ed(r = 'iconify-icon') {
        let e, t; try { e = window.customElements, t = window.HTMLElement }
        catch { return } if (!e || !t)
          return; const n = e.get(r); if (n)
          return n; const o = ['icon', 'mode', 'inline', 'noobserver', 'width', 'height', 'rotate', 'flip']; const a = class extends t {
          constructor() { super(); A(this, '_shadowRoot'); A(this, '_initialised', false); A(this, '_state'); A(this, '_checkQueued', false); A(this, '_connected', false); A(this, '_observer', null); A(this, '_visible', true); const l = this._shadowRoot = this.attachShadow({ mode: 'open' }); const c = this.hasAttribute('inline'); _n(l, c), this._state = In({ value: '' }, c), this._queueCheck() }connectedCallback() { this._connected = true, this.startObserver() }disconnectedCallback() { this._connected = false, this.stopObserver() } static get observedAttributes() { return o.slice(0) }attributeChangedCallback(l) { switch (l) { case 'inline':{ const c = this.hasAttribute('inline'); const u = this._state; c !== u.inline && (u.inline = c, _n(this._shadowRoot, c)); break } case 'noobserver':{ this.hasAttribute('noobserver') ? this.startObserver() : this.stopObserver(); break } default:this._queueCheck() } } get icon() {
            const l = this.getAttribute('icon'); if (l && l.slice(0, 1) === '{') {
              try { return JSON.parse(l) }
              catch {}
            } return l
          }

          set icon(l) { typeof l == 'object' && (l = JSON.stringify(l)), this.setAttribute('icon', l) } get inline() { return this.hasAttribute('inline') } set inline(l) { l ? this.setAttribute('inline', 'true') : this.removeAttribute('inline') } get observer() { return this.hasAttribute('observer') } set observer(l) { l ? this.setAttribute('observer', 'true') : this.removeAttribute('observer') }restartAnimation() {
            const l = this._state; if (l.rendered) {
              const c = this._shadowRoot; if (l.renderedMode === 'svg') {
                try { c.lastChild.setCurrentTime(0); return }
                catch {}
              }Sn(c, l)
            }
          }

          get status() { const l = this._state; return l.rendered ? 'rendered' : l.icon.data === null ? 'failed' : 'loading' }_queueCheck() { this._checkQueued || (this._checkQueued = true, setTimeout(() => { this._check() })) }_check() {
            if (!this._checkQueued)
              return; this._checkQueued = false; const l = this._state; const c = this.getAttribute('icon'); if (c !== l.icon.value) { this._iconChanged(c); return } if (!l.rendered || !this._visible)
              return; const u = this.getAttribute('mode'); const d = fn(this); (l.attrMode !== u || au(l.customisations, d) || !ir(this._shadowRoot)) && this._renderIcon(l.icon, d, u)
          }

          _iconChanged(l) {
            const c = Iu(l, (u, d, p) => {
              const h = this._state; if (h.rendered || this.getAttribute('icon') !== u)
                return; const b = { value: u, name: d, data: p }; b.data ? this._gotIconData(b) : h.icon = b
            }); c.data ? this._gotIconData(c) : this._state = In(c, this._state.inline, this._state)
          }

          _forceRender() { if (!this._visible) { const l = ir(this._shadowRoot); l && this._shadowRoot.removeChild(l); return } this._queueCheck() }_gotIconData(l) { this._checkQueued = false, this._renderIcon(l, fn(this), this.getAttribute('mode')) }_renderIcon(l, c, u) { const d = Pu(l.data.body, u); const p = this._state.inline; Sn(this._shadowRoot, this._state = { rendered: true, icon: l, inline: p, customisations: c, attrMode: u, renderedMode: d }) }startObserver() {
            if (!this._observer && !this.hasAttribute('noobserver')) {
              try { this._observer = new IntersectionObserver((l) => { const c = l.some(u => u.isIntersecting); c !== this._visible && (this._visible = c, this._forceRender()) }), this._observer.observe(this) }
              catch {
                if (this._observer) {
                  try { this._observer.disconnect() }
                  catch {} this._observer = null
                }
              }
            }
          }

          stopObserver() { this._observer && (this._observer.disconnect(), this._observer = null, this._visible = true, this._connected && this._forceRender()) }
        }; o.forEach((s) => { s in a.prototype || Object.defineProperty(a.prototype, s, { get() { return this.getAttribute(s) }, set(l) { l !== null ? this.setAttribute(s, l) : this.removeAttribute(s) } }) }); const i = Bo(); for (const s in i)a[s] = a.prototype[s] = i[s]; return e.define(r, a), a
      }ed() || Bo(); class td extends hr {
        constructor() { super(), Object.defineProperty(this, 'mutationObserver', { enumerable: true, configurable: true, writable: true, value: null }), Object.defineProperty(this, 'backButton', { enumerable: true, configurable: true, writable: true, value: null }), this.init() } get filePathBoxNode() { return document.querySelector('#js_top_header_file_path_box') } get topFilePathContainerNode() { return document.querySelector('.list-topheader .top-file-path') } get commonLittlePopNode() { let e; return (e = this.filePathBoxNode) == null ? undefined : e.querySelector('.common-little-pop') } get filePathNode() { let e; return (e = this.topFilePathContainerNode) == null ? undefined : e.querySelector('.file-path') } get readPathLinkNodes() { let e; return (e = this.filePathNode) == null ? undefined : e.querySelectorAll('a') } get hasSearchBackButton() { let e; return (e = this.topFilePathContainerNode) == null ? undefined : e.querySelector('[menu="back_search"]') }destroy() { let e, t; (e = this.mutationObserver) == null || e.disconnect(), (t = this.backButton) == null || t.remove() }readPaths() {
          const e = this.readPathLinkNodes; if (!e)
            return []; const t = e.length > 1; return Array.from(e).map((n) => { const o = n.getAttribute('titletext') ?? ''; const i = (n.getAttribute('cid') ?? '') === '0'; return t && i ? '' : o }).filter(n => n !== '')
        }

        setTopDocumentTitleWithPaths() { const e = this.readPaths(); const t = (e == null ? undefined : e.reverse().join(' < ')) ?? ''; top != null && top.document && t !== '' && (top.document.title = t) }addBackButton() { let e, t; this.topFilePathContainerNode && (this.backButton = document.createElement('a'), this.backButton.classList.add('master-back-button'), this.backButton.href = 'javascript:void(0)', this.backButton.innerHTML = '<iconify-icon icon="material-symbols:line-start-arrow-notch" noobserver></iconify-icon>返回目录', (e = this.topFilePathContainerNode) == null || e.before(this.backButton), this.commonLittlePopNode && (this.commonLittlePopNode.style.marginLeft = `${(t = this.filePathNode) == null ? undefined : t.getBoundingClientRect().left}px`), this.backButton.addEventListener('click', () => { let o; const n = (o = this.readPathLinkNodes) == null ? undefined : o[this.readPathLinkNodes.length - 2]; n && n.click() })) }removeBackButton() { let e; (e = this.backButton) == null || e.remove(), this.backButton = null, this.commonLittlePopNode && (this.commonLittlePopNode.style.marginLeft = '0') }controlBackButtonShow() { let t; (((t = this.readPathLinkNodes) == null ? undefined : t.length) ?? 0) <= 1 || this.hasSearchBackButton ? this.removeBackButton() : this.backButton || this.addBackButton() }watchPathsChange(e) { this.topFilePathContainerNode && (this.mutationObserver = new MutationObserver(e), this.mutationObserver.observe(this.topFilePathContainerNode, { childList: true, subtree: true })) }init() { defer(() => { this.setTopDocumentTitleWithPaths(), this.controlBackButtonShow(), this.watchPathsChange(() => { this.setTopDocumentTitleWithPaths(), this.controlBackButtonShow() }) }) }
      } class rd extends hr {
        constructor() { super(), this.init() } get topHeaderNode() { let e; return (e = document.querySelector(mt.Main.CONFIG.TopPanelBox)) == null ? undefined : e.firstElementChild }destroy() {}init() { !this.topHeaderNode || li((top == null ? undefined : top.window.location.search) ?? '').mode === 'search' || (this.deleteOfficialDownloadButton(), this.addMasterOfflineTaskButton(), this.addPreviewSwitchButton(), this.fixContextMenuPosition('upload_btn_add_dir'), this.fixContextMenuPosition('create_new_add_dir')) }deleteOfficialDownloadButton() { let t; const e = (t = this.topHeaderNode) == null ? undefined : t.querySelector('.button[menu=\'offline_task\']'); e && e.remove() }addMasterOfflineTaskButton() { let t; const e = this.createMasterOfflineTaskButton(); (t = this.topHeaderNode) == null || t.prepend(e) }createMasterOfflineTaskButton() {
          const e = document.createElement('a'); return e.classList.add('button', 'master-offline-task-btn'), e.href = 'javascript:void(0)', e.innerHTML = `
            <i class="icon-operate ifo-linktask"></i>
            <span>云下载</span>
        `, e.style.background = '#3a4783', e.style.borderColor = '#3a4783', e.onclick = () => { Rn() }, e
        }

        addPreviewSwitchButton() { let t; const e = this.createPreviewSwitchButton(); (t = this.topHeaderNode) == null || t.append(e) }createPreviewSwitchButton() {
          const e = Fe.value.enableFilelistPreview; const t = document.createElement('a'); return t.classList.add('button', 'btn-line', 'master-preview-switch-btn'), e && t.classList.add('active'), t.setAttribute('title', '开启文件预览'), t.href = 'javascript:void(0)', t.innerHTML = `
      <iconify-icon class="preview-off" icon="material-symbols:preview-off" noobserver></iconify-icon>
      <iconify-icon class="preview-on" icon="material-symbols:preview" noobserver></iconify-icon>
    `, t.onclick = () => { Fe.value.enableFilelistPreview = !Fe.value.enableFilelistPreview, t.classList.toggle('active') }, t
        }

        fixContextMenuPosition(e) {
          const t = document.querySelector(`[data-dropdown-tab="${e}"]`); const n = document.querySelector(`[data-dropdown-content="${e}"]`); if (!t || !n)
            return; const o = t.getBoundingClientRect(); n.style.left = `${o.left}px`
        }
      } class nd {constructor() { Object.defineProperty(this, 'modManager', { enumerable: true, configurable: true, writable: true, value: undefined }), this.init() }destroy() { let e; (e = this.modManager) == null || e.destroy() } async init() { va(), this.modManager = new _a([new eu(), new td(), new rd()]) }} function od() {
        document.body.style.backgroundColor = '#000', document.body.style.margin = '0', document.body.innerHTML = '<div id="my-app" data-theme="dark"></div>', document.title = '', Aa(`
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
      /* display: none !important; */
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.3);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: rgba(255, 255, 255, 0.3);
    }

    /* 隐藏滚动条 */
    :fullscreen html::-webkit-scrollbar,
    :fullscreen body::-webkit-scrollbar {
      width: 0 !important;
      height: 0 !important;
      display: none !important
    }
  `)
      } function Xd(r) { return new Promise((e, t) => { const n = document.createElement('iframe'); n.src = `${tt}/video/token`, n.style.display = 'none', window.addEventListener('message', (o) => { let a; o.origin === tt && o.data.event === 'ready' && ((a = n.contentWindow) == null || a.postMessage({ event: 'set-cookies', data: r }, tt)), o.origin === tt && o.data.event === 'set-cookies-callback' && (o.data.data ? t(o.data.data) : e('success'), n.remove()) }), document.body.appendChild(n) }) } function ad() { window.parent.postMessage({ event: 'ready' }, st), window.addEventListener('message', (r) => { r.origin === st && r.data.event === 'set-cookies' && Ea.set(r.data.data, (e) => { window.parent.postMessage({ event: 'set-cookies-callback', data: e }, st) }) }) } async function id() { od(); const r = document.createElement('style'); r.textContent = gr, r.dataset.v = 'style_css', document.head.append(r), createApp(defineAsyncComponent({ loader: () => fo(() => module.import('./index-DtIjkCro-BfrkqE9f.js'), void 0) })).mount('#my-app') } const sd = { class: 'popup-main' }; const ld = { class: 'popup-desc' }; const cd = { class: 'user-agent-box' }; const ud = defineComponent({ __name: 'index', props: { visible: { type: Boolean } }, emits: ['update:visible'], setup(r, { emit: e }) { const t = e; const n = ref(navigator.userAgent); function o() { t('update:visible', false) } return (a, i) => (openBlock(), createBlock(Teleport, { to: 'body' }, [a.visible ? (openBlock(), createElementBlock('div', { key: 0, class: 'user-agent-popup-overlay', onClick: o }, [createElementVNode('div', { class: 'user-agent-popup', onClick: i[0] || (i[0] = withModifiers(() => {}, ['stop'])) }, [createElementVNode('div', { class: 'user-agent-popup-header' }, [i[1] || (i[1] = createElementVNode('h3', null, '115Master 提示', -1)), createElementVNode('button', { class: 'close-button', onClick: o }, ' × ')]), createElementVNode('div', sd, [i[3] || (i[3] = createElementVNode('div', { class: 'popup-content' }, [createElementVNode('div', { class: 'content-icon' }, [createElementVNode('span', { class: 'number-icon' }, '1')]), createElementVNode('div', { class: 'content-text' }, [createElementVNode('p', null, '现在不需要 User-Agent Switcher and Manager 插件了'), createElementVNode('p', null, ' 快卸载掉他吧~ '), createElementVNode('p', null, ' 然后刷新下页面，复活我~ ')])], -1)), createElementVNode('div', ld, [i[2] || (i[2] = createElementVNode('p', null, '当前的 User-Agent', -1)), createElementVNode('div', cd, toDisplayString(n.value), 1)])])])])) : createCommentVNode('', true)])) } }); const dd = exports('d', (r, e) => { const t = r.__vccOpts || r; for (const [n, o] of e)t[n] = o; return t }); const pd = dd(ud, [['__scopeId', 'data-v-c7814357']]); function hd() { if (navigator.userAgent.includes('115Browser/27')) { const t = document.createElement('div'); document.body.appendChild(t); const n = createApp({ render() { return h(pd, { 'visible': true, 'onUpdate:visible': (o) => { o || setTimeout(() => { n.unmount(), document.body.removeChild(t) }, 300) } }) } }); throw n.mount(t), new Error('115Master脚本启动失败: 现在不需要修改【User-Agent】请删除插件~') } } class fd {
        constructor() { Object.defineProperty(this, 'Logger', { enumerable: true, configurable: true, writable: true, value: undefined }), this.Logger = new $n('115Master', 'DebugInfo') }bootstrapInfo() {
          this.Logger.log('bootstrap-info', `
${xe.script.name} 启动成功，喜欢这个脚本的话，帮我在主页点个 Star 吧！
版本: ${xe.script.version}
作者: ${xe.script.author}
描述: ${xe.script.description}
主页: ${xe.script.homepage}
开始执行脚本时间：${performance.now()} ms
refferer: ${window.location.href}
        `)
        }
      } const md = new fd(); md.bootstrapInfo(); hd(); ya(); const bd = [{ match: rt.HOME, exec: () => new nd() }, { match: rt.VIDEO, exec: () => id() }, { match: rt.VIDEO_TOKEN, exec: () => ad() }, { match: rt.MAGNET, exec: () => ka() }]; function Pn() { for (const r of bd)la(r.match).test(window.location.href) && r.exec() }document.readyState === 'complete' || document.readyState === 'interactive' ? Pn() : window.addEventListener('DOMContentLoaded', Pn)
    },
  }
})

System.register('./index-DtIjkCro-BfrkqE9f.js', ['vue', './__monkey.entry-DGdGATqE.js', 'lodash', 'hls.js', 'localforage', 'photoswipe/lightbox', 'blueimp-md5', 'big-integer', 'dayjs', 'm3u8-parser'], (exports, module) => {
  'use strict'
  let defineComponent, shallowRef, computed, watch, onMounted, onUnmounted, openBlock, createBlock, Teleport, createVNode, Transition, withCtx, withDirectives, createElementVNode, mergeProps, renderSlot, vShow, unref, normalizeClass, createElementBlock, Fragment, renderList, toDisplayString, createCommentVNode, ref, reactive, normalizeStyle, createTextVNode, vModelText, vModelCheckbox, withModifiers, watchEffect, nextTick, useTemplateRef, provide, inject, toValue, Mn$1, qi, zd, Ud, dd, ho$1, _r$1, $d, xe, Wd, Qd, fo$1, el$1, tl$1, Qs$1, qc, Vd, Yd, Kd, Gd, ri, vl$1, Ta, qd, Fd, qn$1, Li, br$1, Ai, ll$1, sl$1, Wr$1, jd, Fn$1, Ld, Pd, Td, Dc, Dd, Xd, Od, yl$1, Jd, jn$1, La, Hd, J, Bd, _i, se, Bn$1, Mc, Cd, ae, Id, Rd, Md, Nd, Oa, mt$1, shuffle, get, on, oa$1, Qo$1
  return {
    setters: [(module) => {
      defineComponent = module.defineComponent
      shallowRef = module.shallowRef
      computed = module.computed
      watch = module.watch
      onMounted = module.onMounted
      onUnmounted = module.onUnmounted
      openBlock = module.openBlock
      createBlock = module.createBlock
      Teleport = module.Teleport
      createVNode = module.createVNode
      Transition = module.Transition
      withCtx = module.withCtx
      withDirectives = module.withDirectives
      createElementVNode = module.createElementVNode
      mergeProps = module.mergeProps
      renderSlot = module.renderSlot
      vShow = module.vShow
      unref = module.unref
      normalizeClass = module.normalizeClass
      createElementBlock = module.createElementBlock
      Fragment = module.Fragment
      renderList = module.renderList
      toDisplayString = module.toDisplayString
      createCommentVNode = module.createCommentVNode
      ref = module.ref
      reactive = module.reactive
      normalizeStyle = module.normalizeStyle
      createTextVNode = module.createTextVNode
      vModelText = module.vModelText
      vModelCheckbox = module.vModelCheckbox
      withModifiers = module.withModifiers
      watchEffect = module.watchEffect
      nextTick = module.nextTick
      useTemplateRef = module.useTemplateRef
      provide = module.provide
      inject = module.inject
      toValue = module.toValue
    }, (module) => {
      Mn$1 = module.M
      qi = module.q
      zd = module.z
      Ud = module.U
      dd = module.d
      ho$1 = module.h
      _r$1 = module._
      $d = module.$
      xe = module.x
      Wd = module.W
      Qd = module.Q
      fo$1 = module.f
      el$1 = module.e
      tl$1 = module.t
      Qs$1 = module.a
      qc = module.b
      Vd = module.V
      Yd = module.Y
      Kd = module.K
      Gd = module.G
      ri = module.r
      vl$1 = module.v
      Ta = module.T
      qd = module.c
      Fd = module.F
      qn$1 = module.g
      Li = module.L
      br$1 = module.i
      Ai = module.A
      ll$1 = module.l
      sl$1 = module.s
      Wr$1 = module.j
      jd = module.k
      Fn$1 = module.m
      Ld = module.n
      Pd = module.P
      Td = module.o
      Dc = module.D
      Dd = module.p
      Xd = module.X
      Od = module.O
      yl$1 = module.y
      Jd = module.J
      jn$1 = module.u
      La = module.w
      Hd = module.H
      J = module.B
      Bd = module.C
      _i = module.E
      se = module.I
      Bn$1 = module.N
      Mc = module.R
      Cd = module.S
      ae = module.Z
      Id = module.a0
      Rd = module.a1
      Md = module.a2
      Nd = module.a3
      Oa = module.a4
      mt$1 = module.a5
    }, (module) => {
      shuffle = module.shuffle
      get = module.get
    }, (module) => {
      on = module.default
    }, null, (module) => {
      oa$1 = module.default
    }, (module) => {
      Qo$1 = module.default
    }, null, null, null],
    execute() {
      let Z; (function (s) { s.Native = 'Native', s.AvPlayer = 'AvPlayer', s.Hls = 'HLS.js' })(Z || (Z = {})); const ke = { exports: {} }; const Me = { exports: {} }; let Ee; let ft; function Jt() {
        if (ft)
          return Ee; ft = 1; const s = undefined; return Ee = function (e) { return e !== s && e !== null }, Ee
      } let Ae, mt; function cn() {
        if (mt)
          return Ae; mt = 1; const s = Jt(); const e = { object: true, function: true, undefined: true }; return Ae = function (t) { return s(t) ? hasOwnProperty.call(e, typeof t) : false }, Ae
      } let Le, vt; function dn() {
        if (vt)
          return Le; vt = 1; const s = cn(); return Le = function (e) {
          if (!s(e))
            return false; try { return e.constructor ? e.constructor.prototype === e : !1 }
          catch { return false }
        }, Le
      } let Fe, gt; function pn() {
        if (gt)
          return Fe; gt = 1; const s = dn(); return Fe = function (e) {
          if (typeof e != 'function' || !hasOwnProperty.call(e, 'length'))
            return false; try {
            if (typeof e.length != 'number' || typeof e.call != 'function' || typeof e.apply != 'function')
              return !1
          }
          catch { return false } return !s(e)
        }, Fe
      } let Oe, bt; function fn() {
        if (bt)
          return Oe; bt = 1; const s = pn(); const e = /^\s*class[\s{/}]/; const t = Function.prototype.toString; return Oe = function (n) { return !(!s(n) || e.test(t.call(n))) }, Oe
      } let Be, yt; function mn() { return yt || (yt = 1, Be = function () { const s = Object.assign; let e; return typeof s != 'function' ? false : (e = { foo: 'raz' }, s(e, { bar: 'dwa' }, { trzy: 'trzy' }), e.foo + e.bar + e.trzy === 'razdwatrzy') }), Be } let De, ht; function vn() {
        return ht || (ht = 1, De = function () {
          try { return Object.keys('primitive'), !0 }
          catch { return false }
        }), De
      } let Ve, wt; function gn() { return wt || (wt = 1, Ve = function () {}), Ve } let Ne, _t; function rt() {
        if (_t)
          return Ne; _t = 1; const s = gn()(); return Ne = function (e) { return e !== s && e !== null }, Ne
      } let Ue, xt; function bn() {
        if (xt)
          return Ue; xt = 1; const s = rt(); const e = Object.keys; return Ue = function (t) { return e(s(t) ? new Object(t) : t) }, Ue
      } let He, kt; function yn() { return kt || (kt = 1, He = vn()() ? Object.keys : bn()), He } let je, Ct; function hn() {
        if (Ct)
          return je; Ct = 1; const s = rt(); return je = function (e) {
          if (!s(e))
            throw new TypeError('Cannot use null or undefined'); return e
        }, je
      } let qe, Pt; function wn() {
        if (Pt)
          return qe; Pt = 1; const s = yn(); const e = hn(); const t = Math.max; return qe = function (n, a) {
          let l; let o; const u = t(arguments.length, 2); let p; for (n = new Object(e(n)), p = function (d) {
            try { n[d] = a[d] }
            catch (m) { l || (l = m) }
          }, o = 1; o < u; ++o)a = arguments[o], s(a).forEach(p); if (l !== undefined)
            throw l; return n
        }, qe
      } let ze, St; function _n() { return St || (St = 1, ze = mn()() ? Object.assign : wn()), ze } let We, Tt; function xn() {
        if (Tt)
          return We; Tt = 1; const s = rt(); const e = Array.prototype.forEach; const t = Object.create; const n = function (a, l) { let o; for (o in a)l[o] = a[o] }; return We = function (a) { const l = t(null); return e.call(arguments, (o) => { s(o) && n(new Object(o), l) }), l }, We
      } let Ge, Rt; function kn() {
        if (Rt)
          return Ge; Rt = 1; const s = 'razdwatrzy'; return Ge = function () { return typeof s.contains != 'function' ? false : s.contains('dwa') === true && s.contains('foo') === false }, Ge
      } let Ke, $t; function Cn() {
        if ($t)
          return Ke; $t = 1; const s = String.prototype.indexOf; return Ke = function (e) { return s.call(this, e, arguments[1]) > -1 }, Ke
      } let Xe, It; function Pn() { return It || (It = 1, Xe = kn()() ? String.prototype.contains : Cn()), Xe } let Mt; function Sn() {
        if (Mt)
          return Me.exports; Mt = 1; const s = Jt(); const e = fn(); const t = _n(); const n = xn(); const a = Pn(); const l = Me.exports = function (o, u) { let p, d, m, g, T; return arguments.length < 2 || typeof o != 'string' ? (g = u, u = o, o = null) : g = arguments[2], s(o) ? (p = a.call(o, 'c'), d = a.call(o, 'e'), m = a.call(o, 'w')) : (p = m = true, d = false), T = { value: u, configurable: p, enumerable: d, writable: m }, g ? t(n(g), T) : T }; return l.gs = function (o, u, p) { let d, m, g, T; return typeof o != 'string' ? (g = p, p = u, u = o, o = null) : g = arguments[3], s(u) ? e(u) ? s(p) ? e(p) || (g = p, p = undefined) : p = undefined : (g = u, u = p = undefined) : u = undefined, s(o) ? (d = a.call(o, 'c'), m = a.call(o, 'e')) : (d = true, m = false), T = { get: u, set: p, configurable: d, enumerable: m }, g ? t(n(g), T) : T }, Me.exports
      } let Ye, Et; function Tn() {
        return Et || (Et = 1, Ye = function (s) {
          if (typeof s != 'function')
            throw new TypeError(`${s} is not a function`); return s
        }), Ye
      } let At; function Rn() {
        return At || (At = 1, (function (s, e) {
          const t = Sn(); const n = Tn(); const a = Function.prototype.apply; const l = Function.prototype.call; const o = Object.create; const u = Object.defineProperty; const p = Object.defineProperties; const d = Object.prototype.hasOwnProperty; const m = { configurable: true, enumerable: false, writable: true }; let g; let T; let S; let k; let h; let b; let w; g = function (v, f) { let _; return n(f), d.call(this, '__ee__') ? _ = this.__ee__ : (_ = m.value = o(null), u(this, '__ee__', m), m.value = null), _[v] ? typeof _[v] == 'object' ? _[v].push(f) : _[v] = [_[v], f] : _[v] = f, this }, T = function (v, f) { let _, R; return n(f), R = this, g.call(this, v, _ = function () { S.call(R, v, _), a.call(f, this, arguments) }), _.__eeOnceListener__ = f, this }, S = function (v, f) {
            let _, R, P, I; if (n(f), !d.call(this, '__ee__'))
              return this; if (_ = this.__ee__, !_[v])
              return this; if (R = _[v], typeof R == 'object') {
              for (I = 0; P = R[I]; ++I)(P === f || P.__eeOnceListener__ === f) && (R.length === 2 ? _[v] = R[I ? 0 : 1] : R.splice(I, 1))
            }
            else {
              (R === f || R.__eeOnceListener__ === f) && delete _[v]
            } return this
          }, k = function (v) {
            let f, _, R, P, I; if (d.call(this, '__ee__') && (P = this.__ee__[v], !!P)) {
              if (typeof P == 'object') { for (_ = arguments.length, I = Array.from({ length: _ - 1 }), f = 1; f < _; ++f)I[f - 1] = arguments[f]; for (P = P.slice(), f = 0; R = P[f]; ++f)a.call(R, this, I) }
              else {
                switch (arguments.length) { case 1:l.call(P, this); break; case 2:l.call(P, this, arguments[1]); break; case 3:l.call(P, this, arguments[1], arguments[2]); break; default:for (_ = arguments.length, I = Array.from({ length: _ - 1 }), f = 1; f < _; ++f)I[f - 1] = arguments[f]; a.call(P, this, I) }
              }
            }
          }, h = { on: g, once: T, off: S, emit: k }, b = { on: t(g), once: t(T), off: t(S), emit: t(k) }, w = p({}, b), s.exports = e = function (v) { return v == null ? o(w) : p(new Object(v), b) }, e.methods = h
        }(ke, ke.exports))), ke.exports
      } const $n = Rn(); const In = Mn$1($n); const Mn = '115master-mod'; const En = 'module'; const An = '1.6.1-mod.0.0.1'; const Ln = 'pnpm@9.15.9'; const Fn = '115网盘魔法优化修改版: 画质增强 | 视频缩略图 | 在线字幕 | 画质选择记忆功能 (基于 cbingb666 原作品修改)'; const On = '原作者: cbingb666, 修改者: qh775885'; const Bn = 'MIT'; const Dn = 'https://github.com/qh775885/115master'; const Vn = { type: 'git', url: 'https://github.com/qh775885/115master.git' }; const Nn = { url: 'https://github.com/qh775885/115master/issues' }; const Un = { node: '>=20.12' }; const Hn = { 'dev': 'vite', 'build': 'vite build', 'dev:plus': 'cross-env VITE_PLUS_VERSION=true vite', 'build:plus': 'cross-env VITE_PLUS_VERSION=true vite build', 'type-check': 'vue-tsc -b --noEmit', 'test': 'jest', 'test:watch': 'jest --watch', 'lint': 'eslint', 'lint:fix': 'eslint --fix', 'lint:inspector': 'pnpm dlx @eslint/config-inspector', 'analyze': 'cross-env ANALYZE=true vite build', 'preinstall': 'npx -y only-allow pnpm' }; const jn = { '@cbingbing/demuxer': '^2.4.1', '@iconify/vue': '^5.0.0', '@libmedia/avcodec': '^0.8.1', '@libmedia/avformat': '^0.8.1', '@libmedia/avnetwork': '^0.8.1', '@libmedia/avplayer': '^0.8.2', '@libmedia/avutil': '^0.8.1', '@libmedia/common': '^1.4.0', '@material-symbols/svg-400': '^0.28.2', '@tailwindcss/vite': '^4.1.7', '@types/event-emitter': '^0.3.5', '@types/eventemitter3': '^2.0.4', '@vueuse/core': '^12.7.0', 'big-integer': '^1.6.52', 'blueimp-md5': '^2.19.0', 'dayjs': '^1.11.13', 'event-emitter': '^0.3.5', 'eventemitter3': '^5.0.1', 'glob-to-regexp': '^0.4.1', 'hls.js': '^1.5.20', 'iconify-icon': '^3.0.0', 'localforage': '^1.10.0', 'lodash': '^4.17.21', 'm3u8-parser': '^7.2.0', 'photoswipe': '^5.4.4', 'tailwindcss': '^4.1.7', 'vue': '^3.5.13' }; const qn = { '@antfu/eslint-config': '^4.16.1', '@libmedia/avpipeline': '^0.8.1', '@libmedia/cheap': '^0.8.0', '@rollup/plugin-typescript': '^12.1.2', '@types/big-integer': '^0.0.35', '@types/blueimp-md5': '^2.18.2', '@types/glob-to-regexp': '^0.4.4', '@types/jest': '^29.5.14', '@types/lodash': '^4.17.15', '@types/m3u8-parser': '^7.2.0', '@vitejs/plugin-vue': '^5.2.1', 'cross-env': '^7.0.3', 'daisyui': '^5.0.35', 'eslint': '^9.29.0', 'eslint-plugin-format': '^1.0.1', 'jest': '^29.7.0', 'lint-staged': '^16.1.2', 'rollup-plugin-visualizer': '^5.14.0', 'simple-git-hooks': '^2.13.0', 'ts-jest': '^29.2.5', 'tslib': '^2.8.1', 'typescript': '^5.7.3', 'vite': '^6.0.5', 'vite-plugin-monkey': '^5.0.3', 'vite-plugin-static-copy': '^2.3.0', 'vite-svg-loader': '^5.1.0', 'vue-tsc': '^2.2.10' }; const Lt = { 'name': Mn, 'type': En, 'version': An, 'private': true, 'packageManager': Ln, 'description': Fn, 'author': On, 'license': Bn, 'homepage': Dn, 'repository': Vn, 'bugs': Nn, 'engines': Un, 'scripts': Hn, 'dependencies': jn, 'devDependencies': qn, 'simple-git-hooks': { 'pre-commit': 'pnpm type-check && pnpm lint-staged' }, 'lint-staged': { '*': 'eslint --fix' } }; async function zn({ pkgName: s, version: e, path: t, varName: n }) {
        e || (s in Lt.dependencies ? e = Lt.dependencies[s] : e = 'latest'); const a = `
      import ${n} from "${Oa}/npm/${s}@${e}/${t}";
      window.${n} = ${n};
  `; const l = new Blob([a], { type: 'text/javascript' }); const o = URL.createObjectURL(l); return new Promise((u, p) => { const d = document.createElement('script'); d.type = 'module', d.src = o, d.onload = () => { const m = () => { const g = mt$1[n]; g ? (u(g), URL.revokeObjectURL(o)) : setTimeout(m, 50) }; m() }, d.onerror = (m) => { URL.revokeObjectURL(o), p(new Error(`加载 ${s} 模块失败: ${m}`)) }, document.head.appendChild(d) })
      } function Zt() { const s = shallowRef(0); const e = shallowRef(0); const t = shallowRef(true); const n = shallowRef(1); const a = shallowRef(100); const l = shallowRef(false); const o = shallowRef(true); const u = shallowRef(true); const p = shallowRef(false); const d = shallowRef(undefined); const m = shallowRef(false); const g = shallowRef(0); const T = shallowRef(0); const S = shallowRef(false); return { currentTime: s, duration: e, paused: t, playbackRate: n, volume: a, muted: l, isLoading: o, loaded: m, autoPlay: u, canplay: p, loadError: d, videoWidth: g, videoHeight: T, isSuspended: S, reset: () => { s.value = 0, e.value = 0, t.value = true, n.value = 1, a.value = 100, l.value = false, u.value = true, p.value = false, o.value = true, m.value = false, d.value = undefined, g.value = 0, T.value = 0, S.value = false } } } const Qe = `${Oa}/gh/cbingb666/libmedia@latest/dist`; const Wn = { isLive: false, enableHardware: true, enableWebCodecs: true, enableWebGPU: true, enableWorker: true, preLoadTime: 60 }; const Gn = ['audiocodec', 'videocodec', 'audioCurrentTime', 'videoCurrentTime', 'width', 'height', 'channels', 'sampleRate', 'bandwidth', 'audioBitrate', 'videoBitrate', 'audioPacketQueueLength', 'videoPacketQueueLength', 'videoEncodeFramerate', 'videoDecodeFramerate', 'videoRenderFramerate', 'keyFrameInterval', 'audioEncodeFramerate', 'audioDecodeFramerate', 'audioRenderFramerate', 'audioFrameDecodeIntervalMax', 'audioFrameRenderIntervalMax', 'videoFrameDecodeIntervalMax', 'videoFrameRenderIntervalMax', 'jitter', 'audioStutter', 'videoStutter']; function Kn(...s) {
        const [e, t, n] = s; const a = `${Qe}/decode`; const l = `${Qe}/resample`; const o = `${Qe}/stretchpitch`; switch (e) {
          case 'decoder':if (t && t >= 65536 && t <= 65572)
            return `${a}/pcm-simd.wasm`; switch (t) { case 27:return `${a}/h264-simd.wasm`; case 173:return `${a}/hevc-simd.wasm`; case 12:return `${a}/mpeg4-simd.wasm`; case 196:return `${a}/vvc-simd.wasm`; case 225:return `${a}/av1-simd.wasm`; case 139:return `${a}/vp8-simd.wasm`; case 167:return `${a}/vp9-simd.wasm`; case 30:return `${a}/theora-simd.wasm`; case 2:return `${a}/mpeg2video-simd.wasm`; case 86018:return `${a}/aac-simd.wasm`; case 86017:return `${a}/mp3-simd.wasm`; case 86076:return `${a}/opus-simd.wasm`; case 86028:return `${a}/flac-simd.wasm`; case 86051:return `${a}/speex-simd.wasm`; case 86021:return `${a}/vorbis-simd.wasm`; case 86019:return `${a}/ac3-simd.wasm`; case 86056:return `${a}/eac3-simd.wasm`; case 86020:return `${a}/dca-simd.wasm`; default:return new Error(`Unsupported decoder: ${e} ${t} ${n}`) } case 'resampler':return `${l}/resample-simd.wasm`; case 'stretchpitcher':return `${o}/stretchpitch-simd.wasm`; default:return new Error(`Unsupported wasm: ${e} ${t} ${n}`)
        }
      } function Xn(s, e) { return (...t) => { const n = e(...t); return n instanceof Error ? (s.push(t), '') : n } } function Yn(s) {
        let e = false; const t = shallowRef(null); const n = shallowRef(null); const a = Zt(); const l = ref(); const o = shallowRef([]); const u = ref([]); const p = ref(null); const d = ref(null); const m = ref(null); const g = computed(() => u.value.filter($ => $.mediaType === 'Audio')); const T = computed(() => u.value.filter($ => $.mediaType === 'Video')); const S = computed(() => T.value.find($ => $.id === d.value)); const k = In(); const h = ref(true); const b = ref(null); const w = () => {
          if (!t.value)
            throw new Error('playerRef is not found'); return t.value
        }; watch(S, ($) => { $ && (a.videoWidth.value = $.codecparProxy.width, a.videoHeight.value = $.codecparProxy.height) }); const { pause: v, resume: f } = Rd(() => { let F; const $ = Gn; const C = (F = t.value) == null ? undefined : F.getStats(); C && (l.value = Object.fromEntries($.map(D => [D, get(C, D)]))) }, 1e3, { immediate: false }); const _ = $ => !o.value.find(([C, F]) => C === 'decoder' && F === $.codecparProxy.codecId); const R = $ => $.find(C => C.mediaType === 'Audio' && C.codecparProxy.chLayout.nbChannels <= 8 && C.metadata.language === 'eng'); const P = () => {
          let $, C; for (const [F, D] of Object.entries((($ = t.value) == null ? undefined : $.listeners) ?? {})) {
            for (const ee of D)(C = t.value) == null || C.off(F, ee.fn)
          }
        }; const I = async ($) => { const C = w(); p.value = $, await C.selectAudio($) }; const O = { init: async ($) => {
          let C, F, D, ee, se, B, q, te; try { const ce = await zn({ pkgName: '@libmedia/avplayer', path: 'dist/esm/avplayer.js', varName: 'AVPlayer' }); const me = new ce({ ...Wn, ...s.rootProps.avPlayerConfig, container: $, getWasm: Xn(o.value, Kn) }); n.value = $, t.value = me, (C = t.value) == null || C.on('playing', () => { a.paused.value = !1 }), (F = t.value) == null || F.on('paused', () => { a.paused.value = !0 }), (D = t.value) == null || D.on('loaded', () => { a.isLoading.value = !1, a.loaded.value = !0 }), (ee = t.value) == null || ee.on('error', (ve) => { console.error(ve) }), (se = t.value) == null || se.on('seeking', () => { a.isLoading.value = !0 }), (B = t.value) == null || B.on('seeked', () => { a.isLoading.value = !1 }), (q = t.value) == null || q.on('timeout', () => { console.warn('avplayer timeout') }), (te = t.value) == null || te.on('time', (ve) => { e || (a.currentTime.value = Number(ve) / 1e3) }) }
          catch (ce) { console.error('初始化 AVPlayer 失败:', ce), a.loadError.value = ce }
        }, load: async ($, C) => { b.value = C ?? null; const F = w(); await F.load($, { http: { credentials: 'include' } }).then(async () => { u.value = await F.getStreams(), console.log(T.value); const B = R(u.value); B && (await F.selectAudio(B.id), p.value = B.id), f(), O.setVolume(a.volume.value), O.setMute(a.muted.value), O.setPlaybackRate(a.playbackRate.value), a.autoPlay.value ? await O.play().then(async () => { a.canplay.value = true, k.emit('canplay'), a.isSuspended.value = !a.muted.value && F.isSuspended() }).catch((q) => { console.error('播放失败', q), a.loadError.value = q }) : (a.canplay.value = true, k.emit('canplay')) }).catch((B) => { throw a.loadError.value = B, v(), B }), a.duration.value = Number(F.getDuration()) / 1e3; const { width: D, height: ee } = $d(n.value); const se = _i(() => { t.value && t.value.resize(D.value, ee.value) }, 30); watch([D, ee], se) }, getRenderElement: () => { let $, C; return (($ = n.value) == null ? undefined : $.querySelector('canvas')) ?? ((C = n.value) == null ? undefined : C.querySelector('video')) ?? null }, play: () => { const $ = w(); return a.paused.value = false, $.play({ subtitle: false }).then(async () => { h.value && (await O.seek(b.value ?? a.currentTime.value), h.value = false), d.value = $.getSelectedVideoStreamId(), m.value = $.getSelectedSubtitleStreamId() }) }, pause: () => { const $ = w(); return a.paused.value = true, $.pause() }, togglePlay: () => a.paused.value ? O.play() : O.pause(), setPlaybackRate: ($) => { const C = w(); a.playbackRate.value = $, C.setPlaybackRate(Math.min($, 2)) }, setVolume: ($) => { const C = w(); a.volume.value = $, C.setVolume($ / 100 * 3) }, setMute: ($) => { const C = w(); a.muted.value = $, C.setVolume($ ? 0 : 100), $ || O.resumeSuspended() }, toggleMute: () => { O.setMute(!a.muted.value) }, resumeSuspended: async () => { await w().resume(), a.isSuspended.value = false }, setAutoPlay: ($) => { a.autoPlay.value = $ }, seek: async ($) => { e = true; const C = w(); a.currentTime.value = $, await C.seek(BigInt(Math.floor($ * 1e3))), await nextTick(), e = false }, on: ($, C) => {
          watch(t, (F) => {
            if (F)
              switch ($) { case 'canplay':k.on('canplay', C); break; case 'timeupdate':F.on('time', () => { C(a.currentTime.value) }); break; case 'seeking':F.on('seeking', () => { C(a.currentTime.value) }); break; case 'seeked':F.on('seeked', () => { C(a.currentTime.value) }); break; default:F.on($, C) }
          }, { once: true })
        }, destroy: async () => (P(), v(), a.reset(), t.value && (t.value.pause(), await t.value.destroy()), t.value = null, Promise.resolve()) }; return { ...a, ...O, stats: l, streams: u, audioStreams: g, videoStreams: T, audioStreamId: p, videoStreamId: d, subtitleStreamId: m, isSupportStream: _, setAudioStream: I, type: Z.AvPlayer }
      } function ea(s) {
        const e = shallowRef(); const t = Zt(); const n = () => {
          if (!e.value)
            throw new Error('videoElementRef is not found'); return e.value
        }; const a = { init: async (l) => { const o = document.createElement('video'); return l.appendChild(o), o.style.width = '100%', o.style.height = '100%', o.style.objectFit = 'contain', e.value = o, J(e, 'play', () => { t.paused.value = false }), J(e, 'pause', () => { t.paused.value = true }), J(e, 'playing', () => { t.paused.value = false }), J(e, 'ended', () => { t.paused.value = true }), J(e, 'waiting', () => { t.isLoading.value = true }), J(e, 'canplay', () => { t.isLoading.value = false, t.canplay.value = true }), J(e, 'seeking', () => { t.isLoading.value = true }), J(e, 'seeked', () => { t.isLoading.value = false }), J(e, 'timeupdate', () => { let u; t.currentTime.value = ((u = e.value) == null ? undefined : u.currentTime) ?? 0 }), Promise.resolve() }, load: async (l, o) => {
          const u = n(); return a.setVolume(t.volume.value), a.setMute(t.muted.value), a.setAutoPlay(t.autoPlay.value), u.currentTime = o ?? t.currentTime.value, u.src = l, a.setPlaybackRate(t.playbackRate.value), new Promise((p, d) => {
            J(e, 'loadedmetadata', () => { t.duration.value = u.duration, t.videoWidth.value = u.videoWidth, t.videoHeight.value = u.videoHeight, p(), t.autoPlay.value && a.play() }), J(e, 'error', (m) => {
              let g; if (m.target instanceof HTMLVideoElement) { const T = new Error((g = m.target.error) == null ? undefined : g.message); T.name = 'Media Error', t.loadError.value = T }
              else {
                t.loadError.value = new Error('Video element unknown error')
              }d(t.loadError.value)
            })
          })
        }, getRenderElement: () => n(), play: () => { const l = n(); return l.play().then(() => { t.paused.value = false }).catch((o) => { if (o.name === 'NotAllowedError' && l.error === null) { console.warn(o), t.isSuspended.value = true; const u = n(); return u.muted = true, a.play() } throw o.name === 'AbortError' ? (console.warn(o), o) : (console.error('native player play error', o), t.loadError.value = o, o) }) }, pause: () => { const l = n(); return t.paused.value = true, l.pause(), Promise.resolve() }, togglePlay: () => t.paused.value ? a.play() : a.pause(), setPlaybackRate: (l) => { const o = n(); t.playbackRate.value = l, o.playbackRate = l }, setVolume: (l) => { const o = n(); t.volume.value = l, o.volume = l / 100 }, setMute: (l) => { const o = n(); t.muted.value = l, o.muted = l }, toggleMute: () => { a.setMute(!t.muted.value), t.isSuspended.value && (t.isSuspended.value = false) }, resumeSuspended: async () => { const l = n(); l.muted = false, t.isSuspended.value = false }, setAutoPlay: (l) => { const o = n(); t.autoPlay.value = l, o.autoplay = l }, seek: async l => new Promise((o) => { const u = n(); u.currentTime = l, t.currentTime.value = l, u.src ? J(u, 'seeked', () => { o() }) : o() }), on: (l, o) => {
          watch(e, (u) => {
            if (u)
              switch (l) { case 'canplay':u.addEventListener('canplay', o); break; case 'timeupdate':u.addEventListener('timeupdate', () => { o(u.currentTime) }); break; case 'seeking':u.addEventListener('seeking', () => { o(u.currentTime) }); break; case 'seeked':u.addEventListener('seeked', () => { o(u.currentTime) }); break; default:u.addEventListener(l, o) }
          }, { once: true })
        }, destroy: () => { const l = e.value; return l && (l.pause(), l.currentTime = 0, l.src = '', l.load(), l.remove(), t.reset(), e.value = undefined), Promise.resolve() } }; return { ...t, ...a, renderElementRef: e, type: Z.Native }
      } const Qn = { autoStartLoad: true, maxBufferLength: 1200, lowLatencyMode: true, startPosition: -1, debug: false }; function Jn(s) {
        const e = shallowRef(null); const t = ea(); const n = () => {
          if (!e.value)
            throw new Error('Hls is not initialized'); return e.value
        }; const a = { ...t, init: async (l, o = {}) => { await t.init(l), e.value = new on({ ...Qn, ...s.rootProps.hlsConfig, ...o }) }, load: (l) => { const o = t.getRenderElement(); const u = n(); return u.loadSource(l), u.attachMedia(o), o.muted = t.muted.value, o.playbackRate = t.playbackRate.value, o.volume = t.volume.value / 100, new Promise((p, d) => { J(o, 'loadedmetadata', () => { t.duration.value = o.duration, p(), t.autoPlay.value && t.play() }), J(o, 'error', (m) => { t.loadError.value = new Error('NotSupportedError'), d(t.loadError.value) }) }) }, destroy: () => (e.value && (e.value.destroy(), e.value = null), t.destroy()) }; return { ...t, ...a, type: Z.Hls }
      } function Je(s, e) { const t = s(e); const n = () => {}; t.on('canplay', e.rootProps.onCanplay ?? n), t.on('timeupdate', e.rootProps.onTimeupdate ?? n), t.on('seeking', e.rootProps.onSeeking ?? n), t.on('seeked', e.rootProps.onSeeked ?? n); const a = [Md(e.rootPropsVm.muted, t.muted), Md(e.rootPropsVm.playbackRate, t.playbackRate), Md(e.rootPropsVm.volume, t.volume), Md(e.rootPropsVm.autoPlay, t.autoPlay)]; const l = () => { a.forEach((o) => { o() }) }; return Nd({ ...t, adjustVolume: (o) => { const u = Math.min(Math.max(0, t.volume.value + o), 100); t.setVolume(u) }, skip: (o, u = false) => { const p = u ? o * t.duration.value : t.currentTime.value + o; const d = Math.min(Math.max(0, p), t.duration.value); t.seek(d) }, destroy: async () => { l(), await t.destroy() } }) } function Zn(s) {
        let e = false; return { switchDriver: async (n) => {
          if (e) { console.warn('播放器核心正在切换中，忽略此次请求'); return }e = true; try { switch (s.playerCore.value && (console.log('正在销毁现有播放器核心:', s.playerCore.value.type), await s.playerCore.value.destroy(), s.playerCore.value = void 0), await new Promise(a => setTimeout(a, 0)), console.log('正在创建新的播放器核心:', n), n) { case Z.Native:s.playerCore.value = Je(ea, s); break; case Z.Hls:s.playerCore.value = Je(Jn, s); break; case Z.AvPlayer:s.playerCore.value = Je(Yn, s); break; default:throw new Error(`Unsupported video type: ${n}`) } }
          catch (a) { throw console.error('切换视频驱动失败:', a), a }
          finally { e = false }
        } }
      } const es = 'material-symbols:restart-alt-rounded'; const ts = 'material-symbols:pip-rounded'; const as = 'material-symbols:pip-exit-rounded'; const ns = 'material-symbols:settings-rounded'; const ta = 'material-symbols:pause-rounded'; const aa = 'material-symbols:play-arrow-rounded'; const ss = 'lucide:atom'; const ls = 'material-symbols:audio-file'; const os = 'line-md:loading-loop'; const rs = 'material-symbols:fast-forward-rounded'; const is = 'material-symbols:fast-rewind-rounded'; const us = 'material-symbols:rotate-left-rounded'; const cs = 'material-symbols:rotate-right-rounded'; const ds = 'material-symbols:block'; const na = 'gis:flip-h'; const sa = 'gis:flip-v'; const ps = 'material-symbols:location-on-rounded'; const fs = 'material-symbols:rocket-launch-rounded'; const ms = 'material-symbols:rotate-right-rounded'; const la = 'material-symbols:subtitles-rounded'; const et = 'material-symbols:subtitles-off-rounded'; const vs = 'material-symbols:timer-rounded'; const gs = 'material-symbols:volume-off-rounded'; const bs = 'material-symbols:volume-mute-rounded'; const ys = 'material-symbols:volume-down-rounded'; const hs = 'material-symbols:volume-up-rounded'; const oa = 'material-symbols:analytics-outline'; const ra = 'material-symbols:keyboard-outline'; const ia = 'material-symbols:info-outline'; const ws = 'mdi:color'; const _s = 'material-symbols:error'; function Se(s = 0, e = false) { return e ? gs : s === 0 ? bs : s < 50 ? ys : hs } function xs(s) { const e = ref(false); const t = shallowRef({ x: 0, y: 0 }); const n = ref(false); const a = ref(false); const l = [{ id: 'about', label: '关于', icon: ia, action: () => { n.value = true, e.value = false } }, { id: 'shortcuts', label: '快捷键', icon: ra, action: () => { a.value = true, e.value = false } }, { id: 'statistics', label: 'Statistics', icon: oa, action: () => { s.statistics.toggleVisible(), e.value = false } }]; const o = (d, m) => { let T; const g = (T = s.refs.rootRef.value) == null ? undefined : T.getBoundingClientRect(); g ? t.value = { x: d - g.left, y: m - g.top } : t.value = { x: d, y: m }, e.value = true }; return { visible: e, position: t, menuItems: l, showAbout: n, showShortcuts: a, show: o, hide: () => { e.value = false }, handleContextMenu: (d) => { d.preventDefault(), o(d.clientX, d.clientY) } } } const ks = 1e3; const Cs = 200; const Ps = 30; const Ss = 1e3; function Ts(s) { const e = shallowRef(null); const t = shallowRef(true); const n = shallowRef(0); const a = computed(() => n.value > 0); const l = shallowRef(false); let o = null; let u = null; const p = computed(() => { let R; return (R = e.value) == null ? undefined : R.offsetHeight }); const d = () => { t.value = true }; const m = () => { t.value = false }; const g = () => { o && (clearTimeout(o), o = null) }; const T = () => { a.value || m() }; const S = () => { a.value || (g(), o = window.setTimeout(T, ks)) }; const k = () => { n.value++, n.value === 1 && g() }; const h = () => { n.value = Math.max(0, n.value - 1) }; const b = (R) => { R ? k() : h() }; const w = (R) => { l.value = R }; const v = (R = Ss) => { u && clearTimeout(u), l.value = true, g(), u = window.setTimeout(() => { l.value = false, S() }, R) }; const f = Ai(() => { d(), S() }, Cs); const _ = _i(() => { l.value || (g(), m()) }, Ps); return watch([t, p], () => { s.cssVar && (t.value ? s.cssVar.safeAreaBottom.value = `${p.value}px` : s.cssVar.safeAreaBottom.value = '0px') }), J(s.refs.rootRef, 'mousemove', f), J(s.refs.rootRef, 'mouseleave', _), onUnmounted(() => { g() }), { visible: t, mainRef: e, disabledHideOnMouseLeave: l, disabledAutoHide: a, setDisabledAutoHide: b, setDisabledHideOnMouseLeave: w, lockControlsWithTimeoutUnlock: v, addDisabledAutoHide: k, removeDisabledAutoHide: h, startAutoHideTimer: S, stopAutoHideTimer: g } } function Rs(s) { const t = { safeAreaBottom: '--x-player-safe-area-bottom' }; return { safeAreaBottom: Bd(t.safeAreaBottom, s.refs.rootRef, { initialValue: '0px' }), keys: t } } function $s(s) {
        const e = s.rootPropsVm.showPlaylist; const t = shallowRef(false); const n = shallowRef(false); const a = () => { t.value = !!document.fullscreenElement }; const l = async () => {
          s.controls.lockControlsWithTimeoutUnlock(); try { document.fullscreenElement ? (await document.exitFullscreen(), n.value && (e.value = !0)) : (window.scrollTo(0, 0), await document.documentElement.requestFullscreen(), n.value = e.value, e.value && (e.value = !1)) }
          catch (u) { console.error('Failed to toggle fullscreen:', u) }
        }; const o = async () => { const u = !e.value; e.value = u }; return J(document, 'fullscreenchange', a), J(document, 'webkitfullscreenchange', a), J(document, 'mozfullscreenchange', a), J(document, 'MSFullscreenChange', a), { showPlaylist: e, isFullscreen: t, toggleFullscreen: l, toggleShowSider: o }
      } const Ce = { Shift: 'Shift', Alt: 'Alt', Control: 'Control', Meta: 'Meta' }; const V = { 'sapce': ' ', 'arrowLeft': 'ArrowLeft', 'arrowRight': 'ArrowRight', 'arrowUp': 'ArrowUp', 'arrowDown': 'ArrowDown', 'w': 'w', 'a': 'a', 'b': 'b', 's': 's', 'd': 'd', 'c': 'c', 'f': 'f', 'p': 'p', 'm': 'm', 'W': 'W', 'A': 'A', 'B': 'B', 'S': 'S', 'D': 'D', 'C': 'C', 'F': 'F', 'P': 'P', 'M': 'M', '0': '0', '1': '1', '2': '2', '3': '3', '4': '4', '5': '5', '6': '6', '7': '7', '8': '8', '9': '9', '-': '-', '=': '=', '[': '[', ']': ']', '\\': '\\', 'h': 'h', 'j': 'j', 'k': 'k', 'l': 'l', 'H': 'H', 'J': 'J', 'K': 'K', 'L': 'L', 'r': 'r', 'R': 'R' }; const ua = { progress: { keys: [V[0], V[1], V[2], V[3], V[4], V[5], V[6], V[7], V[8], V[9]], name: '进度跳转', keydown: (s, e) => { let l; const t = e.key; const n = Number(t); const a = n / 10; (l = s.playerCore.value) == null || l.skip(a, true), s.hud && s.hud.showProgressJump(n) } }, fastBackward: { keys: [V.arrowLeft, V.a, V.A], name: '快退', allowRepeat: true, keydown: (s) => { let e, t; (e = s.playerCore.value) == null || e.skip(-5), (t = s.hud) == null || t.showFastJumpHud(-1) } }, fastForward: { keys: [V.arrowRight, V.d, V.D], name: '快进', allowRepeat: true, keydown: async (s, e) => { let t, n, a, l, o; if (e.repeat) { (t = s.playbackRate) != null && t.fastForward.value || (n = s.playbackRate) == null || n.startLongPressFastForward(), (a = s.hud) == null || a.showLongPressFastForward(); return }(l = s.playerCore.value) == null || l.skip(5), (o = s.hud) == null || o.showFastJumpHud(1) }, keyup: async (s) => { let e, t, n; (e = s.playbackRate) != null && e.fastForward.value && ((t = s.playbackRate) == null || t.stopLongPressFastForward(), (n = s.hud) == null || n.clear()) } }, playbackRateUp: { keys: [V.arrowUp, V.w, V.W], name: '播放速度增大', allowRepeat: true, keydown: async (s) => { let e, t; (e = s.playbackRate) == null || e.up(), (t = s.hud) == null || t.showPlaybackRate() } }, playbackRateDown: { keys: [V.arrowDown, V.s, V.S], name: '播放速度减小', allowRepeat: true, keydown: (s, e) => { let t, n, a, l; e.repeat ? ((t = s.playbackRate) == null || t.downWithLowerLimit(), (n = s.hud) == null || n.showPlaybackRate()) : ((a = s.playbackRate) == null || a.down(), (l = s.hud) == null || l.showPlaybackRate()) } }, volumeUp: { keys: [V['=']], name: '音量增大', allowRepeat: true, keydown: (s) => { let e, t; (e = s.playerCore.value) == null || e.adjustVolume(5), (t = s.hud) == null || t.showVolume() } }, volumeDown: { keys: [V['-']], name: '音量减小', allowRepeat: true, keydown: (s) => { let e, t; (e = s.playerCore.value) == null || e.adjustVolume(-5), (t = s.hud) == null || t.showVolume() } }, togglePlay: { keys: [V.sapce], name: '播放/暂停', keydown: (s) => { let e; (e = s.playerCore.value) == null || e.togglePlay() } }, toggleMute: { keys: [V.m], name: '切换静音', keydown: (s) => { let e, t, n, a, l; if ((e = s.playerCore.value) != null && e.isSuspended) { (t = s.playerCore.value) == null || t.resumeSuspended(), (n = s.hud) == null || n.showResumeSuspended(); return }(a = s.playerCore.value) == null || a.toggleMute(), (l = s.hud) == null || l.showMute() } }, toggleSubtitle: { keys: [V.c, V.C], name: '切换字幕', keydown: (s) => { let e, t, n; (e = s.subtitles) != null && e.loading.value || !((t = s.subtitles) != null && t.ready.value) || (n = s.subtitles) == null || n.toggleEnabled() } }, toggleFullscreen: { keys: [V.f, V.F], name: '切换全屏', keydown: (s) => { let e; (e = s.fullscreen) == null || e.toggleFullscreen() } }, toggleShowSider: { keys: [V.b, V.B], name: '切换播放列表', keydown: (s) => { let e; (e = s.fullscreen) == null || e.toggleShowSider() } }, togglePictureInPicture: { keys: [V.p, V.P], name: '切换画中画', keydown: (s) => { let e; (e = s.pictureInPicture) == null || e.toggle() } }, rotateLeft: { keys: [V['['], V.l, V.L], name: '向左旋转', keydown: (s) => { let e; (e = s.transform) == null || e.left() } }, rotateRight: { keys: [V[']'], V.r, V.R], name: '向右旋转', keydown: (s) => { let e; (e = s.transform) == null || e.right() } }, resetRotation: { keys: [V['\\']], name: '重置旋转', keydown: (s) => { let e; (e = s.transform) == null || e.normal() } }, toggleFlipX: { keys: [V.h, V.H], name: '水平翻转', keydown: (s) => { let e; (e = s.transform) == null || e.toggleFlipX() } }, toggleFlipY: { keys: [V.j, V.J], name: '垂直翻转', keydown: (s) => { let e; (e = s.transform) == null || e.toggleFlipY() } } }; function Is() { return ua } function Ms(s) { return new Set(s.split('+').filter(e => e !== '')) } function Es(s) { const e = [s.altKey ? Ce.Alt : null, s.shiftKey ? Ce.Shift : null, s.ctrlKey ? Ce.Control : null, s.metaKey ? Ce.Meta : null].filter(t => !!t); return new Set([...e, s.key]) } function As(s, e) { return s.size === e.size && Array.from(e).every(t => s.has(t)) } function Ft(s) {
        const e = Es(s); for (const t of Object.values(ua)) {
          for (const n of t.keys) {
            const a = Ms(n); if (As(e, a))
              return { key: n, config: t }
          }
        } return null
      } function Ls(s) {
        const e = (n) => {
          const a = Ft(n); if (a != null && a.key) {
            if (n.preventDefault(), n.repeat && !a.config.allowRepeat)
              return; a.config.keydown(s, n, a)
          }
        }; const t = (n) => { let l, o; const a = Ft(n); a != null && a.key && (n.preventDefault(), (o = (l = a.config).keyup) == null || o.call(l, s, n, a)) }; J('keydown', e), J('keyup', t)
      } function Ze(s) { return s.toString().padStart(2, '0') } function fe(s) {
        if (Number.isNaN(s) || s === undefined)
          return '--:--'; const e = Math.floor(s / 3600); const t = Math.floor(s % 3600 / 60); const n = Math.floor(s % 60); return `${e > 0 ? `${Ze(e)}:` : ''}${Ze(t)}:${Ze(n)}`
      } const Ot = { Fast: 500, Normal: 1500, Long: 2e3 }; function Fs(s) { const e = shallowRef(null); let t = null; const n = computed(() => e.value ? [e.value] : []); const a = (k) => { const h = Date.now(); const b = k.duration || Ot.Normal; t !== null && (clearTimeout(t), t = null), e.value = { ...k, timestamp: h }, t = window.setTimeout(() => { e.value = null, t = null }, b) }; const l = () => { t !== null && (clearTimeout(t), t = null), e.value = null }; const o = () => s.playerCore.value && s.playerCore.value.duration > 0 ? s.playerCore.value.currentTime / s.playerCore.value.duration * 100 : 0; const u = (k) => { let _; const h = k / 10; const b = h * (((_ = s.playerCore.value) == null ? undefined : _.duration) || 0); const w = Math.floor(b / 60); const v = Math.floor(b % 60); const f = `${w}:${v.toString().padStart(2, '0')}`; a({ title: k === 0 ? '跳转到开头' : `跳转到 ${k}0%`, icon: ps, value: f, progress: { max: 100, min: 0, value: h * 100 } }) }; const p = () => { let b, w, v; const k = (b = s.playerCore.value) == null ? undefined : b.volume; const h = Se(((w = s.playerCore.value) == null ? undefined : w.volume) ?? 0, ((v = s.playerCore.value) == null ? undefined : v.muted) ?? false); a({ title: '音量', icon: h, value: `${k}`, progress: { value: k, max: 100, min: 0 } }) }; const d = () => { let w, v; const k = (w = s.playerCore.value) == null ? undefined : w.muted; const h = Se(((v = s.playerCore.value) == null ? undefined : v.volume) ?? 0, k ?? false); a({ icon: h, value: k ? '静音' : '取消静音' }) }; const m = () => { let h, b; const k = Se(((h = s.playerCore.value) == null ? undefined : h.volume) ?? 0, ((b = s.playerCore.value) == null ? undefined : b.muted) ?? false); a({ icon: k, value: '音频已恢复' }) }; const g = () => { let h; const k = (h = s.playerCore.value) == null ? undefined : h.playbackRate; k && a({ title: '播放速度', icon: vs, value: k }) }; if (s.subtitles) { const { current: k } = s.subtitles; watch(k, (h) => { const b = h ? h.label : '关闭'; a({ title: '字幕', icon: h ? la : et, value: b }) }) } if (s.transform) { const { rotate: k, flipX: h, flipY: b } = s.transform; watch(k, (w, v) => { v !== undefined && a({ title: '旋转', icon: ms, value: `${w}°` }) }), watch(h, (w) => { a({ title: '水平翻转', icon: na, value: w ? '开启' : '关闭', iconClass: w ? 'text-base-content' : 'text-base-content/70' }) }), watch(b, (w) => { a({ title: '垂直翻转', icon: sa, value: w ? '开启' : '关闭', iconClass: w ? 'text-base-content' : 'text-base-content/70' }) }) } const T = (k) => { let w; const h = o(); a({ title: k === 1 ? '快进' : '快退', value: fe(((w = s.playerCore.value) == null ? undefined : w.currentTime) || 0), icon: k === 1 ? rs : is, progress: { max: 100, min: 0, value: h }, duration: Ot.Fast }) }; const S = () => { let h; const k = o(); a({ title: '快速播放', icon: fs, value: `${fe(((h = s.playerCore.value) == null ? undefined : h.currentTime) || 0)}`, progress: { max: 100, min: 0, value: k } }) }; return onUnmounted(() => { t !== null && (clearTimeout(t), t = null) }), { messages: n, show: a, clear: l, showProgressJump: u, showFastJumpHud: T, showMute: d, showPlaybackRate: g, showVolume: p, showLongPressFastForward: S, showResumeSuspended: m } } function Os(s) {
        const e = shallowRef(!!document.pictureInPictureElement); const t = 'pictureInPictureEnabled' in document; const n = () => { let u; return (u = s.playerCore.value) == null ? undefined : u.getRenderElement() }; const a = async () => {
          try {
            if (e.value && document.pictureInPictureElement) {
              await document.exitPictureInPicture()
            }
            else {
              const u = await n(); if (u) {
                if (u instanceof HTMLVideoElement)
                  await u.requestPictureInPicture(); else throw new TypeError('Not supported element')
              }
            }
          }
          catch (u) { console.error('Failed to toggle picture in picture:', u) }
        }; const l = async () => { e.value && document.pictureInPictureElement && await document.exitPictureInPicture() }; const o = () => { e.value = !!document.pictureInPictureElement }; return J(document, 'enterpictureinpicture', o), J(document, 'leavepictureinpicture', o), { isSupport: t, isPip: e, toggle: a, close: l }
      } function Bs(s) {
        const a = shallowRef([0.3, 0.5, 0.7, 1, 1.3, 1.5, 1.7, 2, 3, 5, 10, 15]); const l = s.rootPropsVm.playbackRate; const o = computed(() => a.value.findIndex(b => b === l.value) ?? -1); const u = shallowRef(false); const p = (b) => { let w; (w = s.playerCore.value) == null || w.setPlaybackRate(b) }; const d = (b) => {
          if (b < 0 || b >= a.value.length)
            return; const w = a.value[b]; p(w)
        }; const m = () => { d(o.value + 1) }; const g = () => { d(o.value - 1) }; const T = () => { l.value <= 1 || d(o.value - 1) }; const S = shallowRef(1); return { MIN_RATE: 0.3, MAX_RATE: 15, NORMAL_RATE: 1, current: l, rateOptions: a, fastForward: u, set: p, up: m, down: g, downWithLowerLimit: T, startLongPressFastForward: () => { !s.playerCore.value || u.value || (u.value = true, p(15), S.value = l.value, s.playerCore.value.paused && s.playerCore.value.play()) }, stopLongPressFastForward: () => { s.playerCore.value && (u.value = false, p(S.value)) } }
      } function Ds(s) { const e = () => { s.rootPropsVm.autoPlay.value = !s.rootPropsVm.autoPlay.value }; return { autoPlay: s.rootPropsVm.autoPlay, toggleAutoPlay: e } } function Vs(s) { const e = reactive(new Map()); const t = new Set(); const n = (d, m) => { e.set(d, m) }; const a = (d) => { e.delete(d) }; const l = (d, m) => { const g = e.get(d); g && (g.visible = m) }; const o = computed(() => Array.from(e.values()).some(d => d.visible && d.allowPreventControlsClose)); const u = (d) => { t.add(d) }; const p = (d) => { t.delete(d) }; return watch(o, (d) => { d ? (s.controls.addDisabledAutoHide(), s.controls.setDisabledHideOnMouseLeave(true)) : (s.controls.removeDisabledAutoHide(), s.controls.setDisabledHideOnMouseLeave(false)) }), { hasOpenPopup: o, disabledBubblingElements: t, registerPopup: n, unregisterPopup: a, setPopupVisible: l, addDisabledBubblingElement: u, removeDisabledBubblingElement: p } } function Ns(s) { const e = shallowRef(false); const t = shallowRef(false); let n = null; const a = 300; return watch(e, (o, u) => { o && !u ? n = setTimeout(() => { t.value = true }, a) : !o && u && (n && (clearTimeout(n), n = null), t.value = false) }), { isDragging: e, isLongPressDragging: t, waitDragEnd: () => new Promise((o) => { const u = watch(e, (p) => { p || (o(true), u()) }) }) } } const tt = { mp4: 'mp4', m3u8: 'm3u8', m2ts: 'm2ts', ts: 'ts', flv: 'flv', avi: 'avi', mkv: 'mkv', rmvb: 'rmvb', mov: 'mov', webm: 'webm', iso: 'iso', unknown: 'unknown' }; function Us(s) {
        const e = s.refs.playerElementRef; const t = s == null ? undefined : s.playerCore; const n = s.rootProps.sources; const a = ref(null); const l = shallowRef(false); const o = shallowRef(false); const u = () => n.value.find(b => b.type === 'hls'); const p = async () => {
          if (n.value.length === 0)
            return null; const b = s.rootProps.videoId; if (!b)
            return n.value[0]; try {
            const w = await Id.getPreference(b); if (!w)
              return n.value[0]; const v = n.value.find(f => f.quality === w.quality); return v ? (console.log(`🎞️ 使用保存的画质偏好: ${w.quality}P (${w.displayQuality || w.quality})`), v) : (console.warn(`⚠️ 保存的画质偏好 ${w.quality}P 不存在，使用默认最高画质`), n.value[0])
          }
          catch (w) { return console.error('获取画质偏好失败，使用默认最高画质:', w), n.value[0] }
        }; const d = b => b.type === 'hls' ? Z.Hls : [tt.mkv].includes(b.extension) ? Z.AvPlayer : Z.Native; const m = async (b, w, v) => {
          let f, _; if (!s.driver)
            throw new Error('videoDriver is not found'); a.value = b; try {
            if (await ((f = s.driver) == null ? void 0 : f.switchDriver(w ?? d(b))), !t.value)
              throw new Error('player is not found'); if (!e.value)
              throw new Error('playerElementRef is not found'); await t.value.init(e.value), await t.value.load(b.url, v ?? 0)
          }
          catch (R) {
            if (R instanceof DOMException && R.name === 'AbortError')
              return; if (R instanceof Error) { const P = u(); P && ((_ = t == null ? undefined : t.value) == null ? undefined : _.type) !== Z.Hls && await m(P, undefined, v ?? 0); return } throw R
          }
        }; const g = async (b) => {
          if (!t.value)
            throw new Error('player is not found'); const w = t.value.currentTime || 0; const v = s.rootProps.videoId; if (v) {
            try { await Id.setPreference(v, b.quality, b.displayQuality), console.log(`💾 画质偏好已保存: ${b.quality}P (${b.displayQuality || b.quality})`) }
            catch (f) { console.error('保存画质偏好失败:', f) }
          } await m(b), t.value.seek(w)
        }; const T = () => { l.value = true, t.value && t.value.destroy().catch(b => console.error('销毁播放器失败:', b)) }; const S = () => { l.value = false, m(a.value) }; const h = _i(async (b) => {
          let w, v; if (o.value) { console.warn('正在切换播放器核心，忽略此次操作'); return } if (!a.value)
            throw new Error('当前没有视频源'); o.value = true; try { const f = ((w = t.value) == null ? void 0 : w.currentTime) || 0; const _ = ((v = t.value) == null ? void 0 : v.paused) ?? !0; t.value && !t.value.paused && await t.value.pause(), await m(a.value, b), t.value && (await t.value.seek(f), _ || await t.value.play()) }
          finally { o.value = false }
        }, 300); return watch(n, async () => { let w; if (l.value = false, n.value.length === 0) { await ((w = s.playerCore.value) == null ? undefined : w.destroy()); return } const b = await p(); b && await m(b, undefined, toValue(s.rootProps.lastTime)) }, { immediate: true, deep: true }), { list: n, current: a, changeQuality: g, interruptSource: T, resumeSource: S, isInterrupt: l, isSwitching: o, switchPlayerCore: h }
      } function Hs() { const s = shallowRef(false); return { visible: s, toggleVisible: () => { s.value = !s.value } } } function js(s) { const e = ref(false); const t = ref(null); const n = ref(null); const a = computed(() => { let d, m; return ((d = s.rootProps.subtitles.value) == null ? undefined : d.find(g => g.default)) ?? ((m = s.rootProps.subtitles.value) == null ? undefined : m[0]) ?? null }); const l = (d) => { let m, g; d && (n.value = d), t.value = d, (g = (m = s.rootProps).onSubtitleChange) == null || g.call(m, d) }; const o = () => { t.value ? l(null) : n.value ? l(n.value) : l(a.value ?? null) }; const u = (d) => { const m = d.find(g => g.default); m && l(m) }; const p = () => { t.value && l(t.value) }; return watch(s.rootProps.subtitles, (d) => { e.value = true, d && u(d) }), watch(() => { let d; return (d = s.source) == null ? undefined : d.current }, (d) => { d && p() }), { list: s.rootProps.subtitles, loading: s.rootProps.subtitlesLoading, ready: s.rootProps.subtitlesReady, current: t, change: l, toggleEnabled: o, restoreCurrentSubtitle: p } } function qs(s) { const e = () => { s.rootPropsVm.autoLoadThumbnails.value = !s.rootPropsVm.autoLoadThumbnails.value }; const t = (n) => { s.rootPropsVm.thumbnailsSamplingInterval.value = n }; return { autoLoadThumbnails: s.rootPropsVm.autoLoadThumbnails, samplingInterval: s.rootPropsVm.thumbnailsSamplingInterval, toggleAutoLoad: e, setSamplingInterval: t } } function zs(s, e, t, n, a) { const l = s / e; const o = a * Math.PI / 180; const u = Math.abs(Math.cos(o)); const p = Math.abs(Math.sin(o)); const d = t * u + n * p; const m = t * p + n * u; const g = t / d; const T = n / m; return l > 1 ? Math.min(g, T) : Math.max(g, T) } function Ws(s) {
        const n = shallowRef(0); const a = shallowRef(false); const l = shallowRef(false); const o = $d(s.refs.playerElementRef); const u = computed(() => { let b, w; return zs(((b = s.playerCore.value) == null ? undefined : b.videoWidth) ?? 16, ((w = s.playerCore.value) == null ? undefined : w.videoHeight) ?? 9, o.width.value, o.height.value, n.value) }); const p = computed(() => ({ transform: [`rotate(${n.value}deg)`, `scale(${u.value * (a.value ? -1 : 1)}, ${u.value * (l.value ? -1 : 1)})`, 'translateZ(0)'].join(' ') })); const d = computed(() => n.value === -270); const m = computed(() => n.value === 270); return { rotate: n, flipX: a, flipY: l, left: () => {
          if (n.value <= -270)
            return; const b = n.value - 90; n.value = Math.max(b, -270)
        }, right: () => {
          if (n.value >= 270)
            return; const b = n.value + 90; n.value = Math.min(b, 270)
        }, normal: () => { n.value = 0, a.value = false, l.value = false }, toggleFlipX: () => { a.value = !a.value }, toggleFlipY: () => { l.value = !l.value }, isLeftDisabled: d, isRightDisabled: m, transformStyle: p }
      } function Gs(s) {
        const e = 'video-enhance'; const t = s.rootPropsVm.disabledHDR; const n = { sharpness: 0, brightness: 0, contrast: 0, highlights: 0, shadows: 0, colorTemp: 0, saturation: 0, hue: 0, skinWhitening: 0, skinRange: 5 }; const a = reactive({ ...n }); const l = computed(() => Object.keys(n).some(v => a[v] !== n[v])); const o = computed(() => {
          if (a.brightness === 0)
            return { type: 'gamma', amplitude: 1, exponent: 1, offset: 0 }; const v = a.brightness / 100; const f = Math.abs(v); if (v > 0) { const I = 1 - f * 0.4; const O = 1 + f * 0.45; const $ = -f * 0.05; return { type: 'gamma', amplitude: O, exponent: Math.max(0.3, I), offset: $ } } const _ = 1 + f * 0.4; const R = 1 - f * 0.45; const P = -f * 0.01; return { type: 'gamma', amplitude: R, exponent: Math.min(2, _), offset: P }
        }); const u = computed(() => {
          if (a.contrast === 0)
            return { type: 'linear', slope: 1, intercept: 0 }; const v = a.contrast / 100; if (v > 0) { const R = 1 + v * 0.8; const P = (1 - R) * 0.5; return { type: 'linear', slope: Math.min(2.5, R), intercept: Math.max(-0.5, P) } } const f = 1 + v * 0.6; const _ = (1 - f) * 0.5; return { type: 'linear', slope: Math.max(0.2, f), intercept: Math.min(0.4, _) }
        }); const p = computed(() => {
          if (a.highlights === 0)
            return { type: 'linear', slope: 1, intercept: 0, tableValues: null }; const v = a.highlights / 100; const f = Math.abs(v) * 0.5; const _ = []; for (let R = 0; R <= 255; R++) {
            const P = R / 255; let I = P; let O = 0; if (P > 0.2 && (O = ((P - 0.2) * 1.5) ** 1.5), v > 0) { const $ = f * O * 0.4; I = P + $ }
            else { const $ = f * O * 0.4; I = P - $ }I = Math.max(0, Math.min(1, I)), _.push(I.toFixed(4))
          } return { type: 'table', slope: 1, intercept: 0, tableValues: _.join(' ') }
        }); const d = computed(() => {
          if (a.shadows === 0)
            return { type: 'linear', slope: 1, intercept: 0, tableValues: null }; const v = a.shadows / 100; const f = Math.abs(v) * 0.5; const _ = []; for (let R = 0; R <= 255; R++) {
            const P = R / 255; let I = P; let O = 0; if (P < 0.5 && (O = (1 - P * 2) ** 1.2), v > 0) { const $ = f * O * 0.3; I = P + $ }
            else { const $ = f * O * 0.3; I = P - $ }I = Math.max(0, Math.min(1, I)), _.push(I.toFixed(4))
          } return { type: 'table', slope: 1, intercept: 0, tableValues: _.join(' ') }
        }); const m = computed(() => {
          if (a.saturation === 0) {
            return `1 0 0 0 0
          0 1 0 0 0
          0 0 1 0 0
          0 0 0 1 0`
          } const v = a.saturation / 100; let f; v > 0 ? f = 1 + Math.sqrt(v) * 0.8 : f = 1 + v * 0.9, f = Math.max(0.05, Math.min(2.2, f)); const _ = 0.2126; const R = 0.7152; const P = 0.0722; const I = _ * (1 - f); const O = R * (1 - f); const $ = P * (1 - f); const C = I + f; const F = O; const D = $; const ee = I; const se = O + f; const B = $; const q = I; const te = O; const ce = $ + f; let me = 1; f > 1.3 && (me = 1 - (f - 1.3) * 0.1); const ve = C * me; const ma = F * me; const $e = (f - 1) * 0.001; return `${ve.toFixed(4)} ${ma.toFixed(4)} ${D.toFixed(4)} 0 ${$e.toFixed(4)}
        ${ee.toFixed(4)} ${se.toFixed(4)} ${B.toFixed(4)} 0 ${$e.toFixed(4)}
        ${q.toFixed(4)} ${te.toFixed(4)} ${ce.toFixed(4)} 0 ${$e.toFixed(4)}
        0 0 0 1 0`
        }); const g = computed(() => {
          if (a.hue === 0) {
            return `1 0 0 0 0
          0 1 0 0 0
          0 0 1 0 0
          0 0 0 1 0`
          } const v = a.hue / 100; const f = Math.abs(v) * 0.4; if (v > 0) {
            const C = 1 + f * 0.12; const F = 1 - f * 0.08; const D = 1 + f * 0.06; const ee = f * 0.01; const se = -f * 0.015; const B = f * 0.005; return `${C.toFixed(4)} 0 0 0 ${ee.toFixed(4)}
          0 ${F.toFixed(4)} 0 0 ${se.toFixed(4)}
          0 0 ${D.toFixed(4)} 0 ${B.toFixed(4)}
          0 0 0 1 0`
          } const _ = 1 - f * 0.1; const R = 1 + f * 0.08; const P = 1 - f * 0.05; const I = -f * 0.01; const O = f * 0.01; const $ = -f * 0.005; return `${_.toFixed(4)} 0 0 0 ${I.toFixed(4)}
        0 ${R.toFixed(4)} 0 0 ${O.toFixed(4)}
        0 0 ${P.toFixed(4)} 0 ${$.toFixed(4)}
        0 0 0 1 0`
        }); const T = computed(() => {
          const v = a.colorTemp; if (v === 0) {
            return `1 0 0 0 0
          0 1 0 0 0
          0 0 1 0 0
          0 0 0 1 0`
          } const f = v / 100; const _ = Math.abs(f) * 0.3; let R = 1; let P = 1; let I = 1; f > 0 ? (R = 1 + _ * 0.8, P = 1 + _ * 0.3, I = 1 - _ * 0.6) : (R = 1 - _ * 0.4, P = 1 - _ * 0.1, I = 1 + _ * 0.6); const O = 1; const $ = 0.2126 * R + 0.7152 * P + 0.0722 * I; const C = O / $; return R *= C, P *= C, I *= C, R = Math.max(0.5, Math.min(2, R)), P = Math.max(0.5, Math.min(2, P)), I = Math.max(0.5, Math.min(2, I)), `${R} 0 0 0 0
        0 ${P} 0 0 0
        0 0 ${I} 0 0
        0 0 0 1 0`
        }); const S = computed(() => a.sharpness === 0 ? { enabled: false, amount: 0 } : { enabled: true, amount: a.sharpness / 100 * 2 }); const k = computed(() => {
          if (a.skinWhitening === 0) {
            return { enabled: false, midtoneGamma: 1, midtoneGain: 1, colorMatrix: `1 0 0 0 0
               0 1 0 0 0
               0 0 1 0 0
               0 0 0 1 0` }
          } const v = a.skinWhitening / 100; const f = a.skinRange / 10; const _ = 1 - v * 0.15 * f; const R = Math.max(0.8, _); const P = 1 + v * 0.05; const I = 1 + v * 0.005; const O = 1 - v * 0.008; const $ = 1 + v * 0.003; const C = `${I.toFixed(4)} 0 0 0 0
               0 ${O.toFixed(4)} 0 0 0
               0 0 ${$.toFixed(4)} 0 0
               0 0 0 1 0`;return { enabled: true, midtoneGamma: Number.parseFloat(R.toFixed(4)), midtoneGain: Number.parseFloat(P.toFixed(4)), colorMatrix: C }
        }); const h = computed(() => {
          const v = o.value; const f = u.value; const _ = p.value; const R = d.value; const P = S.value; const I = k.value; return `
      <svg width="0" height="0" style="position: absolute;">
        <defs>
          <!-- 调色滤镜组合 - 标准工作流程 -->
          <filter id="${e}" color-interpolation-filters="auto">
            <!-- 第1步：基础亮度调整 - 使用伽马校正 + Lift-Gamma-Gain模型 -->
            <feComponentTransfer result="brightness">
              <feFuncR type="gamma" amplitude="${v.amplitude}" exponent="${v.exponent}" offset="${v.offset}" />
              <feFuncG type="gamma" amplitude="${v.amplitude}" exponent="${v.exponent}" offset="${v.offset}" />
              <feFuncB type="gamma" amplitude="${v.amplitude}" exponent="${v.exponent}" offset="${v.offset}" />
              <feFuncA type="identity" />
            </feComponentTransfer>
            
            <!-- 第2步：对比度调整 -->
            <feComponentTransfer result="contrast" in="brightness">
              <feFuncR type="linear" slope="${f.slope}" intercept="${f.intercept}" />
              <feFuncG type="linear" slope="${f.slope}" intercept="${f.intercept}" />
              <feFuncB type="linear" slope="${f.slope}" intercept="${f.intercept}" />
              <feFuncA type="identity" />
            </feComponentTransfer>

            <!-- 第3步：高光调整 - 选择性亮部控制 -->
            <feComponentTransfer result="highlights" in="contrast">
              ${_.tableValues
                ? `<feFuncR type="table" tableValues="${_.tableValues}" />
                <feFuncG type="table" tableValues="${_.tableValues}" />
                <feFuncB type="table" tableValues="${_.tableValues}" />`
                : `<feFuncR type="linear" slope="1" intercept="0" />
                <feFuncG type="linear" slope="1" intercept="0" />
                <feFuncB type="linear" slope="1" intercept="0" />`}
              <feFuncA type="identity" />
            </feComponentTransfer>

            <!-- 第4步：阴影调整 - 选择性暗部控制 -->
            <feComponentTransfer result="shadows" in="highlights">
              ${R.tableValues
                ? `<feFuncR type="table" tableValues="${R.tableValues}" />
                <feFuncG type="table" tableValues="${R.tableValues}" />
                <feFuncB type="table" tableValues="${R.tableValues}" />`
                : `<feFuncR type="linear" slope="1" intercept="0" />
                <feFuncG type="linear" slope="1" intercept="0" />
                <feFuncB type="linear" slope="1" intercept="0" />`}
              <feFuncA type="identity" />
            </feComponentTransfer>
            
            <!-- 第5步：色温调整 - 色彩校正 -->
            <feColorMatrix
              result="colortemp"
              in="shadows"
              type="matrix"
              values="${T.value}"
            />
            
            <!-- 第6步：色调调整 - 色彩校正 -->
            <feColorMatrix
              result="hue"
              in="colortemp"
              type="matrix"
              values="${g.value}"
            />
            
            <!-- 第7步：饱和度调整 - 色彩分级 -->
            <feColorMatrix
              result="saturation"
              in="hue"
              type="matrix"
              values="${m.value}"
            />

            <!-- 第8步：连续美白 - 使用Gamma曲线实现平滑效果 -->
            ${I.enabled
              ? `
            <!-- 步骤8.1: 中间调Gamma提升 - 自然选择肤色中间调 -->
            <feComponentTransfer result="midtoneLift" in="saturation">
              <feFuncR type="gamma" amplitude="${I.midtoneGain}" exponent="${I.midtoneGamma}" offset="0" />
              <feFuncG type="gamma" amplitude="${I.midtoneGain}" exponent="${I.midtoneGamma}" offset="0" />
              <feFuncB type="gamma" amplitude="${I.midtoneGain}" exponent="${I.midtoneGamma}" offset="0" />
              <feFuncA type="identity" />
            </feComponentTransfer>
            
            <!-- 步骤8.2: 精细色彩校正 -->
            <feColorMatrix
              result="skinWhitening"
              in="midtoneLift"
              type="matrix"
              values="${I.colorMatrix}"
            />`
              : `
            <feOffset result="skinWhitening" in="saturation" dx="0" dy="0" />`}

            <!-- 第9步：锐化 - 亮度保持不变的标准算法 -->
            ${P.enabled
              ? `
            <!-- 创建模糊版本 -->
            <feGaussianBlur 
              result="blurred"
              in="skinWhitening"
              stdDeviation="1.0"
            />
            <!-- 标准Unsharp Mask：原图 + (原图 - 模糊图) * 强度 -->
            <!-- 第一步：计算高频细节 (原图 - 模糊图) -->
            <feComposite 
              result="highFreq"
              in="skinWhitening" 
              in2="blurred"
              operator="arithmetic"
              k1="0" 
              k2="1" 
              k3="-1" 
              k4="0"
            />
            <!-- 第二步：原图 + 高频细节 * 强度，保持亮度不变 -->
            <feComposite 
              result="final"
              in="skinWhitening" 
              in2="highFreq"
              operator="arithmetic"
              k1="0" 
              k2="1" 
              k3="${P.amount.toFixed(3)}" 
              k4="0"
            />`
              : `
            <feOffset result="final" in="skinWhitening" dx="0" dy="0" />`}
          </filter>
        </defs>
      </svg>
    `
        }); const b = computed(() => l.value ? { 'filter': `url(#${e})`, 'webkit-filter': `url(#${e})` } : t.value ? { 'filter': 'brightness(1)', 'webkit-filter': 'brightness(1)' } : {}); return { disabledHDR: t, filterName: e, colorParams: a, defaultParams: n, renderFilter: h, getFilterStyle: b, reset: () => { Object.assign(a, n) } }
      } const ca = Symbol('XPlayer'); function Ks(s, e, t) { const n = { refs: { rootRef: s.rootRef, playerElementRef: s.playerElementRef }, rootEmit: t, rootProps: e, rootPropsVm: qd(e, t), playerCore: ref() }; n.driver = Zn(n); const a = Vs(n); n.popupManager = a; const l = Bs(n); n.playbackRate = l; const o = $s(n); n.fullscreen = o; const u = Ns(); n.progressBar = u; const p = Ts(n); n.controls = p; const d = js(n); n.subtitles = d; const m = Us(n); n.source = m; const g = Ls(n); n.hotKey = g; const T = Os(n); n.pictureInPicture = T; const S = Ws(n); n.transform = S; const k = qs(n); n.thumbnailSettings = k; const h = Fs(n); n.hud = h; const b = Rs(n); n.cssVar = b; const w = Gs(n); n.videoEnhance = w; const v = Hs(); n.statistics = v; const f = xs(n); n.contextMenu = f; const _ = Ds(n); return n.playSettings = _, provide(ca, n), n } function G() {
        const s = inject(ca); if (!s)
          throw new Error('usePlayerContext must be used within a VideoPlayer component'); return s
      } const da = Symbol('XPlayerPortal'); function Xs() { const e = { container: ref() }; return provide(da, e), e } function Ys() {
        const s = inject(da); if (!s)
          throw new Error('usePortal must be used within a XPlayer component'); return s
      } const Pe = new Set(); function Qs(s, e) { return e ? e.contains(s.target) : false } const Js = defineComponent({ inheritAttrs: false, __name: 'index', props: { visible: { type: Boolean }, x: { default: 0 }, y: { default: 0 }, trigger: {}, placement: {}, offset: {}, outsideStopPropagation: { type: Boolean, default: false }, allowPreventControlsClose: { type: Boolean, default: true } }, emits: ['update:visible', 'after-leave'], setup(s, { emit: e }) {
        const t = s; const n = e; const a = { popup: 'x-popup bg-base-100/90 rounded-2xl p-2 border border-neutral-950 relative overflow-hidden' }; const { container: l } = Ys(); const { popupManager: o } = G(); const u = qi(t, 'visible', n); const p = shallowRef(); const d = shallowRef({ x: 0, y: 0 }); const m = computed(() => l.value || 'body'); const g = computed(() => typeof m.value == 'string' ? document.querySelector(m.value) ?? undefined : m.value); const T = computed(() => ({ left: `${d.value.x}px`, top: `${d.value.y}px`, position: l.value ? 'absolute' : 'fixed' })); const S = zd(g); const k = `popup-${Math.random().toString(36).substr(2, 9)}`; watch(u, (f) => { o == null || o.setPopupVisible(k, f) }), onMounted(() => { o == null || o.registerPopup(k, { visible: u.value, trigger: t.trigger, container: p.value, portalContainer: g.value, allowPreventControlsClose: t.allowPreventControlsClose }) }), onUnmounted(() => { o == null || o.unregisterPopup(k) }); function h(f, _, R) {
          if (!f)
            return { x: t.x, y: t.y }; if (!_ || !R)
            return { x: 0, y: 0 }; const P = f.getBoundingClientRect(); const I = _.getBoundingClientRect(); const O = R.getBoundingClientRect(); const $ = P.left - O.left; const C = P.width; const F = P.top - O.top; const D = P.bottom - O.top; const ee = O.height - D; const se = F; const B = t.offset ?? 8; let q; t.placement === 'top' || t.placement !== 'bottom' && ee < I.height && se >= I.height ? q = F - I.height - B : q = D + B; let te = $ + C / 2 - I.width / 2; return te = Math.max(16, te), te = Math.min(te, O.width - I.width - 16), { x: te, y: q }
        } function b() { const f = h(t.trigger, p.value, g.value); d.value = f } const w = () => { b() }; watch(() => S, () => { u.value && b() }, { deep: true }), watch(() => t.trigger, (f, _) => { f && !Pe.has(f) && Pe.add(f), !f && _ && Pe.has(_) && Pe.delete(_) }), Ud(p, (f) => { u.value && (t.trigger && Qs(f, t.trigger) && f.stopPropagation(), t.outsideStopPropagation && f.stopPropagation(), o != null && o.disabledBubblingElements.has(f.target) && f.stopPropagation(), u.value = false) }); const v = () => { n('after-leave') }; return (f, _) => (openBlock(), createBlock(Teleport, { to: m.value, disabled: !m.value }, [createVNode(Transition, { 'enter-active-class': 'transition-opacity duration-200', 'leave-active-class': 'transition-opacity duration-200', 'enter-from-class': 'opacity-0', 'leave-to-class': 'opacity-0', 'onEnter': w, 'onAfterLeave': v }, { default: withCtx(() => [withDirectives(createElementVNode('div', mergeProps({ ref_key: 'popupRef', ref: p, class: a.popup, style: T.value }, f.$attrs), [renderSlot(f.$slots, 'default', {}, undefined, true)], 16), [[vShow, unref(u)]])]), _: 3 })], 8, ['to', 'disabled']))
      } }); const le = dd(Js, [['__scopeId', 'data-v-96fb7906']]); const Zs = defineComponent({ __name: 'AboutPopup', props: { visible: { type: Boolean } }, emits: ['update:visible'], setup(s) { const e = { root: 'top-1/2! left-1/2! transform! -translate-x-1/2! -translate-y-1/2! w-lg max-h-2/3 p-0!', container: { main: 'bg-base-100 rounded-xl flex flex-col', header: 'flex justify-between items-center px-4 py-2 bg-base-200 rounded-t-xl', headerTitle: 'text-base font-medium text-base-content', content: 'overflow-y-auto max-h-96', sectionsWrapper: 'space-y-6 text-sm' }, section: { wrapper: 'about-section', content: 'px-6 py-4' }, closeButton: 'btn btn-ghost btn-circle btn-xs', defaultContent: 'text-center text-base-content/60 py-8', titleContainer: 'flex items-center space-x-2 gap-2', titleIcon: 'size-6' }; return (t, n) => (openBlock(), createBlock(le, { 'visible': t.visible, 'class': normalizeClass(e.root), 'onUpdate:visible': n[1] || (n[1] = a => t.$emit('update:visible', a)) }, { default: withCtx(() => [createElementVNode('div', { class: normalizeClass(e.container.main) }, [createElementVNode('div', { class: normalizeClass(e.container.header) }, [createElementVNode('div', { class: normalizeClass(e.titleContainer) }, [createVNode(unref(ho$1), { icon: unref(ia), class: normalizeClass(e.titleIcon) }, null, 8, ['icon', 'class']), createElementVNode('h3', { class: normalizeClass(e.container.headerTitle) }, ' 关于 ', 2)], 2), createElementVNode('button', { class: normalizeClass(e.closeButton), onClick: n[0] || (n[0] = a => t.$emit('update:visible', false)) }, [createVNode(unref(ho$1), { icon: 'material-symbols:close-rounded', class: 'size-4' })], 2)], 2), createElementVNode('div', { class: normalizeClass(e.container.content) }, [createElementVNode('div', { class: normalizeClass(e.container.sectionsWrapper) }, [createElementVNode('div', { class: normalizeClass(e.section.wrapper) }, [createElementVNode('div', { class: normalizeClass(e.section.content) }, [renderSlot(t.$slots, 'content', {}, () => [createElementVNode('div', { class: normalizeClass(e.defaultContent) }, n[2] || (n[2] = [createElementVNode('p', null, '请通过 slot 传入关于内容', -1)]), 2)])], 2)], 2)], 2)], 2)], 2)]), _: 3 }, 8, ['visible', 'class'])) } }); const el = defineComponent({ __name: 'ShortcutsPopup', props: { visible: { type: Boolean } }, emits: ['update:visible'], setup(s) { const e = { root: 'top-1/2! left-1/2! transform! -translate-x-1/2! -translate-y-1/2! w-lg h-2/3 p-0!', container: { main: 'bg-base-100 h-full rounded-xl flex flex-col', header: 'flex justify-between items-center px-4 py-2 bg-base-200 rounded-t-xl', headerTitle: 'text-base font-medium text-base-content', content: 'overflow-y-auto flex-1', sectionsWrapper: 'space-y-6 text-sm' }, section: { wrapper: 'shortcuts-section', content: 'p-6' }, table: { wrapper: 'w-full', labelCell: 'text-base-content py-1 w-1/3 align-top', valueCell: 'text-base-content/60 py-1 text-right' }, shortcutKeys: 'flex gap-1 justify-end', keyBadge: 'kbd kbd-sm rounded', closeButton: 'btn btn-ghost btn-circle btn-xs', titleContainer: 'flex items-center space-x-2 gap-2', titleIcon: 'size-6' }; const t = computed(() => { const a = Is(); return Object.values(a).map(l => ({ name: l.name, keys: l.keys })) }); function n(a) { return { ' ': 'Space' }[a] || a } return (a, l) => (openBlock(), createBlock(le, { 'visible': a.visible, 'class': normalizeClass(e.root), 'onUpdate:visible': l[1] || (l[1] = o => a.$emit('update:visible', o)) }, { default: withCtx(() => [createElementVNode('div', { class: normalizeClass(e.container.main) }, [createElementVNode('div', { class: normalizeClass(e.container.header) }, [createElementVNode('div', { class: normalizeClass(e.titleContainer) }, [createVNode(unref(ho$1), { icon: unref(ra), class: normalizeClass(e.titleIcon) }, null, 8, ['icon', 'class']), createElementVNode('h3', { class: normalizeClass(e.container.headerTitle) }, ' 快捷键 ', 2)], 2), createElementVNode('button', { class: normalizeClass(e.closeButton), onClick: l[0] || (l[0] = o => a.$emit('update:visible', false)) }, [createVNode(unref(ho$1), { icon: 'material-symbols:close-rounded', class: 'size-4' })], 2)], 2), createElementVNode('div', { class: normalizeClass(e.container.content) }, [createElementVNode('div', { class: normalizeClass(e.container.sectionsWrapper) }, [createElementVNode('div', { class: normalizeClass(e.section.wrapper) }, [createElementVNode('div', { class: normalizeClass(e.section.content) }, [createElementVNode('table', { class: normalizeClass(e.table.wrapper) }, [createElementVNode('tbody', null, [(openBlock(true), createElementBlock(Fragment, null, renderList(t.value, o => (openBlock(), createElementBlock('tr', { key: o.name }, [createElementVNode('td', { class: normalizeClass(e.table.labelCell) }, `${toDisplayString(o.name)}: `, 3), createElementVNode('td', { class: normalizeClass(e.table.valueCell) }, [createElementVNode('div', { class: normalizeClass(e.shortcutKeys) }, [(openBlock(true), createElementBlock(Fragment, null, renderList(o.keys, (u, p) => (openBlock(), createElementBlock('span', { key: p, class: normalizeClass(e.keyBadge) }, toDisplayString(n(u)), 3))), 128))], 2)], 2)]))), 128))])], 2)], 2)], 2)], 2)], 2)], 2)]), _: 1 }, 8, ['visible', 'class'])) } }); const tl = ['onClick']; const al = defineComponent({ __name: 'index', setup(s) { const e = { popup: 'p-0!', container: 'menu w-48', menuItem: 'menu-item rounded-lg', icon: 'size-6' }; const { contextMenu: t } = G(); return (n, a) => (openBlock(), createElementBlock(Fragment, null, [createVNode(le, { 'visible': unref(t).visible.value, 'x': unref(t).position.value.x, 'y': unref(t).position.value.y, 'class': normalizeClass(e.popup), 'onUpdate:visible': unref(t).hide }, { default: withCtx(() => [createElementVNode('ul', { class: normalizeClass(e.container) }, [(openBlock(true), createElementBlock(Fragment, null, renderList(unref(t).menuItems, l => (openBlock(), createElementBlock('li', { key: l.id }, [createElementVNode('a', { class: normalizeClass(e.menuItem), onClick: l.action }, [l.icon ? (openBlock(), createBlock(unref(ho$1), { key: 0, icon: l.icon, class: normalizeClass(e.icon) }, null, 8, ['icon', 'class'])) : createCommentVNode('', true), createElementVNode('span', null, toDisplayString(l.label), 1)], 10, tl)]))), 128))], 2)]), _: 1 }, 8, ['visible', 'x', 'y', 'class', 'onUpdate:visible']), createVNode(Zs, { 'visible': unref(t).showAbout.value, 'onUpdate:visible': a[0] || (a[0] = l => unref(t).showAbout.value = l) }, { content: withCtx(() => [renderSlot(n.$slots, 'aboutContent')]), _: 3 }, 8, ['visible']), createVNode(el, { 'visible': unref(t).showShortcuts.value, 'onUpdate:visible': a[1] || (a[1] = l => unref(t).showShortcuts.value = l) }, null, 8, ['visible'])], 64)) } }); function it(s) { const { controls: e } = G(); const { isOutside: t } = Fd(s); const n = shallowRef(false); const a = watchEffect(() => t.value ? (n.value && (e.removeDisabledAutoHide(), n.value = false), () => {}) : (n.value || (e.addDisabledAutoHide(), n.value = true), () => { n.value && (e.removeDisabledAutoHide(), n.value = false) })); return onUnmounted(() => { a(), n.value && (e.removeDisabledAutoHide(), n.value = false) }), { isOutside: t } } const Q = { btn: { root: ['btn btn-link btn-circle tooltip', 'text-base-content disabled:text-base-content/30', 'hover:text-base-content/80'], icon: ['size-8', 'drop-shadow-xs/60'] }, btnText: { root: ['btn btn-link text-base rounded-full tooltip px-1.5 font-semibold', 'text-base-content disabled:text-base-content/30', 'hover:text-base-content/80', 'no-underline hover:no-underline!', 'text-shadow-[0_0_2px_rgba(0_0_0_/0.3),0_0_2px_rgba(0_0_0_/0.3),0_0_2px_rgba(0_0_0_/0.3)]'] }, menu: { root: 'menu p-0 min-w-32 gap-1', a: 'rounded-lg', active: 'menu-active', icon: 'size-6', label: 'text-base-content', desc: 'text-base-content/60' }, text: 'text-sm text-base-content text-shadow-xs/60 text-shadow-[0_0_2px_rgba(0_0_0_/0.3),0_0_2px_rgba(0_0_0_/0.3),0_0_2px_rgba(0_0_0_/0.3)]', subtext: 'text-base-content/60' }; const nl = { btn: { root: [Q.btn.root, 'tooltip-left'], icon: Q.btn.icon }, btnText: { root: Q.btnText.root } }; const sl = ['disabled']; const ll = ['disabled', 'onClick']; const ol = defineComponent({ __name: 'AudioTrackButton', setup(s) { const e = { ...Q }; const { playerCore: t } = G(); const n = shallowRef(false); const a = shallowRef(); function l() { n.value = !n.value } return (o, u) => { let p, d, m; return openBlock(), createElementBlock(Fragment, null, [createElementVNode('button', { 'ref_key': 'buttonRef', 'ref': a, 'class': normalizeClass([e.btn.root]), 'disabled': !((p = unref(t)) != null && p.canplay) || ((d = unref(t)) == null ? undefined : d.type) !== unref(Z).AvPlayer, 'data-tip': '音频轨道', 'onClick': l }, [createVNode(unref(ho$1), { class: normalizeClass([e.btn.icon]), icon: unref(ls) }, null, 8, ['class', 'icon'])], 10, sl), ((m = unref(t)) == null ? undefined : m.type) === unref(Z).AvPlayer ? (openBlock(), createBlock(le, { 'key': 0, 'visible': n.value, 'onUpdate:visible': u[0] || (u[0] = g => n.value = g), 'trigger': a.value, 'placement': 'top' }, { default: withCtx(() => [createElementVNode('ul', { class: normalizeClass([e.menu.root]) }, [(openBlock(true), createElementBlock(Fragment, null, renderList(unref(t).audioStreams, g => (openBlock(), createElementBlock('li', { key: g.id }, [createElementVNode('a', { class: normalizeClass([e.menu.a, { [e.menu.active]: unref(t).audioStreamId === g.id }]), disabled: !unref(t).isSupportStream(g), onClick: T => unref(t).setAudioStream(g.id) }, [createElementVNode('span', { class: normalizeClass([e.menu.label]) }, `${toDisplayString(g.id)}. ${toDisplayString(g.metadata.title ?? 'Untitled')}`, 3), createElementVNode('span', { class: normalizeClass([e.menu.desc]) }, toDisplayString(g.metadata.language), 3)], 10, ll)]))), 128))], 2)]), _: 1 }, 8, ['visible', 'trigger'])) : createCommentVNode('', true)], 64) } } }); const rl = defineComponent({ __name: 'FullscreenButton', setup(s) { const { fullscreen: e } = G(); const t = computed(() => e.isFullscreen.value ? 'material-symbols:fullscreen-exit-rounded' : 'material-symbols:fullscreen-rounded'); return (n, a) => (openBlock(), createElementBlock('button', { 'class': normalizeClass(['btn btn-ghost btn-circle tooltip', { 'swap-active': !unref(e).isFullscreen.value }]), 'data-tip': '全屏 (F)', 'onClick': a[0] || (a[0] = (...l) => unref(e).toggleFullscreen && unref(e).toggleFullscreen(...l)) }, [createVNode(unref(ho$1), { class: 'size-7', icon: t.value }, null, 8, ['icon'])], 2)) } }); const il = ['disabled']; const ul = defineComponent({ __name: 'PipButton', setup(s) { const e = { ...Q }; const { pictureInPicture: t, playerCore: n } = G(); return (a, l) => { let o; return openBlock(), createElementBlock('button', { 'class': normalizeClass(['swap swap-rotate', [e.btn.root, { 'swap-active': !unref(t).isPip.value }]]), 'data-tip': '画中画 (P)', 'disabled': ((o = unref(n)) == null ? undefined : o.type) === unref(Z).AvPlayer, 'onClick': l[0] || (l[0] = (...u) => unref(t).toggle && unref(t).toggle(...u)) }, [createVNode(unref(ho$1), { icon: unref(as), class: normalizeClass(['swap-off', [e.btn.icon]]) }, null, 8, ['icon', 'class']), createVNode(unref(ho$1), { icon: unref(ts), class: normalizeClass(['swap-on', [e.btn.icon]]) }, null, 8, ['icon', 'class'])], 10, il) } } }); const cl = ['disabled']; const dl = ['onClick']; const pl = defineComponent({ __name: 'PlaybackRateButton', setup(s) { const e = { ...Q }; const { playbackRate: t, playerCore: n } = G(); const a = computed(() => [...t.rateOptions.value].reverse()); const l = shallowRef(false); const o = ref(); const u = computed(() => t.current.value === 1 ? '倍速' : `${t.current.value}X`); function p() { l.value = !l.value } function d(m) { t.set(m), l.value = false } return (m, g) => { let T; return openBlock(), createElementBlock(Fragment, null, [createElementVNode('button', { 'ref_key': 'buttonRef', 'ref': o, 'class': normalizeClass([e.btnText.root]), 'disabled': !((T = unref(n)) != null && T.canplay), 'data-tip': '倍速 (ArrowUp/ArrowDown)', 'onClick': p }, toDisplayString(u.value), 11, cl), createVNode(le, { 'visible': l.value, 'onUpdate:visible': g[0] || (g[0] = S => l.value = S), 'trigger': o.value, 'placement': 'top' }, { default: withCtx(() => [createElementVNode('ul', { class: normalizeClass([e.menu.root]) }, [(openBlock(true), createElementBlock(Fragment, null, renderList(a.value, S => (openBlock(), createElementBlock('li', { key: S, onClick: k => d(S) }, [createElementVNode('a', { class: normalizeClass([e.menu.a, { [e.menu.active]: unref(t).current.value === S }]) }, toDisplayString(S), 3)], 8, dl))), 128))], 2)]), _: 1 }, 8, ['visible', 'trigger'])], 64) } } }); const fl = ['disabled']; const ml = defineComponent({ __name: 'PlayButton', setup(s) { const e = { btn: { ...Q.btn, root: [Q.btn.root, 'before:ml-8'] } }; const { playerCore: t } = G(); return (n, a) => { let l, o; return openBlock(), createElementBlock('button', { 'class': normalizeClass(['swap swap-rotate', [e.btn.root, { 'swap-active': (l = unref(t)) == null ? undefined : l.paused }]]), 'disabled': !((o = unref(t)) != null && o.canplay), 'data-tip': '播放/暂停 (Space)', 'onClick': a[0] || (a[0] = (...u) => { let p, d; return ((p = unref(t)) == null ? undefined : p.togglePlay) && ((d = unref(t)) == null ? undefined : d.togglePlay(...u)) }) }, [createVNode(unref(ho$1), { icon: unref(ta), class: normalizeClass(['swap-off', [e.btn.icon]]) }, null, 8, ['icon', 'class']), createVNode(unref(ho$1), { icon: unref(aa), class: normalizeClass(['swap-on', [e.btn.icon]]) }, null, 8, ['icon', 'class'])], 10, fl) } } }); const vl = ['disabled']; const gl = ['onClick']; const bl = defineComponent({ __name: 'PlayerCoreButton', setup(s) { const e = { ...Q, btn: { ...Q.btn, root: [Q.btn.root, 'btn-'] } }; const { source: t, playerCore: n } = G(); const a = shallowRef(false); const l = shallowRef(); function o() { a.value = !a.value } return (u, p) => { let d, m, g, T, S, k, h; return openBlock(), createElementBlock(Fragment, null, [createElementVNode('button', { 'ref_key': 'buttonRef', 'ref': l, 'class': normalizeClass([e.btn.root]), 'data-tip': '播放器核心', 'disabled': ((g = (m = (d = unref(t)) == null ? undefined : d.current) == null ? undefined : m.value) == null ? undefined : g.type) === 'hls' || ((S = (T = unref(t)) == null ? undefined : T.isSwitching) == null ? undefined : S.value), 'onClick': o }, [createVNode(unref(ho$1), { class: normalizeClass(['transition-transform', [e.btn.icon, { 'rotate-90': a.value, 'motion-safe:animate-spin': (h = (k = unref(t)) == null ? undefined : k.isSwitching) == null ? undefined : h.value }]]), icon: unref(ss) }, null, 8, ['class', 'icon'])], 10, vl), createVNode(le, { 'visible': a.value, 'onUpdate:visible': p[0] || (p[0] = b => a.value = b), 'trigger': l.value, 'placement': 'top' }, { default: withCtx(() => [createElementVNode('ul', { class: normalizeClass([e.menu.root]) }, [(openBlock(true), createElementBlock(Fragment, null, renderList([unref(Z).Native, unref(Z).AvPlayer], (b) => { let w; return openBlock(), createElementBlock('li', { key: b }, [createElementVNode('a', { class: normalizeClass([e.menu.a, { [e.menu.active]: ((w = unref(n)) == null ? undefined : w.type) === b }]), onClick: v => (unref(t).switchPlayerCore(b), a.value = false) }, toDisplayString(b), 11, gl)]) }), 128))], 2)]), _: 1 }, 8, ['visible', 'trigger'])], 64) } } }); function yl(s, e, t) { return s < e ? e : s > t ? t : s } const hl = ['height']; const wl = { key: 0 }; const _l = { key: 1 }; const pe = 250; const xl = defineComponent({ __name: 'index', props: { visible: { type: Boolean }, position: {}, time: {}, progressBarWidth: {} }, emits: ['seek'], setup(s, { emit: e }) {
        const t = s; const n = e; const a = { root: ['absolute top-0', '[will-change:transform]'], image: { root: ['relative flex items-center justify-center rounded-xl overflow-hidden mb-2', 'bg-black shadow-xs/30', 'cursor-pointer transition-all duration-550 ease-out', 'hover:scale-[1.02]'], pressing: 'ring-4 ring-base-content/90', loading: 'absolute loading loading-spinner size-12 m-auto rounded-full text-base-content/80', error: 'absolute inset-0 flex items-center justify-center' }, timeBox: { container: 'text-sm py-0.5 text-neutral-300 subpixel-antialiased text-center select-none text-shadow-[0_0_1px_rgb(0_0_0_/0.5),0_0_2px_rgb(55_55_55_/0.7)]' } }; const { rootProps: l, source: o, progressBar: u } = G(); function p(P, I, O) { return P * O / I } const d = p(pe, 16, 9); const m = ref(false); const { onThumbnailRequest: g } = l; const T = shallowRef(null); const S = shallowRef({ width: pe, height: d }); const k = shallowRef(null); const h = reactive({ lastHoverTime: -1, lastRequestTime: -1, renderTime: -1, renderImage: undefined, error: undefined }); const b = shallowRef(-1); const w = computed(() => t.visible && b.value > -1); const v = computed(() => { let P; return (P = T.value) == null ? undefined : P.getContext('2d') }); const f = computed(() => h.lastRequestTime >= 0 && h.lastRequestTime === h.lastHoverTime); watch(() => [t.position], async () => { if (!t.visible) { b.value = -1; return } if (t.progressBarWidth < 0) { b.value = -1; return } const P = S.value.width; const I = -(P / 2); const O = t.progressBarWidth * (t.position / 100); const $ = I + O; const C = 0; const F = t.progressBarWidth - P; const D = yl($, C, F); b.value = D }); async function _(P, I) {
          k.value && (clearTimeout(k.value), k.value = null), h.renderImage = undefined, I || (k.value = setTimeout(() => { P === h.lastHoverTime && _(P, true) }, 50)); try {
            const O = await (g == null ? void 0 : g({ type: 'Cache', time: P, isLast: I })); if (O) { h.renderImage = O, h.renderTime = P, I && (h.lastRequestTime = -1), h.error = void 0; return }h.lastRequestTime = P; const $ = await (g == null ? void 0 : g({ type: 'Must', time: P, isLast: I })); if (!$)
              return; P === h.lastHoverTime && I && (h.lastRequestTime = -1, h.renderImage = $, h.renderTime = P, h.error = void 0)
          }
          catch (O) { h.error = O }
        }watch(() => [t.visible, t.time], async () => {
          if (!g)
            return; if (!t.visible || !t.time) { h.lastHoverTime = -1, h.renderImage = undefined; return } const P = t.time; h.lastHoverTime = P, await _(P, false)
        }), watch(() => [h.renderImage, h.error], () => {
          h.error || T.value && v.value && requestAnimationFrame(() => {
            if (!v.value)
              throw new Error('ctx not found'); if (v.value.clearRect(0, 0, pe, d), h.renderImage && h.renderTime === h.lastHoverTime) { const P = h.renderImage.img.width; const I = h.renderImage.img.height; const { width: O, height: $ } = qn$1(P, I, pe, d); const C = (pe - O) / 2; const F = (d - $) / 2; v.value.fillStyle = '#000', v.value.fillRect(0, 0, pe, d), v.value.drawImage(h.renderImage.img, C, F, O, $) }
          })
        }), watch([o.list], () => { h.lastHoverTime = -1, h.lastRequestTime = -1, h.renderTime = -1, h.renderImage = undefined, k.value && (clearTimeout(k.value), k.value = null) }); function R(P) { let I; (I = h.renderImage) != null && I.frameTime && (P.stopPropagation(), n('seek', h.renderImage.frameTime)) } return onUnmounted(() => { k.value && (clearTimeout(k.value), k.value = null) }), (P, I) => { let O, $; return withDirectives((openBlock(), createElementBlock('div', { class: normalizeClass(a.root), style: normalizeStyle({ transform: `translateX(${b.value}px) translateY(-100%)` }) }, [createElementVNode('div', { class: normalizeClass([a.image.root, { [a.image.pressing]: unref(u).isDragging.value }]), style: normalizeStyle({ width: `${S.value.width}px`, height: `${S.value.height}px` }), onMouseenter: I[0] || (I[0] = C => m.value = true), onMouseleave: I[1] || (I[1] = C => m.value = false), onMouseup: R }, [createElementVNode('canvas', { ref_key: 'thumbnailCanvas', ref: T, width: pe, height: unref(d) }, null, 8, hl), createVNode(Transition, { 'enter-active-class': 'transition-opacity duration-150 ease-out delay-60', 'leave-active-class': 'transition-opacity duration-150 ease-out delay-60', 'enter-from-class': 'opacity-0', 'leave-to-class': 'opacity-0' }, { default: withCtx(() => [f.value ? (openBlock(), createElementBlock('div', { key: 0, class: normalizeClass(a.image.loading) }, null, 2)) : createCommentVNode('', true)]), _: 1 }), h.error ? (openBlock(), createElementBlock('div', { key: 0, class: normalizeClass(a.image.error) }, [createVNode(_r$1, { message: h.error, size: 'mini' }, null, 8, ['message'])], 2)) : createCommentVNode('', true)], 38), createElementVNode('div', { class: normalizeClass(a.timeBox.container) }, [m.value && ((O = h.renderImage) != null && O.frameTime) ? (openBlock(), createElementBlock('span', wl, ` 跳至 ${toDisplayString(unref(fe)((($ = h.renderImage) == null ? undefined : $.frameTime) || 0))} 预览时间 `, 1)) : (openBlock(), createElementBlock('span', _l, toDisplayString(unref(fe)(t.time)), 1))], 2)], 6)), [[vShow, w.value]]) }
      } }); const kl = defineComponent({ __name: 'ProgressBar', setup(s) {
        const e = { progressBar: { root: 'relative', wrapper: 'py-2 cursor-pointer relative', track: 'h-1 bg-base-content/30 relative transition-[height] duration-100 ease-linear shadow-xl/60' }, thumb: { current: 'absolute h-full bg-primary transition-[width] duration-100 linear', dragging: 'transition-none', hover: 'absolute h-full bg-primary pointer-events-none' }, handle: { container: 'absolute h-full -translate-x-1/2', base: ['absolute top-1/2 left-1/2 size-3.5', 'bg-primary rounded-full drop-shadow-xs/60', '-translate-x-1/2 -translate-y-1/2 scale-0', 'transition-all duration-100 ease-linear pointer-events-none'], visible: 'scale-100', dragging: '!scale-80 bg-base-content! duration-450 ring-4 ring-primary', original: '!bg-white/50 !scale-100' } }; const { progressBar: t, playerCore: n, controls: a } = G(); const l = computed(() => { let B, q; return (((B = n.value) == null ? undefined : B.currentTime) ?? 0) / (((q = n.value) == null ? undefined : q.duration) ?? 1) * 100 }); const o = computed(() => { let B; return ((B = n.value) == null ? undefined : B.duration) ?? 0 }); const u = shallowRef(null); const { width: p } = $d(u); const d = t.isDragging; const m = shallowRef(false); const g = computed(() => m.value || d.value); const T = shallowRef(0); const S = shallowRef(0); const k = shallowRef(0); const h = shallowRef(0); const b = shallowRef(false); function w(B, q) { const te = q.getBoundingClientRect(); const ce = (B.clientX - te.left) / te.width; return Math.min(Math.max(ce, 0), 1) } function v(B) {
          if (!u.value)
            return; const q = w(B, u.value); $(q)
        } function f() { m.value = true, b.value || D() } function _(B) {
          if (!u.value)
            return; const q = w(B, u.value); O(q)
        } function R() { m.value = false, ee() } function P(B) {
          if (!u.value)
            return; const q = w(B, u.value); C(q)
        } function I(B) {
          if (document.removeEventListener('mousemove', P), document.removeEventListener('mouseup', I), !u.value)
            return; const q = w(B, u.value); F(q), m.value || ee()
        } function O(B) { h.value = B * 100, k.value = B * o.value } function $(B) { a.addDisabledAutoHide(), a.setDisabledHideOnMouseLeave(true), d.value = true, S.value = l.value, T.value = B * 100, k.value = B * o.value, document.addEventListener('mousemove', P), document.addEventListener('mouseup', I) } function C(B) { d.value && (T.value = B * 100, k.value = B * o.value) } function F(B) { let q; if (d.value) { const te = B * o.value; (q = n.value) == null || q.seek(te), h.value = B * 100, k.value = te }d.value = false, a.removeDisabledAutoHide(), a.setDisabledHideOnMouseLeave(false) } function D() { b.value = true } function ee() { d.value || (b.value = false, h.value = 0, k.value = 0) } function se(B) { let q; (q = n.value) == null || q.seek(B), d.value = false, ee(), document.removeEventListener('mousemove', P), document.removeEventListener('mouseup', I) } return onUnmounted(() => { document.removeEventListener('mousemove', P), document.removeEventListener('mouseup', I) }), (B, q) => (openBlock(), createElementBlock('div', { class: normalizeClass(e.progressBar.root) }, [createElementVNode('div', { ref_key: 'progressBarWrapperRef', ref: u, class: normalizeClass(e.progressBar.wrapper), onMousedown: v, onMouseenter: f, onMousemove: _, onMouseleave: R }, [createElementVNode('div', { class: normalizeClass([e.progressBar.track]) }, [createElementVNode('div', { class: normalizeClass(e.thumb.current), style: normalizeStyle({ width: `${l.value}%`, opacity: unref(d) ? 0 : 1 }) }, null, 6), unref(d) && !unref(t).isLongPressDragging.value ? (openBlock(), createElementBlock('div', { key: 0, class: normalizeClass([e.thumb.current, e.thumb.dragging]), style: normalizeStyle({ width: `${T.value}%` }) }, null, 6)) : createCommentVNode('', true), withDirectives(createElementVNode('div', { class: normalizeClass(e.thumb.hover), style: normalizeStyle({ width: `${h.value}%` }) }, null, 6), [[vShow, b.value && !unref(d)]]), unref(d) ? (openBlock(), createElementBlock('div', { key: 1, class: normalizeClass(e.handle.container), style: normalizeStyle({ left: `${S.value}%` }) }, [createElementVNode('div', { class: normalizeClass([e.handle.base, e.handle.original]) }, null, 2)], 6)) : createCommentVNode('', true), createElementVNode('div', { class: normalizeClass(e.handle.container), style: normalizeStyle({ left: `${unref(d) ? T.value : l.value}%` }) }, [createElementVNode('div', { class: normalizeClass([e.handle.base, g.value && e.handle.visible, unref(d) && e.handle.dragging]) }, null, 2)], 6)], 2)], 34), createVNode(xl, { 'visible': b.value || unref(d), 'position': unref(d) ? T.value : h.value, 'time': k.value, 'progress-bar-width': unref(p), 'onSeek': se }, null, 8, ['visible', 'position', 'time', 'progress-bar-width'])], 2))
      } }); const Cl = ['onClick']; const Pl = defineComponent({ __name: 'QualityButton', setup(s) {
        const e = { ...Q }; const { source: t } = G(); const n = shallowRef(false); const a = shallowRef(); const l = computed(() => {
          if (!t.current.value)
            return '自动'; const d = t.current.value.displayQuality || t.current.value.quality; return typeof d == 'number' ? `${d}P` : d
        }); function o() { n.value = !n.value } function u(d) { const m = d.displayQuality || d.quality; return typeof m == 'number' ? `${m}P` : m } async function p(d) { n.value = false, await t.changeQuality(d) } return (d, m) => (openBlock(), createElementBlock(Fragment, null, [createElementVNode('button', { 'ref_key': 'buttonRef', 'ref': a, 'class': normalizeClass(e.btnText.root), 'data-tip': '画质', 'onClick': o }, [createElementVNode('span', null, toDisplayString(l.value), 1)], 2), createVNode(le, { 'visible': n.value, 'onUpdate:visible': m[0] || (m[0] = g => n.value = g), 'trigger': a.value, 'placement': 'top' }, { default: withCtx(() => [createElementVNode('ul', { class: normalizeClass(e.menu.root) }, [(openBlock(true), createElementBlock(Fragment, null, renderList(unref(t).list.value, (g) => { let T; return openBlock(), createElementBlock('li', { key: g.quality }, [createElementVNode('a', { class: normalizeClass([e.menu.a, { [e.menu.active]: g.quality === ((T = unref(t).current.value) == null ? undefined : T.quality) }]), onClick: S => p(g) }, toDisplayString(u(g)), 11, Cl)]) }), 128))], 2)]), _: 1 }, 8, ['visible', 'trigger'])], 64))
      } }); const Sl = { class: 'card card-sm bg-neutral-800' }; const Tl = { class: 'card-body' }; const Rl = { class: 'fieldset' }; const $l = ['checked']; const Il = { class: 'btn btn-link btn-xs inline-flex text-base-300', href: 'https://github.com/cbingb666/115master/discussions/206', target: '_blank' }; const Ml = defineComponent({ __name: 'PlaySettings', setup(s) { const { playSettings: e } = G(); return (t, n) => (openBlock(), createElementBlock('div', Sl, [createElementVNode('div', Tl, [n[3] || (n[3] = createElementVNode('h3', { class: 'card-title flex justify-between' }, ' 播放 ', -1)), createElementVNode('div', null, [createElementVNode('fieldset', Rl, [n[2] || (n[2] = createElementVNode('legend', { class: 'fieldset-legend' }, ' 自动播放 ', -1)), createElementVNode('input', { type: 'checkbox', checked: unref(e).autoPlay.value, class: 'toggle toggle-sm toggle-primary', onChange: n[0] || (n[0] = (...a) => unref(e).toggleAutoPlay && unref(e).toggleAutoPlay(...a)) }, null, 40, $l), createElementVNode('a', Il, [createVNode(unref(ho$1), { icon: unref(_s) }, null, 8, ['icon']), n[1] || (n[1] = createTextVNode('如何开启声音？ '))])])])])])) } }); const El = { class: 'card card-sm bg-neutral-800' }; const Al = { class: 'card-body' }; const Ll = { class: 'fieldset' }; const Fl = { class: 'flex gap-2' }; const Ol = ['onClick']; const Bl = { class: 'fieldset' }; const Dl = ['checked']; const Vl = defineComponent({ __name: 'ThumbnailSettings', setup(s) { const { thumbnailSettings: e } = G(); const t = [30, 60, 120]; return (n, a) => (openBlock(), createElementBlock('div', El, [createElementVNode('div', Al, [a[3] || (a[3] = createElementVNode('h3', { class: 'card-title flex justify-between' }, [createTextVNode(' 预览图 '), createElementVNode('span', { class: 'text-xs font-normal text-base-content/50 text-center' }, '刷新后生效')], -1)), createElementVNode('div', null, [createElementVNode('fieldset', Ll, [a[1] || (a[1] = createElementVNode('legend', { class: 'fieldset-legend' }, ' 采样间隔 (S) ', -1)), createElementVNode('div', Fl, [(openBlock(), createElementBlock(Fragment, null, renderList(t, l => createElementVNode('button', { key: l, class: normalizeClass(['btn btn-sm bg-soft flex-1', { 'btn-primary': unref(e).samplingInterval.value === l }]), onClick: o => unref(e).setSamplingInterval(l) }, toDisplayString(l), 11, Ol)), 64))])]), createElementVNode('fieldset', Bl, [a[2] || (a[2] = createElementVNode('legend', { class: 'fieldset-legend' }, ' 自动缓冲 ', -1)), createElementVNode('input', { type: 'checkbox', checked: unref(e).autoLoadThumbnails.value, class: 'toggle toggle-sm toggle-primary', onChange: a[0] || (a[0] = (...l) => unref(e).toggleAutoLoad && unref(e).toggleAutoLoad(...l)) }, null, 40, Dl)])])])])) } }); const Nl = { class: 'card card-sm bg-neutral-800' }; const Ul = { class: 'card-body' }; const Hl = { class: 'fieldset' }; const jl = { class: 'fieldset-legend w-full' }; const ql = { class: 'badge badge-sm' }; const zl = { class: 'flex gap-2' }; const Wl = ['disabled']; const Gl = ['disabled']; const Kl = { class: 'fieldset' }; const Xl = { class: 'flex gap-2' }; const Yl = { class: 'transform rotate-90' }; const Ql = defineComponent({ __name: 'TransformSettings', setup(s) { const { transform: e } = G(); return (t, n) => (openBlock(), createElementBlock('div', Nl, [createElementVNode('div', Ul, [n[9] || (n[9] = createElementVNode('h3', { class: 'card-title' }, ' 旋转与翻转 ', -1)), createElementVNode('div', null, [createElementVNode('fieldset', Hl, [createElementVNode('legend', jl, [n[5] || (n[5] = createTextVNode(' 旋转 ')), createElementVNode('span', ql, `${toDisplayString(unref(e).rotate.value)}°`, 1)]), createElementVNode('div', zl, [createElementVNode('button', { class: 'btn btn-sm join-item flex-1', disabled: unref(e).rotate.value === -270, onClick: n[0] || (n[0] = (...a) => unref(e).left && unref(e).left(...a)) }, [createVNode(unref(ho$1), { icon: unref(us), class: 'size-4' }, null, 8, ['icon'])], 8, Wl), createElementVNode('button', { class: 'btn btn-sm join-item flex-1', onClick: n[1] || (n[1] = (...a) => unref(e).normal && unref(e).normal(...a)) }, [createVNode(unref(ho$1), { icon: unref(ds), class: 'size-4' }, null, 8, ['icon'])]), createElementVNode('button', { class: 'btn btn-sm join-item flex-1', disabled: unref(e).rotate.value === 270, onClick: n[2] || (n[2] = (...a) => unref(e).right && unref(e).right(...a)) }, [createVNode(unref(ho$1), { icon: unref(cs), class: 'size-4' }, null, 8, ['icon'])], 8, Gl)])]), createElementVNode('fieldset', Kl, [n[8] || (n[8] = createElementVNode('legend', { class: 'fieldset-legend' }, ' 翻转 ', -1)), createElementVNode('div', Xl, [createElementVNode('button', { class: normalizeClass(['btn btn-sm flex-1', { 'btn-primary': unref(e).flipX.value }]), onClick: n[3] || (n[3] = (...a) => unref(e).toggleFlipX && unref(e).toggleFlipX(...a)) }, [createElementVNode('div', Yl, [createVNode(unref(ho$1), { icon: unref(na), class: 'size-4' }, null, 8, ['icon'])]), n[6] || (n[6] = createTextVNode(' 水平 '))], 2), createElementVNode('button', { class: normalizeClass(['btn btn-sm flex-1', { 'btn-primary': unref(e).flipY.value }]), onClick: n[4] || (n[4] = (...a) => unref(e).toggleFlipY && unref(e).toggleFlipY(...a)) }, [createVNode(unref(ho$1), { icon: unref(sa), class: 'size-4' }, null, 8, ['icon']), n[7] || (n[7] = createTextVNode(' 垂直 '))], 2)])])])])])) } }); const Jl = defineComponent({ __name: 'SettingsButton', setup(s) { const e = { ...Q, panel: { root: 'grid grid-cols-3 gap-3 p-1 w-full max-w-2xl' }, popup: 'select-none' }; const t = shallowRef(); const n = shallowRef(false); function a() { n.value = !n.value } return (l, o) => (openBlock(), createElementBlock(Fragment, null, [createElementVNode('button', { 'ref_key': 'buttonRef', 'ref': t, 'class': normalizeClass([e.btn.root]), 'data-tip': '设置', 'onClick': a }, [createVNode(unref(ho$1), { class: normalizeClass(['transition-transform', [e.btn.icon, { 'rotate-90': n.value }]]), icon: unref(ns) }, null, 8, ['class', 'icon'])], 2), createVNode(le, { 'visible': n.value, 'onUpdate:visible': o[0] || (o[0] = u => n.value = u), 'trigger': t.value, 'placement': 'top', 'class': normalizeClass([e.popup]) }, { default: withCtx(() => [createElementVNode('div', { class: normalizeClass([e.panel.root]) }, [createVNode(Ml), createVNode(Vl), createVNode(Ql)], 2)]), _: 1 }, 8, ['visible', 'trigger', 'class'])], 64)) } }); const Zl = ['data-tip', 'disabled']; const eo = ['title', 'onClick']; const to = defineComponent({ __name: 'SubtitleButton', setup(s) { const e = { menu: { ...Q.menu, root: [Q.menu.root, 'max-h-72 max-w-xl overflow-y-auto overflow-x-hidden !flex-nowrap'], a: [Q.menu.a, 'flex py-2 flex-wrap w-full'], label: [Q.menu.label, 'w-xs flex-1 line-clamp-2'], desc: [Q.menu.desc] }, btn: Q.btn }; const { subtitles: t } = G(); const n = shallowRef(false); const a = shallowRef(); const l = computed(() => [{ id: -1, label: '关闭字幕', value: null, icon: et }, ...(t.list.value ?? []).map(p => ({ id: p.url, label: p.label, value: p, icon: undefined }))]); function o() { n.value = !n.value } function u(p) { n.value = false, t.change(p) } return (p, d) => { let m, g, T; return openBlock(), createElementBlock(Fragment, null, [createElementVNode('button', { 'ref_key': 'buttonRef', 'ref': a, 'class': normalizeClass([e.btn.root]), 'data-tip': `${(m = unref(t).list.value) != null && m.length ? '字幕(C)' : '未找到字幕'}`, 'disabled': unref(t).loading.value || !unref(t).ready.value || ((g = unref(t).list.value) == null ? undefined : g.length) === 0, 'onClick': o }, [unref(t).loading.value || !unref(t).ready.value ? (openBlock(), createBlock(unref(ho$1), { key: 0, class: normalizeClass([e.btn.icon]), icon: unref(os) }, null, 8, ['class', 'icon'])) : (openBlock(), createBlock(unref(ho$1), { key: 1, icon: unref(t).current.value ? unref(la) : unref(et), class: normalizeClass([e.btn.icon]), disabled: ((T = unref(t).list.value) == null ? undefined : T.length) === 0 }, null, 8, ['icon', 'class', 'disabled']))], 10, Zl), createVNode(le, { 'visible': n.value, 'onUpdate:visible': d[0] || (d[0] = S => n.value = S), 'trigger': a.value, 'placement': 'top' }, { default: withCtx(() => [createElementVNode('ul', { class: normalizeClass([e.menu.root]) }, [(openBlock(true), createElementBlock(Fragment, null, renderList(l.value, (S) => { let k, h, b; return openBlock(), createElementBlock('li', { key: S.id }, [createElementVNode('a', { class: normalizeClass([e.menu.a, { [e.menu.active]: ((k = S.value) == null ? undefined : k.url) === ((h = unref(t).current.value) == null ? undefined : h.url) }]), title: S.label, onClick: w => u(S.value) }, [S.icon ? (openBlock(), createBlock(unref(ho$1), { key: 0, class: normalizeClass([e.menu.icon]), icon: S.icon }, null, 8, ['class', 'icon'])) : createCommentVNode('', true), createElementVNode('span', { class: normalizeClass([e.menu.label]) }, toDisplayString(S.label), 3), createElementVNode('span', { class: normalizeClass([e.menu.desc]) }, toDisplayString((b = S.value) == null ? undefined : b.source), 3)], 10, eo)]) }), 128))], 2)]), _: 1 }, 8, ['visible', 'trigger'])], 64) } } }); const ao = defineComponent({ __name: 'TimeDisplay', setup(s) { const { playerCore: e } = G(); const t = { root: [Q.text, 'flex items-center gap-1.5 select-none'], separator: Q.subtext }; return (n, a) => { let l, o, u, p; return openBlock(), createElementBlock('div', { class: normalizeClass([[t.root, { 'opacity-0': !((l = unref(e)) != null && l.canplay), 'opacity-100': (o = unref(e)) == null ? undefined : o.canplay }], 'transition-opacity duration-200']) }, [createElementVNode('span', null, toDisplayString(unref(fe)((u = unref(e)) == null ? undefined : u.currentTime)), 1), createElementVNode('span', { class: normalizeClass(t.separator) }, '/', 2), createElementVNode('span', null, toDisplayString(unref(fe)((p = unref(e)) == null ? undefined : p.duration)), 1)], 2) } } }); const no = { class: 'card card-sm bg-neutral-800' }; const so = { class: 'card-body' }; const lo = { class: 'flex justify-between items-center mb-2' }; const oo = { class: 'grid grid-rows-5 grid-flow-col gap-x-5 gap-y-2' }; const ro = { class: 'fieldset' }; const io = { class: 'fieldset-legend w-full' }; const uo = { class: 'badge badge-sm' }; const co = { class: 'fieldset' }; const po = { class: 'fieldset-legend w-full' }; const fo = { class: 'badge badge-sm' }; const mo = { class: 'fieldset' }; const vo = { class: 'fieldset-legend w-full' }; const go = { class: 'badge badge-sm' }; const bo = { class: 'fieldset' }; const yo = { class: 'fieldset-legend w-full' }; const ho = { class: 'badge badge-sm' }; const wo = { class: 'fieldset' }; const _o = { class: 'fieldset-legend w-full' }; const xo = { class: 'badge badge-sm' }; const ko = { class: 'fieldset' }; const Co = { class: 'fieldset-legend w-full' }; const Po = { class: 'badge badge-sm' }; const So = { class: 'fieldset' }; const To = { class: 'fieldset-legend w-full' }; const Ro = { class: 'badge badge-sm' }; const $o = { class: 'fieldset' }; const Io = { class: 'fieldset-legend w-full' }; const Mo = { class: 'badge badge-sm' }; const Eo = { class: 'fieldset' }; const Ao = { class: 'fieldset-legend w-full' }; const Lo = { class: 'badge badge-sm' }; const Fo = { class: 'fieldset' }; const Oo = { class: 'fieldset-legend w-full' }; const Bo = { class: 'badge badge-sm' }; const Do = { class: 'fieldset' }; const Vo = defineComponent({ __name: 'VideoEnhanceSettings', setup(s) { const e = { ...Q, popup: 'select-none' }; const t = shallowRef(); const n = shallowRef(false); function a() { n.value = !n.value } const { videoEnhance: l } = G(); return (o, u) => (openBlock(), createElementBlock(Fragment, null, [createElementVNode('button', { 'ref_key': 'buttonRef', 'ref': t, 'class': normalizeClass([e.btn.root]), 'data-tip': '颜色调整', 'onClick': a }, [createVNode(unref(ho$1), { class: normalizeClass(['transition-transform', [e.btn.icon, { 'rotate-45': n.value }]]), icon: unref(ws) }, null, 8, ['class', 'icon'])], 2), createVNode(le, { 'visible': n.value, 'onUpdate:visible': u[12] || (u[12] = p => n.value = p), 'trigger': t.value, 'placement': 'top', 'class': normalizeClass([e.popup]) }, { default: withCtx(() => [createElementVNode('div', no, [createElementVNode('div', so, [createElementVNode('div', lo, [u[13] || (u[13] = createElementVNode('h3', { class: 'card-title' }, ' 色彩调整 ', -1)), createElementVNode('button', { class: 'btn btn-xs btn-circle btn-ghost', title: '重置', onClick: u[0] || (u[0] = (...p) => unref(l).reset && unref(l).reset(...p)) }, [createVNode(unref(ho$1), { icon: unref(es), class: 'size-6' }, null, 8, ['icon'])])]), createElementVNode('div', oo, [createElementVNode('fieldset', ro, [createElementVNode('legend', io, [u[14] || (u[14] = createTextVNode(' 亮度 ')), createElementVNode('span', uo, toDisplayString(unref(l).colorParams.brightness), 1)]), withDirectives(createElementVNode('input', { 'onUpdate:modelValue': u[1] || (u[1] = p => unref(l).colorParams.brightness = p), 'type': 'range', 'class': 'range range-xs range-primary [--range-fill:0] w-full', 'min': '-100', 'max': '100', 'step': '1' }, null, 512), [[vModelText, unref(l).colorParams.brightness, undefined, { number: true }]])]), createElementVNode('fieldset', co, [createElementVNode('legend', po, [u[15] || (u[15] = createTextVNode(' 对比度 ')), createElementVNode('span', fo, toDisplayString(unref(l).colorParams.contrast), 1)]), withDirectives(createElementVNode('input', { 'onUpdate:modelValue': u[2] || (u[2] = p => unref(l).colorParams.contrast = p), 'type': 'range', 'class': 'range range-xs range-primary [--range-fill:0] w-full', 'min': '-100', 'max': '100', 'step': '1' }, null, 512), [[vModelText, unref(l).colorParams.contrast, undefined, { number: true }]])]), createElementVNode('fieldset', mo, [createElementVNode('legend', vo, [u[16] || (u[16] = createTextVNode(' 高光 ')), createElementVNode('span', go, toDisplayString(unref(l).colorParams.highlights), 1)]), withDirectives(createElementVNode('input', { 'onUpdate:modelValue': u[3] || (u[3] = p => unref(l).colorParams.highlights = p), 'type': 'range', 'class': 'range range-xs range-primary [--range-fill:0] w-full', 'min': '-100', 'max': '100', 'step': '1' }, null, 512), [[vModelText, unref(l).colorParams.highlights, undefined, { number: true }]])]), createElementVNode('fieldset', bo, [createElementVNode('legend', yo, [u[17] || (u[17] = createTextVNode(' 阴影 ')), createElementVNode('span', ho, toDisplayString(unref(l).colorParams.shadows), 1)]), withDirectives(createElementVNode('input', { 'onUpdate:modelValue': u[4] || (u[4] = p => unref(l).colorParams.shadows = p), 'type': 'range', 'class': 'range range-xs range-primary [--range-fill:0] w-full', 'min': '-100', 'max': '100', 'step': '1' }, null, 512), [[vModelText, unref(l).colorParams.shadows, undefined, { number: true }]])]), createElementVNode('fieldset', wo, [createElementVNode('legend', _o, [u[18] || (u[18] = createTextVNode(' 饱和度 ')), createElementVNode('span', xo, toDisplayString(unref(l).colorParams.saturation), 1)]), withDirectives(createElementVNode('input', { 'onUpdate:modelValue': u[5] || (u[5] = p => unref(l).colorParams.saturation = p), 'type': 'range', 'class': 'range range-xs range-primary [--range-fill:0] w-full', 'min': '-100', 'max': '100', 'step': '1' }, null, 512), [[vModelText, unref(l).colorParams.saturation, undefined, { number: true }]])]), createElementVNode('fieldset', ko, [createElementVNode('legend', Co, [u[19] || (u[19] = createTextVNode(' 色温 ')), createElementVNode('span', Po, toDisplayString(unref(l).colorParams.colorTemp), 1)]), withDirectives(createElementVNode('input', { 'onUpdate:modelValue': u[6] || (u[6] = p => unref(l).colorParams.colorTemp = p), 'type': 'range', 'class': 'range range-xs range-primary [--range-fill:0] w-full', 'min': '-100', 'max': '100', 'step': '1' }, null, 512), [[vModelText, unref(l).colorParams.colorTemp, undefined, { number: true }]])]), createElementVNode('fieldset', So, [createElementVNode('legend', To, [u[20] || (u[20] = createTextVNode(' 色调 ')), createElementVNode('span', Ro, toDisplayString(unref(l).colorParams.hue), 1)]), withDirectives(createElementVNode('input', { 'onUpdate:modelValue': u[7] || (u[7] = p => unref(l).colorParams.hue = p), 'type': 'range', 'class': 'range range-xs range-primary [--range-fill:0] w-full', 'min': '-100', 'max': '100', 'step': '1' }, null, 512), [[vModelText, unref(l).colorParams.hue, undefined, { number: true }]])]), createElementVNode('fieldset', $o, [createElementVNode('legend', Io, [u[21] || (u[21] = createTextVNode(' 锐化 ')), createElementVNode('span', Mo, toDisplayString(unref(l).colorParams.sharpness), 1)]), withDirectives(createElementVNode('input', { 'onUpdate:modelValue': u[8] || (u[8] = p => unref(l).colorParams.sharpness = p), 'type': 'range', 'class': 'range range-xs range-primary [--range-fill:0] w-full', 'min': '0', 'max': '100', 'step': '1' }, null, 512), [[vModelText, unref(l).colorParams.sharpness, undefined, { number: true }]])]), createElementVNode('fieldset', Eo, [createElementVNode('legend', Ao, [u[22] || (u[22] = createTextVNode(' 美白强度 ')), createElementVNode('span', Lo, toDisplayString(unref(l).colorParams.skinWhitening), 1)]), withDirectives(createElementVNode('input', { 'onUpdate:modelValue': u[9] || (u[9] = p => unref(l).colorParams.skinWhitening = p), 'type': 'range', 'class': 'range range-xs range-primary [--range-fill:0] w-full', 'min': '0', 'max': '100', 'step': '1' }, null, 512), [[vModelText, unref(l).colorParams.skinWhitening, undefined, { number: true }]])]), createElementVNode('fieldset', Fo, [createElementVNode('legend', Oo, [u[23] || (u[23] = createTextVNode(' 肤色范围 ')), createElementVNode('span', Bo, toDisplayString(unref(l).colorParams.skinRange), 1)]), withDirectives(createElementVNode('input', { 'onUpdate:modelValue': u[10] || (u[10] = p => unref(l).colorParams.skinRange = p), 'type': 'range', 'class': 'range range-xs range-primary [--range-fill:0] w-full', 'min': '1', 'max': '10', 'step': '1' }, null, 512), [[vModelText, unref(l).colorParams.skinRange, undefined, { number: true }]])]), createElementVNode('fieldset', Do, [u[24] || (u[24] = createElementVNode('legend', { class: 'fieldset-legend w-full' }, ' 禁用HDR ', -1)), withDirectives(createElementVNode('input', { 'onUpdate:modelValue': u[11] || (u[11] = p => unref(l).disabledHDR.value = p), 'type': 'checkbox', 'class': 'toggle toggle-primary toggle-sm' }, null, 512), [[vModelCheckbox, unref(l).disabledHDR.value]])])])])])]), _: 1 }, 8, ['visible', 'trigger', 'class'])], 64)) } }); const No = ['disabled']; const Uo = ['value', 'disabled']; const Ho = defineComponent({ __name: 'VolumeControl', setup(s) { const { playerCore: e, hud: t } = G(); const n = computed(() => { let o; return { root: 'flex items-center gap-2 mr-2', btn: Q.btn, range: ['range range-2xs w-24 range-primary'], tooltip: ['tooltip tooltip-top', { 'tooltip-open': (o = e == null ? undefined : e.value) == null ? undefined : o.isSuspended }], tooltipContent: 'tooltip-content py-2 px-4', resumeBtn: 'cursor-pointer pointer-events-auto' } }); const a = computed(() => { let o, u; return Se(((o = e.value) == null ? undefined : o.volume) ?? 0, ((u = e.value) == null ? undefined : u.muted) ?? false) }); function l(o) { let p; const u = Number(o.target.value); (p = e.value) == null || p.setVolume(u) } return (o, u) => { let p, d, m, g, T, S, k; return openBlock(), createElementBlock('div', { class: normalizeClass([n.value.tooltip]) }, [(p = unref(e)) != null && p.isSuspended ? (openBlock(), createElementBlock('div', { key: 0, class: normalizeClass([n.value.tooltipContent]) }, [createElementVNode('button', { class: normalizeClass([n.value.resumeBtn]), onClick: u[0] || (u[0] = () => { let h, b; (h = unref(e)) == null || h.resumeSuspended(), (b = unref(t)) == null || b.showResumeSuspended() }) }, ' 点击恢复音频 ', 2)], 2)) : createCommentVNode('', true), createElementVNode('div', { class: normalizeClass([n.value.root]) }, [createElementVNode('button', { 'class': normalizeClass(['swap swap-rotate', [n.value.btn.root, { 'swap-active': (d = unref(e)) == null ? undefined : d.muted }]]), 'data-tip': '静音 (M)', 'disabled': !((m = unref(e)) != null && m.canplay) || ((g = unref(e)) == null ? undefined : g.isSuspended), 'onClick': u[1] || (u[1] = (...h) => { let b, w; return ((b = unref(e)) == null ? undefined : b.toggleMute) && ((w = unref(e)) == null ? undefined : w.toggleMute(...h)) }) }, [createVNode(unref(ho$1), { class: normalizeClass(['swap-off', [n.value.btn.icon]]), icon: a.value }, null, 8, ['class', 'icon']), createVNode(unref(ho$1), { class: normalizeClass(['swap-on', [n.value.btn.icon]]), icon: a.value }, null, 8, ['class', 'icon'])], 10, No), createElementVNode('input', { type: 'range', class: normalizeClass([n.value.range]), min: '0', max: '100', value: ((T = unref(e)) == null ? undefined : T.volume) ?? 0, disabled: !((S = unref(e)) != null && S.canplay) || ((k = unref(e)) == null ? undefined : k.isSuspended), onInput: l }, null, 42, Uo)], 2)], 2) } } }); const jo = defineComponent({ __name: 'ControlBar', setup(s) { const e = { controlBar: { main: 'relative pointer-events-auto', bg: ['absolute inset-0 top-[-30px] pointer-events-none', 'bg-linear-to-t from-black/50 from-10% to-transparent'], mainContent: 'relative px-5 py-3', bar: 'flex justify-between items-center', trivialize: 'opacity-0 transition-all duration-200 ease-out', left: 'flex items-center gap-2', right: 'flex items-center gap-2' } }; const { controls: t, playerCore: n, progressBar: a } = G(); const l = shallowRef(null); it(l); const o = computed(() => t.visible.value); const u = computed(() => { let p; return (p = n.value) == null ? undefined : p.canplay }); return (p, d) => (openBlock(), createBlock(Transition, { 'enter-active-class': 'transition-all duration-200 ease-out', 'leave-active-class': 'transition-all duration-200 ease-out', 'enter-from-class': 'opacity-0', 'enter-to-class': 'opacity-100', 'leave-from-class': 'opacity-100', 'leave-to-class': 'opacity-0' }, { default: withCtx(() => { let m; return [o.value ? (openBlock(), createElementBlock('div', { key: 0, ref_key: 'controlBarRef', ref: l, class: normalizeClass(e.controlBar.main) }, [createElementVNode('div', { class: normalizeClass([e.controlBar.bg]) }, null, 2), createElementVNode('div', { ref: unref(t).mainRef, class: normalizeClass([e.controlBar.mainContent]) }, [createVNode(kl, { class: normalizeClass({ 'opacity-0 pointer-events-none': !u.value, 'opacity-100 pointer-events-auto': u.value }) }, null, 8, ['class']), createElementVNode('div', { class: normalizeClass([e.controlBar.bar, { [e.controlBar.trivialize]: (m = unref(a)) == null ? undefined : m.isLongPressDragging.value }]) }, [createElementVNode('div', { class: normalizeClass(e.controlBar.left) }, [createVNode(ml), createVNode(Ho), createVNode(ao)], 2), createElementVNode('div', { class: normalizeClass(e.controlBar.right) }, [createVNode(Pl), createVNode(pl), createVNode(to), createVNode(ol), createVNode(bl), createVNode(Vo), createVNode(Jl), createVNode(ul), createVNode(rl)], 2)], 2)], 2)], 2)) : createCommentVNode('', true)] }), _: 1 })) } }); const qo = defineComponent({ __name: 'ControlHeader', props: { title: {} }, setup(s) { const e = s; const { controls: t, progressBar: n } = G(); const a = { root: 'relative', content: { root: 'relative flex justify-between items-center p-7', left: 'flex-1 font-bold', right: { root: 'flex-1', item: 'flex justify-end gap-2' } }, bg: 'absolute inset-0 bottom-[-50px] bg-linear-to-b from-black/30 to-transparent pointer-events-none' }; const l = shallowRef(null); it(l); const o = computed(() => t.visible.value && !n.isLongPressDragging.value); return (u, p) => (openBlock(), createBlock(Transition, { 'enter-active-class': 'transition-all duration-200 ease-out', 'leave-active-class': 'transition-all duration-200 ease-out', 'enter-from-class': 'opacity-0', 'enter-to-class': 'opacity-100', 'leave-from-class': 'opacity-100', 'leave-to-class': 'opacity-0' }, { default: withCtx(() => [o.value ? (openBlock(), createElementBlock('div', { key: 0, ref_key: 'controlHeaderRef', ref: l, class: normalizeClass([a.root]) }, [createElementVNode('div', { class: normalizeClass([a.bg]) }, null, 2), createElementVNode('div', { class: normalizeClass([a.content.root]) }, [renderSlot(u.$slots, 'left'), createElementVNode('div', { class: normalizeClass([a.content.left]) }, toDisplayString(e.title), 3)], 2)], 2)) : createCommentVNode('', true)]), _: 3 })) } }); const zo = defineComponent({ __name: 'ControlMask', setup(s) { const e = { mask: 'relative flex-1' }; const { fullscreen: t, playerCore: n, popupManager: a, contextMenu: l } = G(); const o = shallowRef(); function u() { let d; (d = n.value) == null || d.togglePlay() } function p() { t.toggleFullscreen() } return onMounted(() => { a == null || a.addDisabledBubblingElement(o.value) }), onUnmounted(() => { a == null || a.removeDisabledBubblingElement(o.value) }), (d, m) => (openBlock(), createElementBlock('div', { ref_key: 'maskRef', ref: o, class: normalizeClass(e.mask), onClick: withModifiers(u, ['self']), onDblclick: withModifiers(p, ['self']), onContextmenu: m[0] || (m[0] = withModifiers((...g) => unref(l).handleContextMenu && unref(l).handleContextMenu(...g), ['prevent'])) }, [renderSlot(d.$slots, 'default')], 34)) } }); const Wo = defineComponent({ __name: 'ControlsRight', setup(s) { const e = { root: ['absolute inset-y-0 right-0 flex flex-col justify-end items-center gap-2 px-7 pb-2'] }; const { progressBar: t, controls: n } = G(); const a = shallowRef(null); it(a); const l = computed(() => n.visible.value && !t.isLongPressDragging.value); return (o, u) => (openBlock(), createBlock(Transition, { 'enter-active-class': 'transition-all duration-200 ease-out', 'leave-active-class': 'transition-all duration-200 ease-out', 'enter-from-class': 'opacity-0', 'enter-to-class': 'opacity-100', 'leave-from-class': 'opacity-100', 'leave-to-class': 'opacity-0' }, { default: withCtx(() => [l.value ? (openBlock(), createElementBlock('div', { key: 0, ref_key: 'controlRightRef', ref: a, class: normalizeClass(e.root) }, [renderSlot(o.$slots, 'default')], 2)) : createCommentVNode('', true)]), _: 3 })) } }); const Go = defineComponent({ __name: 'index', setup(s) { const e = { root: 'absolute inset-0 flex flex-col' }; return (t, n) => (openBlock(), createElementBlock('div', { class: normalizeClass(e.root) }, [renderSlot(t.$slots, 'default')], 2)) } }); const Ko = ['value', 'min', 'max']; const Xo = defineComponent({ __name: 'index', setup(s) { const e = { popup: 'left-4! top-4! shadow-xs/90', wrap: 'flex items-center gap-2 px-2', content: 'flex flex-col gap-1 flex-1 px-1', icon: 'size-6', title: 'text-sm font-semibold', progress: 'progress progress-primary h-1 w-35', value: 'text-sm font-semibold text-base-content/70' }; const { hud: t } = G(); const n = ref(false); const a = ref(null); const l = computed(() => (t == null ? undefined : t.messages.value[0]) || null); watch(l, (u) => { u ? (a.value = u, n.value = true) : n.value = false }); function o() { a.value = null } return (u, p) => (openBlock(), createBlock(le, { 'class': normalizeClass(e.popup), 'visible': n.value, 'x': 0, 'y': 0, 'allow-prevent-controls-close': false, 'onAfterLeave': o }, { default: withCtx(() => [a.value ? (openBlock(), createElementBlock('div', { key: 0, class: normalizeClass(e.wrap) }, [a.value.icon ? (openBlock(), createBlock(unref(ho$1), { key: 0, class: normalizeClass([e.icon, a.value.iconClass]), icon: a.value.icon }, null, 8, ['class', 'icon'])) : createCommentVNode('', true), createElementVNode('div', { class: normalizeClass(e.content) }, [a.value.title ? (openBlock(), createElementBlock('div', { key: 0, class: normalizeClass(e.title) }, toDisplayString(a.value.title ?? ''), 3)) : createCommentVNode('', true), a.value && a.value.progress ? (openBlock(), createElementBlock('progress', { key: 1, class: normalizeClass(e.progress), value: a.value.progress.value, min: a.value.progress.min, max: a.value.progress.max }, null, 10, Ko)) : createCommentVNode('', true), a.value.value ? (openBlock(), createElementBlock('div', { key: 2, class: normalizeClass(e.value) }, toDisplayString(a.value.value), 3)) : createCommentVNode('', true)], 2)], 2)) : createCommentVNode('', true)]), _: 1 }, 8, ['class', 'visible'])) } }); const Yo = defineComponent({ __name: 'index', setup(s) { const e = { container: 'absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center gap-2 drop-shadow-xl/30', animation: { wrapper: 'inline-flex items-center justify-between gap-2.5', dot: ['w-2.5 h-2.5 bg-white rounded-full', 'loading-dot-bounce'], dot1: 'loading-dot-delay-1', dot2: 'loading-dot-delay-2', dot3: 'loading-dot-delay-3' }, speed: 'text-sm font-semibold text-base-content' }; const { playerCore: t } = G(); return (n, a) => { let l, o, u; return openBlock(), createElementBlock('div', { class: normalizeClass(e.container) }, [createElementVNode('div', { class: normalizeClass(e.animation.wrapper) }, [createElementVNode('span', { class: normalizeClass([e.animation.dot, e.animation.dot1]) }, null, 2), createElementVNode('span', { class: normalizeClass([e.animation.dot, e.animation.dot2]) }, null, 2), createElementVNode('span', { class: normalizeClass([e.animation.dot, e.animation.dot3]) }, null, 2)], 2), ((l = unref(t)) == null ? undefined : l.type) === unref(Z).AvPlayer && (((o = unref(t).stats) == null ? undefined : o.bandwidth) ?? 0) > 0 ? (openBlock(), createElementBlock('div', { key: 0, class: normalizeClass(e.speed) }, `${toDisplayString(Math.round((((u = unref(t).stats) == null ? undefined : u.bandwidth) ?? 0) / 1024 / 1024 * 100) / 100)} Mbps/s `, 3)) : createCommentVNode('', true)], 2) } } }); const Qo = dd(Yo, [['__scopeId', 'data-v-390257ac']]); const Jo = defineComponent({ __name: 'index', setup(s) { const e = { container: ['absolute inset-0 m-auto', 'flex items-center justify-center', 'size-20 bg-black/30 rounded-full drop-shadow-xs/60'], icon: 'size-[61.8%]' }; const { playerCore: t } = G(); const n = shallowRef(false); const a = shallowRef(false); const l = shallowRef(false); const o = computed(() => l.value ? 'animate-[fadeOut_350ms_linear_forwards]' : ''); function u() { n.value = true, a.value = false, l.value = false } function p(m) { n.value = true, a.value = m, l.value = true, setTimeout(() => { n.value = false, l.value = false }, 300) } function d() { n.value = false, l.value = false } return watch(() => { let m; return (m = t.value) == null ? undefined : m.canplay }, (m) => { let g; m ? (g = t == null ? undefined : t.value) != null && g.paused && u() : d() }), watch(() => { let m; return (m = t == null ? undefined : t.value) == null ? undefined : m.paused }, (m) => { let g; (g = t == null ? undefined : t.value) != null && g.canplay && p(!!m) }), (m, g) => n.value ? (openBlock(), createElementBlock('div', { key: 0, class: normalizeClass([e.container, o.value]) }, [createVNode(unref(ho$1), { icon: a.value ? unref(ta) : unref(aa), class: normalizeClass(e.icon) }, null, 8, ['icon', 'class'])], 2)) : createCommentVNode('', true) } }); const Zo = { key: 0 }; const er = defineComponent({ __name: 'index', setup(s) {
        const e = { root: 'top-4! left-4! w-lg h-2/3 p-0!', titleContainer: 'flex items-center space-x-2 gap-2', titleIcon: 'size-6', container: { main: 'bg-base-100 h-full rounded-xl flex flex-col', header: 'flex justify-between items-center px-4 py-2 bg-base-200 rounded-t-xl', headerTitle: 'text-base font-medium text-base-content', content: 'overflow-y-auto flex-1 pb-5', sectionsWrapper: 'space-y-6 text-sm' }, section: { wrapper: 'stats-section', header: ['sticky top-0 bg-base-100 py-2 px-6 text-base font-medium mb-2 text-base-content border-b border-base-content/10 shadow-sm', 'flex items-baseline gap-2'], headerDesc: 'text-base-content/60 text-xs', content: 'px-6 pt-2 space-y-2' }, table: { wrapper: 'w-full', fixedLayout: 'table-fixed', labelCell: 'text-xs text-base-content py-1 pl-3 w-1/3 align-top', valueCell: 'text-xs text-base-content/60 py-1 pr-3 text-right break-words', active: 'bg-primary/30!', subTable: 'bg-base-200 rounded-lg' }, error: 'p-2 bg-error/10 border-l-2 border-error rounded text-xs font-mono whitespace-pre-wrap text-error-content', closeButton: 'btn btn-ghost btn-circle btn-xs' }; const { playerCore: t, source: n, statistics: a } = G(); const l = computed(() => t.value ? t.value.type ?? 'unknown' : 'unknown'); const o = computed(() => { let v, f, _, R; return { 'Current Source': ((v = n == null ? undefined : n.current.value) == null ? undefined : v.name) || '未加载', 'Type': ((f = n == null ? undefined : n.current.value) == null ? undefined : f.type) || '未知', 'Extension': ((_ = n == null ? undefined : n.current.value) == null ? undefined : _.extension) || 'unknown', 'URL': ((R = n == null ? undefined : n.current.value) == null ? undefined : R.url) || '未加载' } }); const u = computed(() => {
          if (!t.value)
            return false; const v = t.value; return v.type === Z.AvPlayer && v.streams !== undefined && v.streams.length > 0
        }); const p = computed(() => { let f; return t.value ? ((f = t.value.streams) == null ? undefined : f.length) ?? 0 : 0 }); const d = computed(() => t.value ? t.value.streams ?? [] : []); function m(v) {
          if (!t.value)
            return false; const f = t.value; return [f.audioStreamId, f.videoStreamId, f.subtitleStreamId].filter(Boolean).includes(v)
        } function g(v) { const f = {}; if (t.value) { const _ = t.value; typeof _.isSupportStream == 'function' && (f.support = _.isSupportStream(v) ? 'Yes' : 'No') } if (v.codecparProxy) { const _ = v.codecparProxy; if (_.codecId && (f.codecId = _.codecId), v.mediaType === 'Audio' && _.chLayout) { const R = _.chLayout; R.nbChannels && (f.nbChannels = R.nbChannels) } } if (v.metadata) { const _ = v.metadata; Object.entries(_).forEach(([R, P]) => { f[R] = P }) } return f } const T = computed(() => t.value ? !!t.value.stats : false); const S = computed(() => {
          if (!t.value)
            return {}; const v = t.value; if (!v.stats)
            return {}; const f = {}; for (const _ in v.stats)_ !== 'audioCurrentTime' && _ !== 'videoCurrentTime' && (f[_] = v.stats[_]); return f
        }); const k = computed(() => {
          if (!t.value)
            return false; const v = t.value; return v.stats ? 'audioCurrentTime' in v.stats && 'videoCurrentTime' in v.stats : false
        }); const h = computed(() => {
          if (!k.value || !t.value)
            return 0; const v = t.value; return Number(v.stats.audioCurrentTime) - Number(v.stats.videoCurrentTime)
        }); const b = computed(() => t.value ? !!t.value.loadError : false); const w = computed(() => {
          if (!t.value)
            return ''; const f = t.value.loadError; return f instanceof Error ? `${f.name}: ${f.message}` : String(f || '')
        }); return (v, f) => (openBlock(), createBlock(le, { class: normalizeClass(e.root), visible: unref(a).visible.value }, { default: withCtx(() => [createElementVNode('div', { class: normalizeClass(e.container.main) }, [createElementVNode('div', { class: normalizeClass(e.container.header) }, [createElementVNode('div', { class: normalizeClass(e.titleContainer) }, [createVNode(unref(ho$1), { icon: unref(oa), class: normalizeClass(e.titleIcon) }, null, 8, ['icon', 'class']), createElementVNode('h3', { class: normalizeClass(e.container.headerTitle) }, ' Statistics ', 2)], 2), createElementVNode('button', { class: normalizeClass(e.closeButton), onClick: f[0] || (f[0] = (..._) => unref(a).toggleVisible && unref(a).toggleVisible(..._)) }, [createVNode(unref(ho$1), { icon: 'material-symbols:close-rounded', class: 'size-4' })], 2)], 2), createElementVNode('div', { class: normalizeClass(e.container.content) }, [createElementVNode('div', { class: normalizeClass(e.container.sectionsWrapper) }, [createElementVNode('div', { class: normalizeClass(e.section.wrapper) }, [createElementVNode('h4', { class: normalizeClass(e.section.header) }, ' Player Core ', 2), createElementVNode('div', { class: normalizeClass(e.section.content) }, [createElementVNode('table', { class: normalizeClass(e.table.wrapper) }, [createElementVNode('tbody', null, [createElementVNode('tr', null, [createElementVNode('td', { class: normalizeClass(e.table.labelCell) }, ' Core Type: ', 2), createElementVNode('td', { class: normalizeClass(e.table.valueCell) }, toDisplayString(l.value), 3)])])], 2)], 2)], 2), createElementVNode('div', { class: normalizeClass(e.section.wrapper) }, [createElementVNode('h4', { class: normalizeClass(e.section.header) }, ' Source Info ', 2), createElementVNode('div', { class: normalizeClass(e.section.content) }, [createElementVNode('table', { class: normalizeClass([e.table.wrapper, e.table.fixedLayout]) }, [createElementVNode('tbody', null, [(openBlock(true), createElementBlock(Fragment, null, renderList(o.value, (_, R) => (openBlock(), createElementBlock('tr', { key: R }, [createElementVNode('td', { class: normalizeClass(e.table.labelCell) }, `${toDisplayString(R)}: `, 3), createElementVNode('td', { class: normalizeClass(e.table.valueCell) }, toDisplayString(_), 3)]))), 128))])], 2)], 2)], 2), u.value ? (openBlock(), createElementBlock('div', { key: 0, class: normalizeClass([e.section.wrapper]) }, [createElementVNode('div', { class: normalizeClass(e.section.header) }, [createElementVNode('h4', { class: normalizeClass(e.container.headerTitle) }, ' Streams ', 2), createElementVNode('span', { class: normalizeClass(e.section.headerDesc) }, toDisplayString(p.value), 3)], 2), createElementVNode('div', { class: normalizeClass(e.section.content) }, [(openBlock(true), createElementBlock(Fragment, null, renderList(d.value, _ => (openBlock(), createElementBlock('table', { key: _.id, class: normalizeClass([e.table.wrapper, e.table.fixedLayout, e.table.subTable, { [e.table.active]: m(_.id) }]) }, [createElementVNode('tbody', null, [createElementVNode('tr', null, [createElementVNode('td', { class: normalizeClass(e.table.labelCell) }, toDisplayString(_.mediaType), 3), createElementVNode('td', { class: normalizeClass(e.table.valueCell) }, ` ID: ${toDisplayString(_.id)}`, 3)]), (openBlock(true), createElementBlock(Fragment, null, renderList(g(_), (R, P) => (openBlock(), createElementBlock('tr', { key: P }, [createElementVNode('td', { class: normalizeClass(e.table.labelCell) }, `${toDisplayString(P)}: `, 3), createElementVNode('td', { class: normalizeClass(e.table.valueCell) }, toDisplayString(R), 3)]))), 128))])], 2))), 128))], 2)], 2)) : createCommentVNode('', true), T.value ? (openBlock(), createElementBlock('div', { key: 1, class: normalizeClass(e.section.wrapper) }, [createElementVNode('h4', { class: normalizeClass(e.section.header) }, ' Core Stats ', 2), createElementVNode('div', { class: normalizeClass(e.section.content) }, [createElementVNode('table', { class: normalizeClass(e.table.wrapper) }, [createElementVNode('tbody', null, [(openBlock(true), createElementBlock(Fragment, null, renderList(S.value, (_, R) => (openBlock(), createElementBlock('tr', { key: R }, [createElementVNode('td', { class: normalizeClass(e.table.labelCell) }, `${toDisplayString(R)}: `, 3), createElementVNode('td', { class: normalizeClass(e.table.valueCell) }, toDisplayString(_), 3)]))), 128)), k.value ? (openBlock(), createElementBlock('tr', Zo, [createElementVNode('td', { class: normalizeClass(e.table.labelCell) }, ' A-V: ', 2), createElementVNode('td', { class: normalizeClass(e.table.valueCell) }, toDisplayString(h.value), 3)])) : createCommentVNode('', true)])], 2)], 2)], 2)) : createCommentVNode('', true), b.value ? (openBlock(), createElementBlock('div', { key: 2, class: normalizeClass(e.section.wrapper) }, [createElementVNode('h4', { class: normalizeClass(e.section.header) }, ' 错误信息 ', 2), createElementVNode('div', { class: normalizeClass(e.section.content) }, [createElementVNode('div', { class: normalizeClass(e.error) }, toDisplayString(w.value), 3)], 2)], 2)) : createCommentVNode('', true)], 2)], 2)], 2)]), _: 1 }, 8, ['class', 'visible']))
      } }); const tr = defineComponent({ __name: 'index', setup(s) {
        const e = { container: 'absolute inset-0', content: ['absolute left-1/2 bottom-[3%] max-w-[80%] mx-auto px-1', 'bg-black/75 whitespace-pre-wrap text-white text-center', 'transition-transform duration-200 ease-in-out'] }; const { subtitles: t, cssVar: n, refs: a, playerCore: l } = G(); const o = computed(() => n == null ? undefined : n.safeAreaBottom.value); const u = computed(() => t.current.value); const p = shallowRef(null); const d = zd(a.playerElementRef); const m = computed(() => `${d.height.value * 0.044}px`); const g = shallowRef([]); const T = computed(() => g.value.find((w) => { let v, f; return l.value ? w.st <= ((v = l.value) == null ? undefined : v.currentTime) && w.et >= ((f = l.value) == null ? undefined : f.currentTime) : false })); const S = computed(() => { let w; return (w = T.value) == null ? undefined : w.text.replace(/<[^>]*>?/g, '') }); function k(w) { const [v, f, _] = w.split(':').map(Number); const [R, P] = _.toString().split('.'); return v * 3600 + f * 60 + parseInt(R) + parseInt(P) / 1e3 } function h(w) {
          const v = w.split(/\n\n/).filter(_ => _.trim() !== ''); const f = []; for (const _ of v) {
            if (/WEBVTT/.test(_))
              continue; const [R, P] = _.split(/\n/); const [I, O] = R.split('-->'); const $ = k(I); const C = k(O); f.push({ start: I, end: O, text: P, st: $, et: C })
          }g.value = f
        } async function b(w) { if (!w) { p.value = null; return } const f = await (await fetch(w.url)).blob(); p.value = await f.text(), h(p.value) } return watch(u, () => { b(u.value) }), (w, v) => unref(t).current.value ? (openBlock(), createElementBlock('div', { key: 0, class: normalizeClass(e.container) }, [T.value ? (openBlock(), createElementBlock('div', { key: 0, class: normalizeClass(e.content), style: normalizeStyle({ fontSize: m.value, transform: `translate(-50%, calc(0px - ${o.value}))` }) }, toDisplayString(S.value), 7)) : createCommentVNode('', true)], 2)) : createCommentVNode('', true)
      } }); const ar = ['innerHTML']; const nr = defineComponent({ __name: 'index', props: { sources: {}, videoId: { default: undefined }, showPlaylist: { type: Boolean }, volume: {}, muted: { type: Boolean }, playbackRate: {}, subtitles: {}, subtitlesReady: {}, subtitlesLoading: {}, lastTime: {}, autoLoadThumbnails: { type: Boolean }, autoPlay: { type: Boolean }, disabledHDR: { type: Boolean }, thumbnailsSamplingInterval: {}, hlsConfig: { default: () => ({}) }, avPlayerConfig: { default: () => ({}) }, onThumbnailRequest: { type: Function, default: undefined }, onSubtitleChange: { type: Function, default: undefined }, onCanplay: {}, onTimeupdate: {}, onSeeking: {}, onSeeked: {}, onIdled: {} }, emits: ['update:showPlaylist', 'update:volume', 'update:muted', 'update:playbackRate', 'update:autoLoadThumbnails', 'update:autoPlay', 'update:disabledHDR', 'update:thumbnailsSamplingInterval'], setup(s, { expose: e, emit: t }) { let b, w; const n = s; const a = t; const l = { root: 'relative bg-black', fullscreen: 'w-100vw h-100vh', container: 'relative w-full h-full overflow-hidden', videoPlayer: 'flex items-center justify-center w-full h-full', error: 'absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2', resumeContainer: 'absolute inset-0 flex justify-center items-center bg-black/90 z-2', resumeButton: 'btn' }; const o = shallowRef(null); const u = shallowRef(null); const p = Xs(); watchEffect(() => { p.container.value = o.value ?? undefined }); const d = Ks({ rootRef: o, playerElementRef: u }, n, a); const { fullscreen: m, source: g, transform: T, videoEnhance: S, playerCore: k, controls: h } = d; return watch(() => h.visible.value, (v) => { o.value && (o.value.style.cursor = v ? 'auto' : 'none') }, { immediate: true }), e({ togglePlay: (b = k.value) == null ? undefined : b.togglePlay, interruptSource: g.interruptSource, seekTo: (w = k.value) == null ? undefined : w.seek }), (v, f) => { let _, R, P; return openBlock(), createElementBlock('div', { ref_key: 'rootRef', ref: o, class: normalizeClass([l.root, { [l.fullscreen]: unref(m).isFullscreen }]) }, [createElementVNode('div', { innerHTML: unref(S).renderFilter.value }, null, 8, ar), createElementVNode('div', { ref_key: 'playerElementRef', ref: u, class: normalizeClass(l.videoPlayer), style: normalizeStyle([unref(T).transformStyle.value, unref(S).getFilterStyle.value]) }, null, 6), createVNode(Jo), createVNode(tr), (_ = unref(k)) != null && _.loadError ? (openBlock(), createBlock(_r$1, { key: 0, class: normalizeClass(l.error), message: (R = unref(k)) == null ? undefined : R.loadError }, null, 8, ['class', 'message'])) : (P = unref(k)) != null && P.isLoading ? (openBlock(), createBlock(Qo, { key: 1 })) : createCommentVNode('', true), createVNode(Go, null, { default: withCtx(() => [createVNode(qo, null, { left: withCtx(() => [renderSlot(v.$slots, 'headerLeft')]), _: 3 }), createVNode(zo, null, { default: withCtx(() => [createVNode(Wo, null, { default: withCtx(() => [renderSlot(v.$slots, 'controlsRight')]), _: 3 })]), _: 3 }), createVNode(jo)]), _: 3 }), createVNode(Xo), createVNode(er), createVNode(al, null, { aboutContent: withCtx(() => [renderSlot(v.$slots, 'aboutContent')]), _: 3 }), unref(g).isInterrupt.value ? (openBlock(), createElementBlock('div', { key: 2, class: normalizeClass(l.resumeContainer) }, [createElementVNode('button', { class: normalizeClass(l.resumeButton), onClick: f[0] || (f[0] = (...I) => unref(g).resumeSource && unref(g).resumeSource(...I)) }, ' 恢复播放 ', 2)], 2)) : createCommentVNode('', true)], 2) } } }); function sr() { const s = ref(); const e = ref(); const t = () => { const n = new URLSearchParams(window.location.search); s.value = n.get('pick_code') ?? undefined, e.value = n.get('cid') ?? undefined }; return t(), { pickCode: s, cid: e, getParams: t } } const lr = ['href']; const or = ['href']; const rr = ['src']; const ir = defineComponent({ __name: 'index', setup(s) { const e = { container: { main: 'py-8 text-base-content/60 gap-4 text-center flex flex-col' }, title: 'text-2xl font-bold mb-4', text: { description: 'text-xs', link: 'text-yellow-400 hover:text-yellow-300 transition-colors duration-200' }, badges: { container: 'flex items-center justify-center gap-4 flex-wrap', link: 'inline-block hover:scale-105 transition-transform duration-200', image: 'h-5' } }; const t = computed(() => ({ version: xe.script.version, author: xe.script.author, homepage: xe.script.homepage, name: xe.script.name })); return (n, a) => (openBlock(), createElementBlock('footer', { class: normalizeClass(e.container.main) }, [createElementVNode('h1', { class: normalizeClass(e.title) }, toDisplayString(t.value.name), 3), createElementVNode('div', { class: normalizeClass(e.badges.container) }, [createElementVNode('a', { href: t.value.homepage, target: '_blank', class: normalizeClass(e.badges.link) }, [createElementVNode('img', { src: 'https://img.shields.io/badge/GitHub-115Master-yellow', alt: 'GitHub', class: normalizeClass(e.badges.image) }, null, 2)], 10, lr), createElementVNode('a', { href: `https://github.com/qh775885/115master/releases/tag/v${t.value.version}`, target: '_blank', class: normalizeClass(e.badges.link) }, [createElementVNode('img', { src: `https://img.shields.io/badge/Version-${t.value.version.replace(/-/g, '--')}-green`, alt: 'Version', class: normalizeClass(e.badges.image) }, null, 10, rr)], 10, or), createElementVNode('a', { href: 'https://github.com/qh775885', target: '_blank', class: normalizeClass(e.badges.link) }, [createElementVNode('img', { src: 'https://img.shields.io/badge/修改者-qh775885-red', alt: 'Modifier', class: normalizeClass(e.badges.image) }, null, 2)], 2), createElementVNode('a', { href: 'https://github.com/cbingb666', target: '_blank', class: normalizeClass(e.badges.link) }, [createElementVNode('img', { src: 'https://img.shields.io/badge/原作者-cbingb666-blue', alt: 'Original Author', class: normalizeClass(e.badges.image) }, null, 2)], 2)], 2), createElementVNode('div', { class: normalizeClass(e.badges.container) }, [createElementVNode('a', { href: 'https://github.com/qh775885/115master/blob/main/LICENSE', target: '_blank', class: normalizeClass(e.badges.link) }, [createElementVNode('img', { src: 'https://img.shields.io/badge/License-MIT-green', alt: 'License', class: normalizeClass(e.badges.image) }, null, 2)], 2), createElementVNode('a', { href: 'https://github.com/qh775885/115master/issues', target: '_blank', class: normalizeClass(e.badges.link) }, [createElementVNode('img', { src: 'https://img.shields.io/badge/Issues-red', alt: 'Issues', class: normalizeClass(e.badges.image) }, null, 2)], 2), createElementVNode('a', { href: 'https://github.com/cbingb666/115master', target: '_blank', class: normalizeClass(e.badges.link) }, [createElementVNode('img', { src: 'https://img.shields.io/badge/原作品-cbingb666/115master-orange', alt: 'Original', class: normalizeClass(e.badges.image) }, null, 2)], 2)], 2)], 2)) } }); const ur = ['onClick']; const cr = defineComponent({ __name: 'index', props: { fileInfo: {}, playlist: {} }, setup(s) { const e = s; const t = { container: { main: 'flex items-center gap-4 w-full mx-2', error: 'text-red-400', loading: 'flex items-center' }, fileInfo: { container: 'flex flex-col flex-1', file: 'flex flex-wrap items-center gap-2', name: 'font-bold text-base-content text-xl text-shadow-xs/60 line-clamp-2', size: 'text-base-content/70 font-semibold text-shadow-xs/60 whitespace-nowrap flex-shrink-0', path: { container: ['breadcrumbs text-sm text-base-content/80'] }, folder: { btn: 'btn btn-sm btn-ghost btn-circle tooltip tooltip-bottom', icon: 'size-4' } } }; const n = computed(() => { let l; return (((l = e.playlist.state) == null ? undefined : l.path) ?? []).filter(o => Number(o.cid) !== 0) }); function a(l) { window.open(`https://115.com/?cid=${l}&offset=0&mode=wangpan`, '_blank') } return (l, o) => { let u, p, d; return l.fileInfo.error ? (openBlock(), createElementBlock('div', { key: 0, class: normalizeClass(t.container.error) }, [o[0] || (o[0] = createElementVNode('div', null, '❌ 获取文件信息失败', -1)), createElementVNode('div', null, toDisplayString(l.fileInfo.error), 1)], 2)) : l.fileInfo.isLoading || !l.fileInfo.isLoading && !l.fileInfo.isReady ? (openBlock(), createElementBlock('div', { key: 1, class: normalizeClass(t.container.loading) }, o[1] || (o[1] = [createElementVNode('div', { class: 'skeleton w-80 h-7 rounded-lg' }, null, -1)]), 2)) : (openBlock(), createElementBlock('div', { key: 2, class: normalizeClass(t.container.main) }, [createElementVNode('div', { class: normalizeClass(t.fileInfo.container) }, [createElementVNode('div', { class: normalizeClass(t.fileInfo.file) }, [createElementVNode('span', { class: normalizeClass(t.fileInfo.name) }, toDisplayString((p = (u = l.fileInfo.state) == null ? undefined : u.file_name) == null ? undefined : p.toUpperCase()), 3), createElementVNode('span', { class: normalizeClass(t.fileInfo.size) }, toDisplayString(unref(Wd)(Number((d = l.fileInfo.state) == null ? undefined : d.file_size))), 3)], 2), createElementVNode('div', { class: normalizeClass(t.fileInfo.path.container) }, [createElementVNode('ul', null, [(openBlock(true), createElementBlock(Fragment, null, renderList(n.value, m => (openBlock(), createElementBlock('li', { key: m.cid, onClick: g => a(m.cid) }, [createElementVNode('a', null, toDisplayString(m.name), 1)], 8, ur))), 128))])], 2)], 2)], 2)) } } }); function dr(s = 300) {
        const e = ref(false); return { isCopied: e, copyText: async (n) => {
          if (n) {
            try { await navigator.clipboard.writeText(n), e.value = !0, setTimeout(() => { e.value = !1 }, s) }
            catch (a) { throw console.error('复制失败:', a), a }
          }
        } }
      } const pr = defineComponent({ __name: 'CopyButton', props: { text: {}, duration: {} }, setup(s) { const e = s; const { isCopied: t, copyText: n } = dr(e.duration); async function a() { await n(e.text) } const l = { button: { base: 'btn btn-xs btn-ghost btn-circle transition-all duration-200 ease-in-out', normal: 'btn-neutral', success: 'btn-primary' }, text: 'whitespace-nowrap text-xs' }; return (o, u) => (openBlock(), createElementBlock('button', { class: normalizeClass([l.button.base, unref(t) ? l.button.success : l.button.normal]), onClick: a }, [createVNode(unref(ho$1), { icon: unref(Qd), class: 'size-4' }, null, 8, ['icon'])], 2)) } }); const fr = dd(pr, [['__scopeId', 'data-v-30fb07eb']]); const mr = ['href']; const vr = ['src', 'alt']; const gr = ['src', 'alt']; const br = ['href']; const yr = ['href']; const hr = ['href']; const wr = ['href']; const _r = ['href']; const xr = ['href']; const kr = ['src']; const Bt = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI2NjYyI+PHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTAgM2MxLjY2IDAgMyAxLjM0IDMgM3MtMS4zNCAzLTMgMy0zLTEuMzQtMy0zIDEuMzQtMyAzLTN6bTAgMTQuMmMtMi41IDAtNC43MS0xLjI4LTYtMy4yMi4wMy0xLjk5IDQtMy4wOCA2LTMuMDggMS45OSAwIDUuOTcgMS4wOSA2IDMuMDgtMS4yOSAxLjk0LTMuNSAzLjIyLTYgMy4yMnoiLz48L3N2Zz4='; const Cr = defineComponent({ __name: 'index', props: { movieInfos: {} }, setup(s) { const e = s; const t = { container: { main: 'relative flex flex-col', content: 'flex flex-col gap-8' }, tabs: { container: 'tabs tabs-border absolute top-0 right-0', item: 'tab', active: 'tab-active' }, skeleton: { title: 'skeleton h-14 w-4/5', avatar: 'skeleton w-15 h-15 rounded-full shrink-0', name: 'skeleton h-4 w-20', contentLine: 'skeleton h-4 w-xs' }, states: { error: 'my-20 mx-auto', empty: 'my-20 mx-auto' }, header: { container: 'mb-6', title: 'text-xl font-bold break-words break-all text-base-content pr-36', titleText: '' }, actors: { container: 'flex flex-wrap gap-2', item: 'relative w-fit', content: 'flex items-center gap-3 no-underline w-full', avatarWrapper: 'avatar relative', avatarContainer: 'w-18 rounded-full', avatarImage: 'rounded-full', name: 'text-base text-base-content pr-2', sexBadge: { base: 'absolute -top-0.5 -right-0.5 w-4 h-4 rounded-full flex items-center justify-center text-white text-xs rotate-45', female: 'bg-pink-400/80', male: 'bg-primary/80' } }, content: { container: 'flex flex-col gap-3', item: 'flex gap-2 text-sm', label: 'text-base-content/50 min-w-10', value: 'flex flex-wrap gap-2 items-center', link: 'link', badge: 'badge badge-neutral rounded-full' }, thumbnails: { container: 'grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-9 gap-3', item: 'aspect-square overflow-hidden hover:opacity-80', image: 'size-full object-cover' } }; const n = ref(null); const a = ref(null); const l = ref('javDBState'); const o = computed(() => e.movieInfos[l.value]); return watch(n, async () => { let u; n.value && ((u = a.value) == null || u.destroy(), await nextTick(), a.value = new oa$1({ gallery: n.value, children: 'a', pswpModule: () => fo$1(() => module.import('photoswipe'), void 0), mouseMovePan: true, initialZoomLevel: 'fit', wheelToZoom: true }), a.value.init(), a.value.addFilter('domItemData', (p, d) => { let m, g; return p.width = (m = d.querySelector('img')) == null ? undefined : m.naturalWidth, p.height = (g = d.querySelector('img')) == null ? undefined : g.naturalHeight, p })) }), (u, p) => { let d, m, g, T, S, k, h, b, w, v, f, _, R, P, I, O, $; return openBlock(), createElementBlock('div', { class: normalizeClass(t.container.main) }, [createElementVNode('div', { class: normalizeClass(t.container.content) }, [createElementVNode('div', { class: normalizeClass(t.tabs.container) }, [createElementVNode('a', { class: normalizeClass([t.tabs.item, l.value === 'javDBState' ? t.tabs.active : '']), onClick: p[0] || (p[0] = C => l.value = 'javDBState') }, ' JavDB ', 2), createElementVNode('a', { class: normalizeClass([t.tabs.item, l.value === 'javBusState' ? t.tabs.active : '']), onClick: p[1] || (p[1] = C => l.value = 'javBusState') }, ' JavBus ', 2)], 2), o.value.error.value ? (openBlock(), createBlock(_r$1, { key: 0, class: normalizeClass(t.states.error), message: o.value.error.value }, null, 8, ['class', 'message'])) : o.value.isLoading.value ? (openBlock(), createElementBlock(Fragment, { key: 1 }, [createElementVNode('div', { class: normalizeClass(t.header.container) }, [createElementVNode('div', { class: normalizeClass(t.header.title) }, [createElementVNode('div', { class: normalizeClass(t.skeleton.title) }, null, 2)], 2)], 2), createElementVNode('div', { class: normalizeClass(t.actors.container) }, [(openBlock(), createElementBlock(Fragment, null, renderList(1, C => createElementVNode('div', { key: C, class: normalizeClass(t.actors.item) }, [createElementVNode('div', { class: normalizeClass(t.actors.content) }, [createElementVNode('div', { class: normalizeClass(t.skeleton.avatar) }, null, 2), createElementVNode('div', { class: normalizeClass(t.skeleton.name) }, null, 2)], 2)], 2)), 64))], 2), createElementVNode('div', { class: normalizeClass(t.content.container) }, [(openBlock(), createElementBlock(Fragment, null, renderList(7, C => createElementVNode('div', { key: C, class: normalizeClass(t.content.item) }, [createElementVNode('div', { class: normalizeClass(t.skeleton.contentLine) }, null, 2)], 2)), 64))], 2)], 64)) : o.value.state.value ? (openBlock(), createElementBlock(Fragment, { key: 3 }, [(openBlock(), createElementBlock('div', { key: l.value, class: normalizeClass(t.header.container) }, [createElementVNode('div', { class: normalizeClass(t.header.title) }, [createElementVNode('span', { class: normalizeClass(t.header.titleText) }, toDisplayString((d = o.value.state.value) == null ? undefined : d.title), 3)], 2)], 2)), createElementVNode('div', { class: normalizeClass(t.actors.container) }, [(openBlock(true), createElementBlock(Fragment, null, renderList((m = o.value.state.value) == null ? undefined : m.actors, C => (openBlock(), createElementBlock('div', { key: C.name, class: normalizeClass(t.actors.item) }, [C.url ? (openBlock(), createElementBlock('a', { key: 0, class: normalizeClass(t.actors.content), href: C.url, target: '_blank' }, [createElementVNode('div', { class: normalizeClass(t.actors.avatarWrapper) }, [createElementVNode('div', { class: normalizeClass(t.actors.avatarContainer) }, [createElementVNode('img', { src: C.face || Bt, alt: C.name, class: normalizeClass(t.actors.avatarImage) }, null, 10, vr)], 2), C.sex !== undefined ? (openBlock(), createElementBlock('span', { key: 0, class: normalizeClass([t.actors.sexBadge.base, C.sex === 1 ? t.actors.sexBadge.female : t.actors.sexBadge.male]) }, toDisplayString(C.sex === 1 ? '♀' : '♂'), 3)) : createCommentVNode('', true)], 2), createElementVNode('span', { class: normalizeClass(t.actors.name) }, toDisplayString(C.name), 3)], 10, mr)) : (openBlock(), createElementBlock('div', { key: 1, class: normalizeClass(t.actors.content) }, [createElementVNode('div', { class: normalizeClass(t.actors.avatarWrapper) }, [createElementVNode('div', { class: normalizeClass(t.actors.avatarContainer) }, [createElementVNode('img', { src: C.face || Bt, alt: C.name, class: normalizeClass(t.actors.avatarImage) }, null, 10, gr)], 2), C.sex !== undefined ? (openBlock(), createElementBlock('span', { key: 0, class: normalizeClass([t.actors.sexBadge.base, C.sex === 1 ? t.actors.sexBadge.female : t.actors.sexBadge.male]) }, toDisplayString(C.sex === 1 ? '♀' : '♂'), 3)) : createCommentVNode('', true)], 2), createElementVNode('span', { class: normalizeClass(t.actors.name) }, toDisplayString(C.name), 3)], 2))], 2))), 128))], 2), createElementVNode('div', { class: normalizeClass(t.content.container) }, [createElementVNode('div', { class: normalizeClass(t.content.item) }, [createElementVNode('span', { class: normalizeClass(t.content.label) }, ' 番号 ', 2), createElementVNode('span', { class: normalizeClass(t.content.value) }, [createElementVNode('a', { href: (g = o.value.state.value) == null ? undefined : g.detailUrl, target: '_blank', class: normalizeClass(t.content.link) }, toDisplayString(((T = o.value.state.value) == null ? undefined : T.avNumber) ?? '-'), 11, br), (S = o.value.state.value) != null && S.avNumber ? (openBlock(), createBlock(fr, { key: 0, text: (k = o.value.state.value) == null ? undefined : k.avNumber }, null, 8, ['text'])) : createCommentVNode('', true)], 2)], 2), createElementVNode('div', { class: normalizeClass(t.content.item) }, [createElementVNode('span', { class: normalizeClass(t.content.label) }, ' 日期 ', 2), createElementVNode('span', { class: normalizeClass(t.content.value) }, toDisplayString(unref(el$1)((h = o.value.state.value) == null ? undefined : h.date) ?? '-'), 3)], 2), createElementVNode('div', { class: normalizeClass(t.content.item) }, [createElementVNode('span', { class: normalizeClass(t.content.label) }, ' 时长 ', 2), createElementVNode('span', { class: normalizeClass(t.content.value) }, toDisplayString(unref(tl$1)((b = o.value.state.value) == null ? undefined : b.duration) ?? '-'), 3)], 2), createElementVNode('div', { class: normalizeClass(t.content.item) }, [createElementVNode('span', { class: normalizeClass(t.content.label) }, ' 导演 ', 2), (w = o.value.state.value) != null && w.director ? (openBlock(), createElementBlock('span', { key: 1, class: normalizeClass(t.content.value) }, [(openBlock(true), createElementBlock(Fragment, null, renderList((v = o.value.state.value) == null ? undefined : v.director, C => (openBlock(), createElementBlock('a', { key: C.name, href: C.url, target: '_blank', class: normalizeClass(t.content.link) }, toDisplayString(C.name), 11, yr))), 128))], 2)) : (openBlock(), createElementBlock('span', { key: 0, class: normalizeClass(t.content.value) }, '-', 2))], 2), createElementVNode('div', { class: normalizeClass(t.content.item) }, [createElementVNode('span', { class: normalizeClass(t.content.label) }, ' 片商 ', 2), (f = o.value.state.value) != null && f.studio ? (openBlock(), createElementBlock('span', { key: 1, class: normalizeClass(t.content.value) }, [(openBlock(true), createElementBlock(Fragment, null, renderList((_ = o.value.state.value) == null ? undefined : _.studio, C => (openBlock(), createElementBlock('a', { key: C.name, href: C.url, target: '_blank', class: normalizeClass(t.content.link) }, toDisplayString(C.name), 11, hr))), 128))], 2)) : (openBlock(), createElementBlock('span', { key: 0, class: normalizeClass(t.content.value) }, '-', 2))], 2), createElementVNode('div', { class: normalizeClass(t.content.item) }, [createElementVNode('span', { class: normalizeClass(t.content.label) }, ' 系列 ', 2), (R = o.value.state.value) != null && R.series ? (openBlock(), createElementBlock('span', { key: 1, class: normalizeClass(t.content.value) }, [(openBlock(true), createElementBlock(Fragment, null, renderList((P = o.value.state.value) == null ? undefined : P.series, C => (openBlock(), createElementBlock('a', { key: C.name, href: C.url, target: '_blank', class: normalizeClass(t.content.badge) }, toDisplayString(C.name), 11, wr))), 128))], 2)) : (openBlock(), createElementBlock('span', { key: 0, class: normalizeClass(t.content.value) }, '-', 2))], 2), createElementVNode('div', { class: normalizeClass(t.content.item) }, [createElementVNode('span', { class: normalizeClass(t.content.label) }, ' 类别 ', 2), (I = o.value.state.value) != null && I.category ? (openBlock(), createElementBlock('span', { key: 1, class: normalizeClass(t.content.value) }, [(openBlock(true), createElementBlock(Fragment, null, renderList((O = o.value.state.value) == null ? undefined : O.category, C => (openBlock(), createElementBlock('a', { key: C.name, href: C.url, target: '_blank', class: normalizeClass(t.content.badge) }, toDisplayString(C.name), 11, _r))), 128))], 2)) : (openBlock(), createElementBlock('span', { key: 0, class: normalizeClass(t.content.value) }, '-', 2))], 2)], 2), createElementVNode('div', { ref_key: 'movieInfoThumb', ref: n, class: normalizeClass(t.thumbnails.container) }, [(openBlock(true), createElementBlock(Fragment, null, renderList(($ = o.value.state.value) == null ? undefined : $.preview, C => (openBlock(), createElementBlock('a', { key: C.thumbnail, class: normalizeClass(t.thumbnails.item), href: C.raw, target: '_blank' }, [createElementVNode('img', { src: C.raw, alt: 'thumb', loading: 'lazy', class: normalizeClass(t.thumbnails.image) }, null, 10, kr)], 10, xr))), 128))], 2)], 64)) : (openBlock(), createBlock(Qs$1, { key: 2, class: normalizeClass(t.states.empty), description: '暂无影片信息，可能番号无法识别', size: '2xl' }, null, 8, ['class']))], 2)], 2) } } }); const Pr = ['src']; const Sr = ['title']; const Tr = 1; const Rr = defineComponent({ __name: 'item', props: { item: {}, active: { type: Boolean } }, emits: ['play'], setup(s, { emit: e }) { const t = s; const n = e; const a = { item: { base: ['flex cursor-pointer break-words hover:bg-base-content/5', 'rounded-lg', 'transition-colors duration-200'], active: 'bg-primary/10 hover:bg-primary/15' }, cover: { container: ['relative flex items-center justify-center flex-shrink-0', 'overflow-hidden rounded-lg', 'w-50 h-28 aspect-video', 'before:content-[\'\'] before:absolute before:inset-0 before:bg-black before:rounded-lg'], skeleton: 'relative skeleton w-full h-full rounded-lg', imageError: 'relative!', image: 'relative block w-full h-full object-contain' }, duration: { container: ['absolute bottom-1.5 right-1.5 rounded-lg', 'px-1.5 py-1', 'backdrop-blur-xs', 'text-xs bg-base-100/60 text-base-content/80'] }, mark: { container: ['absolute top-1.5 left-1.5 p-0.5', 'rounded-lg', 'bg-base-100/60', 'backdrop-blur-xs'], icon: 'size-7 drop-shadow-xs/90' }, progress: { container: 'absolute bottom-0 right-0 w-full h-1', bar: 'absolute top-0 left-0 w-0 h-full bg-primary opacity-80' }, info: { container: 'flex flex-col justify-between gap-1 p-2.5 px-4', title: 'text-sm font-medium break-all leading-6 text-base-content line-clamp-3', titleActive: 'text-primary', size: 'text-xs text-base-content/60' } }; const l = shallowRef(); const o = computed(() => ({ pickCode: t.item.pc, sha1: t.item.sha, coverNum: Tr, duration: t.item.play_long })); const u = { elementRef: l }; const { videoCover: p } = qc(o, u); const d = computed(() => t.item.current_time / t.item.play_long); function m(g) { n('play', g) } return (g, T) => { let S; return openBlock(), createElementBlock('div', { ref_key: 'rootRef', ref: l, class: normalizeClass([a.item.base, { [a.item.active]: t.active }]), onClick: T[0] || (T[0] = k => m(g.item)) }, [createElementVNode('div', { class: normalizeClass(a.cover.container) }, [unref(p).error ? (openBlock(), createBlock(_r$1, { key: 0, class: normalizeClass(a.cover.imageError), message: unref(p).error, size: 'mini' }, null, 8, ['class', 'message'])) : unref(p).isLoading ? (openBlock(), createElementBlock('div', { key: 1, class: normalizeClass(a.cover.skeleton) }, null, 2)) : unref(p).isReady ? (openBlock(), createElementBlock('img', { key: 2, src: (S = unref(p).state[0]) == null ? undefined : S.img, class: normalizeClass(a.cover.image) }, null, 10, Pr)) : (openBlock(), createElementBlock('div', { key: 3, class: normalizeClass(a.cover.skeleton) }, null, 2)), createElementVNode('div', { class: normalizeClass(a.duration.container) }, toDisplayString(unref(fe)(g.item.play_long)), 3), g.item.m ? (openBlock(), createElementBlock('div', { key: 4, class: normalizeClass(a.mark.container) }, [createVNode(unref(ho$1), { icon: unref(Vd), class: normalizeClass(a.mark.icon) }, null, 8, ['icon', 'class'])], 2)) : createCommentVNode('', true), g.item.current_time > 0 ? (openBlock(), createElementBlock('div', { key: 5, class: normalizeClass(a.progress.container) }, [createElementVNode('div', { class: normalizeClass(a.progress.bar), style: normalizeStyle({ width: `${d.value * 100}%` }) }, null, 6)], 2)) : createCommentVNode('', true)], 2), createElementVNode('div', { class: normalizeClass(a.info.container) }, [createElementVNode('div', { class: normalizeClass([a.info.title, { [a.info.titleActive]: t.active }]), title: g.item.n }, toDisplayString(g.item.n), 11, Sr), createElementVNode('div', { class: normalizeClass(a.info.size) }, toDisplayString(unref(Wd)(g.item.s)), 3)], 2)], 2) } } }); const $r = defineComponent({ __name: 'index', props: { playlist: {}, pickCode: {} }, emits: ['play', 'close'], setup(s, { emit: e }) {
        const t = s; const n = e; const a = { playlist: { container: ['relative flex flex-col text-white box-border h-full', 'bg-base-100', 'border-l border-base-300/15', '[--app-playlist-space:calc(var(--spacing)*4)]', '[--app-playlist-header-height:calc(var(--spacing)*16)]'], header: { root: ['absolute inset-x-0 top-0 z-1', 'flex items-center justify-between flex-shrink-0', 'h-(--app-playlist-header-height)', 'px-(--app-playlist-space) py-4', 'text-base-content', 'bg-base-100/60', 'backdrop-blur-2xl backdrop-saturate-200 backdrop-brightness-50'], title: 'flex items-center text-xl gap-2.5', count: 'text-xs text-base-content/50', close: 'btn btn-ghost btn-circle', closeIcon: 'size-8' }, content: ['flex flex-col gap-5 flex-1', 'overflow-y-auto', 'px-(--app-playlist-space) pb-5 pt-[calc(var(--app-playlist-header-height)+var(--spacing)*5)]', '[&::-webkit-scrollbar-track]:mt-(--app-playlist-header-height)'], divider: 'divider w-1/3 mx-auto text-base-content/30' } }; const l = ref(null); const o = useTemplateRef('playlistItemRefs'); const u = shallowRef(false); function p(m) { m.pc !== t.pickCode && n('play', m) } async function d(m = true) {
          if (u.value || (await nextTick(), !o.value))
            return; u.value = true; const g = o.value.find(R => R.$props.active); if (!g || !l.value)
            return; const T = g.$el; const S = l.value; const k = T.offsetTop; const h = T.offsetHeight; const b = S.clientHeight; const w = S.scrollTop; const v = k + h; if (k >= w && v <= w + b && !m)
            return; const _ = k - (b - h) / 2; S.scrollTo({ top: Math.max(0, _), behavior: m ? 'smooth' : 'instant' })
        } return watch([() => t.playlist.state, () => t.pickCode], () => d(false), { immediate: true }), (m, g) => { let T, S, k, h, b, w; return openBlock(), createElementBlock('div', { class: normalizeClass(a.playlist.container) }, [createElementVNode('div', { class: normalizeClass(a.playlist.header.root) }, [createElementVNode('div', { class: normalizeClass(a.playlist.header.title) }, [createVNode(unref(ho$1), { icon: unref(Yd), class: 'size-8' }, null, 8, ['icon']), g[1] || (g[1] = createTextVNode(' 播放列表 ')), (S = (T = m.playlist.state) == null ? undefined : T.data) != null && S.length && ((h = (k = m.playlist.state) == null ? undefined : k.data) == null ? undefined : h.length) > 0 ? (openBlock(), createElementBlock('span', { key: 0, class: normalizeClass(a.playlist.header.count) }, `(${toDisplayString((b = m.playlist.state) == null ? undefined : b.data.length)})`, 3)) : createCommentVNode('', true)], 2), createElementVNode('button', { class: normalizeClass(a.playlist.header.close) }, [createVNode(unref(ho$1), { icon: unref(Kd), class: normalizeClass(a.playlist.header.closeIcon), onClick: g[0] || (g[0] = v => n('close')) }, null, 8, ['icon', 'class'])], 2)], 2), m.playlist.error ? (openBlock(), createElementBlock('div', { key: 0, class: normalizeClass(a.playlist.content) }, [createVNode(_r$1, { message: m.playlist.error }, null, 8, ['message'])], 2)) : m.playlist.isLoading || !m.playlist.isLoading && !m.playlist.isReady ? (openBlock(), createElementBlock('div', { key: 1, class: normalizeClass(a.playlist.content) }, g[2] || (g[2] = [createElementVNode('div', { class: 'skeleton h-24 w-full rounded-lg' }, null, -1)]), 2)) : (openBlock(), createElementBlock('div', { key: 2, ref_key: 'playlistRef', ref: l, class: normalizeClass(['custom-scrollbar', [a.playlist.content]]) }, [(openBlock(true), createElementBlock(Fragment, null, renderList((w = m.playlist.state) == null ? undefined : w.data, v => (openBlock(), createBlock(Rr, { ref_for: true, ref_key: 'playlistItemRefs', ref: o, key: v.pc, item: v, active: v.pc === m.pickCode, onPlay: p }, null, 8, ['item', 'active']))), 128)), createElementVNode('div', { class: normalizeClass(a.playlist.divider) }, ' 没有更多了 ', 2)], 2))], 2) }
      } }); function Ir() { const s = Li(async e => await br$1.webApiGetFilesVideo({ pickcode: e, share_id: '0', local: '1' }), {}, { immediate: false }); return reactive(s) } function Mr() {
        const s = shallowRef(false); const e = shallowRef(''); const t = shallowRef(0); const n = async (p) => { !s.value || !e.value || br$1.webApiPostWebApiFilesHistory({ op: 'update', pick_code: e.value, share_id: '0', category: '1', definition: '0', time: p }) }; const a = Ai(async (p) => { await n(p) }, 5e3); const l = _i(async (p) => { await n(p) }, 2e3); const o = async (p) => {
          e.value = p; try { const d = await br$1.webApiGetWebApiFilesHistory({ fetch: 'one', pick_code: e.value, share_id: '0', category: '1' }); Number.isNaN(d.data.time) || (t.value = Number(d.data.time ?? 0)) }
          finally { s.value = true }
        }; const u = () => { s.value = false, e.value = '', t.value = 0 }; return onUnmounted(() => { s.value = false }), { isinit: s, lastTime: t, handleTimeupdate: a, handleSeek: l, fetch: o, clear: u }
      } let ge; (function (s) { s.Mark = '1', s.Unmark = '0' })(ge || (ge = {})); function Er(s) { const e = shallowRef(null); const t = async () => { (await br$1.webApiPostFilesStar({ file_id: s.state.file_id, star: e.value ? ge.Unmark : ge.Mark })).state && (e.value = !e.value) }; return watch(() => s.state.is_mark, (n) => { e.value = n !== undefined ? n === ge.Mark : null }), { toggleMark: t, isMark: e } } function Ar() {
        const s = new ll$1(); const e = new sl$1(); const t = Li(async (a) => {
          if (!a)
            return null; const l = await s.getInfo(a); return await Wr$1(1e3), l
        }, undefined, { immediate: false }); return { javBusState: Li(async a => a ? e.getInfo(a) : null, undefined, { immediate: false }), javDBState: t }
      } function Lr() {
        const s = Li(async a => await br$1.getPlaylist(a), null, { immediate: false }); const e = (a, l) => {
          if (!s.state.value)
            return; const o = s.state.value.data.findIndex(u => u.pc === a); o !== -1 && (s.state.value.data[o] = { ...s.state.value.data[o], ...l })
        }; return reactive({ ...s, updateItemTime: (a, l) => { e(a, { current_time: l }) }, updateItemMark: (a, l) => { e(a, { m: l ? 1 : 0 }) } })
      } function Fr() { return jd('x-player-preferences', { volume: 100, muted: true, playbackRate: 1, showPlaylist: false, autoLoadThumbnails: true, disabledHDR: false, thumbnailsSamplingInterval: 60, autoPlay: true }, undefined, { listenToStorageChanges: false }) } function Or(s, e, t) { const n = e - s; const a = []; for (let l = 0; l < n; l += t)a.push(l); return a } function Br(s, e) { const t = new Set(s); const n = new Set(e); let a = 0; for (const o of t)n.has(o) && a++; const l = t.size + n.size - a; return l === 0 ? 0 : a / l } function Dt(s, e) { return Br(s.split(''), e.split('')) } function pa(s) {
        let e = `WEBVTT

`;return s.split(/\n\s*\n/).forEach((n) => {
          if (!n.trim())
            return; const a = n.trim().split(`
`); if (a.length < 2)
            return; let l = 0; for (let p = 0; p < a.length; p++) {
            if (a[p].match(/^\d{2}:\d{2}:\d{2}[,.]\d{3}\s*-->\s*\d{2}:\d{2}:\d{2}[,.]\d{3}$/)) { l = p; break }
          } if (l === 0 && !a[0].match(/^\d{2}:\d{2}:\d{2}[,.]\d{3}\s*-->\s*\d{2}:\d{2}:\d{2}[,.]\d{3}$/) && (l = 1), l >= a.length)
            return; const o = a[l].replace(/,/g, '.'); const u = a.slice(l + 1).join(`
`); u.trim() && (e += `${o}
${u}

`)
        }), e
      } function at(s) { const e = new Blob([s], { type: 'text/vtt; charset=utf-8' }); return URL.createObjectURL(e) } class Dr {
        constructor() { Object.defineProperty(this, 'domain', { enumerable: true, configurable: true, writable: true, value: 'https://subtitlecat.com' }), Object.defineProperty(this, 'logger', { enumerable: true, configurable: true, writable: true, value: new Fn$1('Utils SubtitleCat') }), Object.defineProperty(this, 'iRequest', { enumerable: true, configurable: true, writable: true, value: Ld }) }getSubtitleText(e) { return new Promise((t, n) => { this.iRequest.get(e).then((a) => { t(a.text()) }).catch((a) => { n(a) }) }) }fetchSubtitleUrl(e, t) { return new Promise((n, a) => { this.iRequest.get(e).then(async (l) => { let d; const p = (d = new DOMParser().parseFromString(await l.text(), 'text/html').querySelector(`#download_${t}`)) == null ? undefined : d.getAttribute('href'); n(p || undefined) }).catch((l) => { a(l) }) }) } async fetchSubtitle(e, t) {
          const n = await Pd.getCache(e, t); return n
            ? (this.logger.log('从缓存获取字幕成功'), n.map(a => ({ ...a, url: at(a.vvtText) })))
            : new Promise((a, l) => {
              this.iRequest.get(`${this.domain}/index.php?search=${e}`).then(async (o) => {
                try { const p = new DOMParser().parseFromString(await o.text(), 'text/html'); const d = Array.from(p.querySelectorAll('.sub-table tbody tr')).slice(0, 5); this.logger.log('fetchSubtitle', `找到${d.length}个疑似结果`); const m = d.map(S => this.parseSubtitleRow(S, t)).filter((S) => { const k = S.title.toLowerCase().includes(e.toLowerCase()); return this.logger.log('fetchSubtitle', `${S.title} ${k ? '匹配' : '不匹配'}`), k }); const g = await Promise.all(m.map(async (S) => { const k = await this.processSubtitleItem(S); return this.logger.log(`转换字幕 ${S.title}`, k ? '成功' : '失败'), k })); const T = this.sortResults(g.filter(S => S !== void 0)); T.length > 0 && await Pd.addCache(e, t, T.map(S => ({ ...S, isCache: !0 }))), this.logger.log('最终结果', T), a(T) }
                catch (u) { console.error('处理过程中出错:', u), l(u) }
              }).catch((o) => { console.error('请求失败:', o), l(o) })
            })
        }

        parseSubtitleRow(e, t) { let h, b; const n = e.querySelector('td:first-child'); const a = n == null ? undefined : n.querySelector('a'); const l = (a == null ? undefined : a.textContent) || ''; const o = (a == null ? undefined : a.getAttribute('href')) || ''; const u = (h = n == null ? undefined : n.textContent) == null ? undefined : h.match(/translated from (\w+)/); const p = u ? u[1] : ''; const d = e.querySelector('td:nth-child(2) .fa-thumbs-down') !== null; const m = e.querySelector('td:nth-child(2) .fa-thumbs-up') !== null; const g = d ? -1 : m ? 1 : 0; const S = (((b = e.querySelector('td:nth-child(3)')) == null ? undefined : b.textContent) || '').match(/\d+/); const k = S ? parseInt(S[0]) : 0; return { title: l, href: o, downloads: k, comment: g, originLanguage: p, targetLanguage: t } } async processSubtitleItem(e) {
          const t = await this.fetchSubtitleUrl(`${this.domain}/${e.href}`, e.targetLanguage); if (!t)
            return; const n = await this.getSubtitleText(this.domain + t); const a = pa(n); const l = at(a); return { ...e, id: Qo$1(JSON.stringify(e)), url: l, vvtText: a, isCache: false }
        }

        sortResults(e) { return e.sort((t, n) => n.comment !== t.comment ? n.comment - t.comment : n.downloads - t.downloads) }
      } const Vr = new Dr(); function Nr() { const s = async a => a ? (await Vr.fetchSubtitle(a, 'zh-CN')).map(o => ({ id: o.id, url: o.url, label: o.title, srclang: o.targetLanguage, source: 'Subtitle Cat', kind: 'subtitles' })) : []; const e = async (a) => { const l = await br$1.webApiGetMoviesSubtitle({ pickcode: a }); return Promise.all(l.data.list.map(async (o) => { const u = new URL(o.url); u.protocol = 'https://'; const p = await se.get(u.href); return { id: o.sid, url: at(pa(await p.text())), label: `${o.title}`, source: o.file_id ? 'Upload' : 'Built-in', srclang: o.language || 'zh-CN', kind: 'subtitles' } })) }; const t = (a, l) => a.sort((o, u) => { const p = Dt(o.label, l); return Dt(u.label, l) - p }); return Li(async (a, l, o) => { const u = await Td.getPreference(a); const p = await s(o); const d = await e(a); return [...t(p, l), ...t(d, l)].map(m => ({ ...m, default: u ? u.id === m.id : false })) }, [], { immediate: false }) } const Vt = { maxWidth: 320, maxHeight: 320 }; const fa = { buffer: { name: 'buffer', priority: 2, maxConcurrent: 4 } }; const Ur = { maxConcurrent: 4, maxQueueLength: 1e3, laneConfig: fa }; const Nt = 30; function Hr(s) {
        let e; const t = new Dc(Ur); const n = shallowRef(false); const a = shallowRef(false); const l = shallowRef(Nt); const o = new Map(); const u = shallowRef({ error: undefined }); const p = (h) => { let b = null; return h.forEach((w) => { w.type === 'hls' && (!b || w.quality < b.quality) && (b = w) }), b }; const d = async (h, b) => {
          try {
            n.value = !1; const w = p(h); if (!w)
              throw Bn$1.CANNOT_VIDEO_COVER_WITHOUT_TRANSCODING; e = new Mc({ url: w.url }), await e.open(), l.value = b ?? Nt, n.value = !0
          }
          catch (w) { u.value.error = w }
        }; const m = async (h, b) => {
          const w = await e.seek(b, true); if (!w)
            return; const v = qn$1(w.videoFrame.displayWidth, w.videoFrame.displayHeight, Vt.maxWidth, Vt.maxHeight); const _ = { img: await createImageBitmap(w.videoFrame, { resizeQuality: 'pixelated', resizeWidth: v.width, resizeHeight: v.height }), seekTime: h, seekBlurTime: b, frameTime: w.frameTime, consumedTime: w.consumedTime }; return o.set(b, _), _
        }; const g = async ({ time: h, isLast: b }) => {
          if (u.value.error)
            throw u.value.error; if (!n || Number.isNaN(h))
            return; const w = Cd(h, l.value, e.hlsIo.duration); const v = o.get(w); if (v)
            return v; if (b)
            return await m(h, w)
        }; const T = async () => {
          if (u.value.error)
            throw u.value.error; if (s.value.autoLoadThumbnails === false || a.value)
            return; a.value = true; const h = shuffle(Or(0, e.hlsIo.duration, l.value).filter(b => !o.has(b))); for (const b of h) {
            t.add(async () => { const w = Cd(b, l.value, e.hlsIo.duration); return o.has(w) ? null : await m(b, w) }, { id: b.toString(), lane: fa.buffer.name, priority: 1, immediate: true, action: 'unshift' }).catch((w) => {
              if (w instanceof ae.QueueCleared)
                throw w
            })
          }
        }; const S = () => { o.forEach((h) => { let b; (b = h == null ? undefined : h.img) == null || b.close() }), o.clear() }; const k = () => { e.destroy(), t.clear(), S(), n.value = false, a.value = false }; return Dd(() => { k() }), { isInited: n, isAutoBufferExecuted: a, initialize: d, autoBuffer: T, onThumbnailRequest: g, clear: k }
      } function jr(s) { return new URL(s).pathname.split('.').pop() } function qr() {
        const s = ref([]); return { list: s, fetch: async (n) => {
          const [a, l] = await Promise.allSettled([br$1.getFileDownloadUrl(n), br$1.getM3u8(n)]); if (a.status === 'fulfilled') {
            if (a.value.url.auth_cookie) {
              console.warn('设置cookie', a.value.url.auth_cookie); try { await Xd({ name: a.value.url.auth_cookie.name, value: a.value.url.auth_cookie.value, path: '/', domain: '.115cdn.net', secure: !0, expirationDate: Number(a.value.url.auth_cookie.expire), sameSite: 'no_restriction' }) }
              catch (u) { throw alert('设置cookie失败，请升级浏览器和油猴版本'), u }
            } const o = jr(a.value.url.url) ?? tt.unknown; s.value.unshift({ name: 'Ultra', url: a.value.url.url, type: 'auto', extension: o, quality: 99999, displayQuality: 'Ultra' })
          }l.status === 'fulfilled' ? s.value.push(...l.value.map(o => ({ name: `${o.quality}P`, url: o.url, type: 'hls', extension: tt.m3u8, quality: o.quality, displayQuality: Od[o.quality] }))) : console.error('m3u8', l.reason)
        }, clear: () => { s.value = [] } }
      } const zr = ['checked']; const Wr = ['src']; const si = exports('default', defineComponent({ __name: 'index', setup(s) {
        const e = { container: { main: ['flex flex-col items-center', 'min-h-screen gap-5', 'bg-base-100 text-gray-100', 'sm:[--app-xplayer-ratio:0.3] md:[--app-xplayer-ratio:0.518] lg:[--app-xplayer-ratio:0.618] 2xl:[--app-xplayer-ratio:0.718]', '[--app-playlist-ratio:calc(1-var(--app-xplayer-ratio))]', '[--app-xplayer-width:calc(100%*var(--app-xplayer-ratio))]', '[--app-playlist-width:calc(100%*var(--app-playlist-ratio))]'], showPlaylist: 'show-playlist', pageMain: ['relative w-full h-screen overflow-hidden'], pageFlow: 'flex flex-col gap-8 px-6 xl:px-36 py-8 w-full' }, drawer: { main: 'drawer drawer-end', content: 'drawer-content', side: 'drawer-side', overlay: 'drawer-overlay', toggle: 'drawer-toggle' }, player: { container: 'relative w-full h-screen flex items-center justify-center transition-all duration-200 ease-in-out transform-gpu', containerFold: 'w-(--app-xplayer-width)!', video: 'absolute m-auto w-full h-full overflow-hidden' }, playlist: 'w-(--app-playlist-width)!', controls: { btn: nl.btn, iinaIcon: 'size-8 grayscale invert contrast-200' } }; const t = ref(); const n = Fr(); const a = sr(); const l = qr(); const o = Hr(n); const u = Nr(); const p = Ar(); const d = Ir(); const m = Lr(); const g = Mr(); const T = Er(d); const S = shallowRef(false); const k = computed(() => { let C, F; return { width: Number((C = d.state) == null ? undefined : C.width) ?? 1920, height: Number((F = d.state) == null ? undefined : F.height) ?? 1080 } }); const h = computed(() => k.value.width / k.value.height); const b = computed(() => h.value < 1 ? '1/1' : h.value > 1.78 ? '16/10' : `${k.value.width} / ${k.value.height}`); async function w(C) { await Td.savePreference(a.pickCode.value ?? '', C || null) } async function v(C) {
          let D; if (!a.pickCode.value)
            throw new Error('pickCode is required'); const F = await br$1.getFileDownloadUrl(a.pickCode.value); switch (C) { case 'mpv':open(Jd(F)); break; case 'iina':(D = t.value) == null || D.interruptSource(), setTimeout(() => { open(yl$1(F)) }, 300); break }
        } async function f(C) {
          try {
            if (S.value = !0, !a.cid.value)
              throw new Error('cid is required'); jn$1({ cid: a.cid.value, pickCode: C.pc }), a.getParams(), l.clear(), o.clear(), g.clear(), u.execute(0, a.pickCode.value, d.state.file_name, null), await nextTick(), await O(!1)
          }
          finally { S.value = false }
        } function _() { o.autoBuffer() } function R(C) {
          if (!S.value && g.isinit.value && !(C <= 0)) {
            if (g.handleTimeupdate(C), !a.pickCode.value)
              throw new Error('pickCode is required'); m.updateItemTime(a.pickCode.value, C)
          }
        } function P() { n.value.showPlaylist = false } function I() { n.value.showPlaylist = !n.value.showPlaylist } async function O(C = true) {
          if (!a.pickCode.value)
            throw new Error('pickCode is required'); if (!a.cid.value)
            throw new Error('cid is required'); try { await g.fetch(a.pickCode.value) }
          catch (F) { console.error(F) }l.fetch(a.pickCode.value).then(() => { o.initialize(l.list.value, n.value.thumbnailsSamplingInterval) }), d.execute(0, a.pickCode.value).then((F) => { const D = La(F.file_name); Hd(d.state.file_name || ''), D && (p.javDBState.execute(0, D), p.javBusState.execute(0, D)), u.execute(0, a.pickCode.value, F.file_name, D) }), C && m.execute(0, a.cid.value)
        }onMounted(async () => { await O() }); async function $() { await T.toggleMark(), m.updateItemMark(d.state.pick_code, !!T.isMark.value) } return (C, F) => (openBlock(), createElementBlock('div', { class: normalizeClass(e.container.main) }, [createElementVNode('div', { class: normalizeClass(e.drawer.main) }, [createElementVNode('input', { id: 'playlist-drawer', type: 'checkbox', class: normalizeClass(e.drawer.toggle), checked: unref(n).showPlaylist, onChange: I }, null, 42, zr), createElementVNode('div', { class: normalizeClass(e.drawer.content) }, [createElementVNode('div', { class: normalizeClass(e.container.pageMain) }, [createElementVNode('div', { class: normalizeClass([e.player.container, unref(n).showPlaylist && e.player.containerFold]) }, [createVNode(nr, { 'ref_key': 'xplayerRef', 'ref': t, 'show-playlist': unref(n).showPlaylist, 'onUpdate:showPlaylist': F[1] || (F[1] = D => unref(n).showPlaylist = D), 'volume': unref(n).volume, 'onUpdate:volume': F[2] || (F[2] = D => unref(n).volume = D), 'muted': unref(n).muted, 'onUpdate:muted': F[3] || (F[3] = D => unref(n).muted = D), 'playback-rate': unref(n).playbackRate, 'onUpdate:playbackRate': F[4] || (F[4] = D => unref(n).playbackRate = D), 'auto-load-thumbnails': unref(n).autoLoadThumbnails, 'onUpdate:autoLoadThumbnails': F[5] || (F[5] = D => unref(n).autoLoadThumbnails = D), 'disabled-h-d-r': unref(n).disabledHDR, 'onUpdate:disabledHDR': F[6] || (F[6] = D => unref(n).disabledHDR = D), 'thumbnails-sampling-interval': unref(n).thumbnailsSamplingInterval, 'onUpdate:thumbnailsSamplingInterval': F[7] || (F[7] = D => unref(n).thumbnailsSamplingInterval = D), 'auto-play': unref(n).autoPlay, 'onUpdate:autoPlay': F[8] || (F[8] = D => unref(n).autoPlay = D), 'class': normalizeClass([e.player.video]), 'style': normalizeStyle({ aspectRatio: b.value }), 'video-id': unref(a).pickCode.value, 'sources': unref(l).list, 'subtitles': unref(u).state, 'last-time': unref(g).lastTime.value, 'subtitles-loading': unref(u).isLoading, 'subtitles-ready': unref(u).isReady, 'on-thumbnail-request': unref(o).onThumbnailRequest, 'on-subtitle-change': w, 'on-timeupdate': R, 'on-seeking': unref(g).handleSeek, 'on-seeked': unref(g).handleSeek, 'on-canplay': _ }, { headerLeft: withCtx(() => [createVNode(cr, { 'file-info': unref(d), 'playlist': unref(m) }, null, 8, ['file-info', 'playlist'])]), controlsRight: withCtx(() => [createElementVNode('label', { 'for': 'playlist-drawer', 'class': normalizeClass([e.controls.btn.root, unref(n).showPlaylist && 'btn-active btn-primary']), 'data-tip': '播放列表(B)' }, [createVNode(unref(ho$1), { icon: unref(Yd), class: normalizeClass([e.controls.btn.icon]) }, null, 8, ['icon', 'class'])], 2), unref(d).isReady ? (openBlock(), createElementBlock('button', { 'key': 0, 'class': normalizeClass(['swap swap-rotate', [e.controls.btn.root, { 'swap-active': !unref(T).isMark.value }]]), 'data-tip': '收藏', 'onClick': $ }, [createVNode(unref(ho$1), { class: normalizeClass(['swap-off', [e.controls.btn.icon]]), icon: unref(Vd) }, null, 8, ['class', 'icon']), createVNode(unref(ho$1), { class: normalizeClass(['swap-on', [e.controls.btn.icon]]), icon: unref(Gd) }, null, 8, ['class', 'icon'])], 2)) : createCommentVNode('', true), unref(ri) && unref(d).isReady ? (openBlock(), createElementBlock('button', { 'key': 1, 'class': normalizeClass(e.controls.btn.root), 'data-tip': 'IINA', 'onClick': F[0] || (F[0] = D => v('iina')) }, [createElementVNode('img', { class: normalizeClass(e.controls.iinaIcon), src: unref(vl$1), alt: 'IINA' }, null, 10, Wr)], 2)) : createCommentVNode('', true)]), aboutContent: withCtx(() => [createVNode(ir)]), _: 1 }, 8, ['show-playlist', 'volume', 'muted', 'playback-rate', 'auto-load-thumbnails', 'disabled-h-d-r', 'thumbnails-sampling-interval', 'auto-play', 'class', 'style', 'video-id', 'sources', 'subtitles', 'last-time', 'subtitles-loading', 'subtitles-ready', 'on-thumbnail-request', 'on-seeking', 'on-seeked'])], 2)], 2), unref(Ta) ? (openBlock(), createElementBlock('div', { key: 0, class: normalizeClass(e.container.pageFlow) }, [createVNode(Cr, { 'movie-infos': unref(p) }, null, 8, ['movie-infos'])], 2)) : createCommentVNode('', true)], 2), createElementVNode('div', { class: normalizeClass(e.drawer.side) }, [createElementVNode('label', { 'for': 'playlist-drawer', 'aria-label': 'close sidebar', 'class': normalizeClass(e.drawer.overlay) }, null, 2), createVNode($r, { 'class': normalizeClass(e.playlist), 'pick-code': unref(a).pickCode.value, 'playlist': unref(m), 'visible': unref(n).showPlaylist, 'onPlay': f, 'onClose': P }, null, 8, ['class', 'pick-code', 'playlist', 'visible'])], 2)], 2)], 2))
      } }))
    },
  }
})

System.import('./__entry.js', './')
